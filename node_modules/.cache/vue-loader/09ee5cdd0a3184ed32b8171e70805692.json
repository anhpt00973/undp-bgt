{"remainingRequest":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vuejs-sourcode\\undp-bgt\\src\\views\\FormThemThanhPhan.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vuejs-sourcode\\undp-bgt\\src\\views\\FormThemThanhPhan.vue","mtime":1665455654857},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053119199},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053120378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmltcG9ydCAkIGZyb20gJ2pxdWVyeScNCmltcG9ydCB0b2FzdHIgZnJvbSAndG9hc3RyJw0KdG9hc3RyLm9wdGlvbnMgPSB7DQogICdjbG9zZUJ1dHRvbic6IHRydWUsDQogICd0aW1lT3V0JzogJzUwMDAnLA0KICAicG9zaXRpb25DbGFzcyI6ICJ0b2FzdC10b3AtY2VudGVyIg0KfQ0KZXhwb3J0IGRlZmF1bHQgew0KICAgIHByb3BzOiBbIm1hdU5oYXAiLCAiZGF0YUlucHV0IiwgInJlYWRvbmx5IiwgInRob25ndGludGhhbmhwaGFuIl0sDQogICAgY29tcG9uZW50czogew0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgICBsb2FkaW5nRGF0YTogZmFsc2UsDQogICAgICAgIHZhbGlkRm9ybUFkZDogZmFsc2UsDQogICAgICAgIGRhdGE6IHt9LA0KICAgICAgICByZXF1aXJlZDogWw0KICAgICAgICAgIHYgPT4gKHYgIT09ICcnICYmIHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkKSB8fCAnVGjDtG5nIHRpbiBi4bqvdCBideG7mWMnDQogICAgICAgIF0sDQogICAgICAgIHJ1bGVzOiB7DQogICAgICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgJ1Row7RuZyB0aW4gYuG6r3QgYnXhu5ljJw0KICAgICAgICB9LA0KICAgICAgICBmaWxlVXBsb2FkOiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCAoKSB7DQogICAgICBsZXQgdm0gPSB0aGlzDQogICAgICB2bS4kc3RvcmUuY29tbWl0KCdTRVRfSU5ERVhUQUInLCAwKQ0KICAgIH0sDQogICAgd2F0Y2g6IHsNCiAgICAgICckcm91dGUnOiBmdW5jdGlvbiAobmV3Um91dGUsIG9sZFJvdXRlKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnU0VUX0lOREVYVEFCJywgMCkNCiAgICAgIH0sDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICBwcm9jZXNzUnVsZXMgKHJ1bGVzU3RyKSB7DQogICAgICAgIGxldCBydWxlc0lucHV0ID0gW10NCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBpZiAocnVsZXNTdHIpIHsNCiAgICAgICAgICAgIHJ1bGVzSW5wdXQgPSBldmFsKCcoICcgKyBydWxlc1N0ciArICcgKScpDQogICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB9DQogICAgICAgIHJldHVybiBydWxlc0lucHV0DQogICAgICB9LA0KICAgICAgcGlja0ZpbGVVcGxvYWQgKCkgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZV91cGxvYWQnKS52YWx1ZSA9ICcnDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlX3VwbG9hZCcpLmNsaWNrKCkNCiAgICAgIH0sDQogICAgICB1cGxvYWRGaWxlICgpIHsNCiAgICAgICAgbGV0IHZtID0gdGhpcw0KICAgICAgICBsZXQgZmlsZXMgPSAkKCcjZmlsZV91cGxvYWQnKVswXS5maWxlcw0KICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZmlsZXMubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgICAgdm0uZmlsZVVwbG9hZC5wdXNoKHsNCiAgICAgICAgICAgIG5hbWU6IGZpbGVzW2luZGV4XVsnbmFtZSddDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGRlbGV0ZUZpbGVBdHRhY2sgKGl0ZW0sIGluZGV4KSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgaWYgKCFpdGVtLmlkKSB7DQogICAgICAgICAgdm0uZmlsZVVwbG9hZC5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnU0VUX1NIT1dDT05GSVJNJywgdHJ1ZSkNCiAgICAgICAgICBsZXQgY29uZmlybSA9IHsNCiAgICAgICAgICAgIGF1dGg6IGZhbHNlLA0KICAgICAgICAgICAgdGl0bGU6ICdYw7NhIHTDoGkgbGnhu4d1IMSRw61uaCBrw6htJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICdC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSB0w6BpIGxp4buHdSBuw6B5JywNCiAgICAgICAgICAgIGJ1dHRvbjogew0KICAgICAgICAgICAgICB5ZXM6ICdDw7MnLA0KICAgICAgICAgICAgICBubzogJ0tow7RuZycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gew0KICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gew0KICAgICAgICAgICAgICAgIGlkVGhhbmhQaGFuOiB2bS50aG9uZ3RpbnRoYW5ocGhhbi5wcmltS2V5LA0KICAgICAgICAgICAgICAgIGlkRmlsZTogaXRlbS5pZA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnZGVsZXRlRmlsZScsIGZpbHRlcikudGhlbihmdW5jdGlvbihyZXN1bHQpIHsNCiAgICAgICAgICAgICAgICB2bS5maWxlVXBsb2FkLnNwbGljZShpbmRleCwgMSkNCiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnWMOzYSB0w6BpIGxp4buHdSDEkcOtbmgga8OobSB0aMOgbmggY8O0bmcnKQ0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdYw7NhIHTDoGkgbGnhu4d1IMSRw61uaCBrw6htIHRo4bqldCBi4bqhaScpDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIHZtLiRzdG9yZS5jb21taXQoJ1NFVF9DT05GSUdfQ09ORklSTV9ESUFMT0cnLCBjb25maXJtKQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZ2V0RXh0ZW5zaW9uIChmaWxlKSB7DQogICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1teLl0rJCcpOw0KICAgICAgICB2YXIgZXh0ZW5zaW9uID0gZmlsZS5uYW1lLm1hdGNoKHJlZ2V4KTsNCiAgICAgICAgcmV0dXJuIGV4dGVuc2lvblswXS50b0xvY2FsZUxvd2VyQ2FzZSgpDQogICAgICB9LA0KICAgICAgdmlld0ZpbGVVcGxvYWQgKCkgew0KICAgICAgICBsZXQgdm0gPSB0aGlzDQogICAgICB9LA0KICAgICAgZG93bmxvYWRGaWxlIChmaWxlKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdkb3dubG9hZEZpbGUnLCBmaWxlKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkgew0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbigpe30pDQogICAgICB9LA0KICAgICAgc3VibWl0VGFvQmFvQ2FvICh0eXBlKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgY29uc29sZS5sb2coJ2RhdGFGb3JtT3V0cHV0Jywgdm0uZGF0YSkNCiAgICAgICAgbGV0IGRhdGFPdXRwdXQgPSBPYmplY3QuYXNzaWduKHt9LCB2bS5kYXRhKQ0KICAgICAgICBmb3IgKGxldCBrZXkgaW4gdm0ubWF1TmhhcCkgew0KICAgICAgICAgIGxldCBpdGVtQ29uZmlnID0gdm0ubWF1TmhhcFtrZXldDQogICAgICAgICAgaWYgKGl0ZW1Db25maWcudHlwZSA9PSAnZGF0ZScgJiYgZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dKSB7DQogICAgICAgICAgICBkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0gPSB2bS5jb252ZXJ0RGF0ZShkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0pDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChpdGVtQ29uZmlnLnR5cGUgPT0gJ21vbmV5JyAmJiBkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0pIHsNCiAgICAgICAgICAgIGRhdGFPdXRwdXRbaXRlbUNvbmZpZ1snbmFtZSddXSA9IE51bWJlcihkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0udG9TdHJpbmcoKS5yZXBsYWNlKC9cLi9nLCAnJykpDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChpdGVtQ29uZmlnLnR5cGUgPT0gJ3NlbGVjdCcgJiYgZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dKSB7DQogICAgICAgICAgICBsZXQgZGF0YUN2ID0gQXJyYXkuaXNBcnJheShkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0pID8gZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dIDogW2RhdGFPdXRwdXRbaXRlbUNvbmZpZ1snbmFtZSddXV0NCiAgICAgICAgICAgIGxldCBkYXRhQXJyYXkgPSBBcnJheS5mcm9tKGRhdGFDdiwgZnVuY3Rpb24gKGl0ZW0pIHsNCiAgICAgICAgICAgICAgbGV0IGl0ZW1HZXQgPSB7fQ0KICAgICAgICAgICAgICBpdGVtR2V0W2l0ZW1Db25maWdbJ2l0ZW1UZXh0J11dID0gaXRlbVtpdGVtQ29uZmlnWydpdGVtVGV4dCddXQ0KICAgICAgICAgICAgICBpdGVtR2V0W2l0ZW1Db25maWdbJ2l0ZW1WYWx1ZSddXSA9IGl0ZW1baXRlbUNvbmZpZ1snaXRlbVZhbHVlJ11dDQogICAgICAgICAgICAgIHJldHVybiBpdGVtR2V0DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dID0gZGF0YUFycmF5DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHZtLiRzdG9yZS5jb21taXQoJ1NFVF9GT1JNX0RBVEEnLCBkYXRhT3V0cHV0KQ0KICAgICAgfSwNCiAgICAgIGluaXRGb3JtICh0eXBlKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgZm9yIChsZXQga2V5IGluIHZtLm1hdU5oYXApIHsNCiAgICAgICAgICBsZXQgaXRlbURhdGEgPSB2bS5tYXVOaGFwW2tleV0NCiAgICAgICAgICBpZiAoaXRlbURhdGFbJ3R5cGUnXSA9PT0gJ3NlbGVjdCcgJiYgaXRlbURhdGEuaGFzT3duUHJvcGVydHkoJ2FwaScpICYmIGl0ZW1EYXRhWydhcGknXSkgew0KICAgICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdsb2FkRGF0YVNvdXJjZScsIGl0ZW1EYXRhKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkgew0KICAgICAgICAgICAgICBsZXQgcmVzdWx0RGF0YSA9IGl0ZW1EYXRhWydyZXNwb25zZURhdGFBcGknXSA/IHJlc3VsdFtpdGVtRGF0YVsncmVzcG9uc2VEYXRhQXBpJ11dIDogcmVzdWx0DQogICAgICAgICAgICAgIHZtLiRzZXQodm0ubWF1TmhhcFtrZXldLCAnZGF0YVNvdXJjZScsIHJlc3VsdERhdGEpDQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbigpe30pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICh0eXBlID09PSAndXBkYXRlJyAmJiB2bS5kYXRhSW5wdXQpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZV91cGxvYWQnKS52YWx1ZSA9ICcnDQogICAgICAgICAgdm0uZmlsZVVwbG9hZCA9IFtdDQogICAgICAgICAgdm0uZGF0YSA9IHZtLmRhdGFJbnB1dA0KICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgdm0uZGF0YSkNCiAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdm0uZGF0YSkgew0KICAgICAgICAgICAgbGV0IGZpbHRlciA9IHZtLm1hdU5oYXAuZmluZChmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09IGtleQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLnR5cGUgPT09ICdkYXRlJykgew0KICAgICAgICAgICAgICB2bS5kYXRhW2tleV0gPSB2bS5kYXRlTG9jYWxlKHZtLmRhdGFba2V5XSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLnR5cGUgPT09ICdtb25leScpIHsNCiAgICAgICAgICAgICAgdm0uZGF0YVtrZXldID0gdm0uY3VycmVuY3kodm0uZGF0YVtrZXldKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIudHlwZSA9PT0gJ3NlbGVjdCcgJiYgIWZpbHRlclsnbXVsdGlwbGUnXSkgew0KICAgICAgICAgICAgICB2bS5kYXRhW2tleV0gPSBBcnJheS5pc0FycmF5KHZtLmRhdGFba2V5XSkgPyB2bS5kYXRhW2tleV1bMF0gOiB2bS5kYXRhW2tleV0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLnR5cGUgPT09ICdhdHRhY2snKSB7DQogICAgICAgICAgICAgIHZtLmZpbGVVcGxvYWQgPSBbXS5jb25jYXQodm0uZGF0YVtrZXldKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB2bS4kcmVmcy5mb3JtVGhhbmhQaGFuLnJlc2V0VmFsaWRhdGlvbigpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVfdXBsb2FkJykudmFsdWUgPSAnJw0KICAgICAgICAgIHZtLmZpbGVVcGxvYWQgPSBbXQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgdmFsaWRhdGVGb3JtICgpIHsNCiAgICAgICAgbGV0IHZtID0gdGhpcw0KICAgICAgICByZXR1cm4gdm0uJHJlZnMuZm9ybVRoYW5oUGhhbi52YWxpZGF0ZSgpDQogICAgICB9LA0KICAgICAgZm9ybWF0QmlydGhEYXRlIChuYW1lKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgbGV0IGxlbmd0aERhdGUgPSBTdHJpbmcodm0uZGF0YVtuYW1lXSkudHJpbSgpLmxlbmd0aA0KICAgICAgICBsZXQgc3BsaXREYXRlID0gU3RyaW5nKHZtLmRhdGFbbmFtZV0pLnNwbGl0KCcvJykNCiAgICAgICAgbGV0IHNwbGl0RGF0ZTIgPSBTdHJpbmcodm0uZGF0YVtuYW1lXSkuc3BsaXQoJy0nKQ0KICAgICAgICBpZiAobGVuZ3RoRGF0ZSAmJiBsZW5ndGhEYXRlID4gNCAmJiBzcGxpdERhdGUubGVuZ3RoID09PSAzICYmIHNwbGl0RGF0ZVsyXSkgew0KICAgICAgICAgIHZtLmRhdGFbbmFtZV0gPSB2bS50cmFuc2xhdGVEYXRlKHZtLmRhdGFbbmFtZV0pDQogICAgICAgIH0gZWxzZSBpZiAobGVuZ3RoRGF0ZSAmJiBsZW5ndGhEYXRlID09PSA4KSB7DQogICAgICAgICAgbGV0IGRhdGUgPSBTdHJpbmcodm0uZGF0YVtuYW1lXSkNCiAgICAgICAgICB2bS5kYXRhW25hbWVdID0gZGF0ZS5zbGljZSgwLDIpICsgJy8nICsgZGF0ZS5zbGljZSgyLDQpICsgJy8nICsgZGF0ZS5zbGljZSg0LDgpDQogICAgICAgIH0gZWxzZSBpZiAoc3BsaXREYXRlMlsxXSkgew0KICAgICAgICAgIHZtLmRhdGFbbmFtZV0gPSB2bS5kYXRlTG9jYWxlKHZtLmRhdGFbbmFtZV0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdm0uZGF0YVtuYW1lXSA9ICcnDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBjdXJyZW5jeSAodmFsdWUpIHsNCiAgICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgICAgbGV0IG1vbmV5Q3VyID0gKHZhbHVlIC8gMSkudG9GaXhlZCgwKS5yZXBsYWNlKCcuJywgJywnKQ0KICAgICAgICAgIHJldHVybiBtb25leUN1ci50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICcuJykNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJycNCiAgICAgIH0sDQogICAgICB0b0N1cnJlbmN5IChuYW1lKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgaWYgKHZtLmRhdGFbbmFtZV0pIHsNCiAgICAgICAgICBsZXQgZGF0YV9udW1iZXIgPSBOdW1iZXIodm0uZGF0YVtuYW1lXS50b1N0cmluZygpLnJlcGxhY2UoL1wuL2csICcnKSkNCiAgICAgICAgICBsZXQgbW9uZXlDdXIgPSAoZGF0YV9udW1iZXIgLyAxKS50b0ZpeGVkKDApLnJlcGxhY2UoJy4nLCAnLCcpDQogICAgICAgICAgVnVlLnNldCh2bS5kYXRhLCBuYW1lLCBtb25leUN1ci50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICcuJykpDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICB0cmFuc2xhdGVEYXRlIChkYXRlKSB7DQogICAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGwNCiAgICAgICAgY29uc3QgW2RheSwgbW9udGgsIHllYXJdID0gZGF0ZS5zcGxpdCgnLycpDQogICAgICAgIHJldHVybiBgJHtkYXkucGFkU3RhcnQoMiwgJzAnKX0vJHttb250aC5wYWRTdGFydCgyLCAnMCcpfS8ke3llYXJ9YA0KICAgICAgfSwNCiAgICAgIGRhdGVMb2NhbGUgKGRhdGVJbnB1dCkgew0KICAgICAgICBpZiAoIWRhdGVJbnB1dCkgcmV0dXJuICcnDQogICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoZGF0ZUlucHV0KQ0KICAgICAgICByZXR1cm4gYCR7ZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS8keyhkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LyR7ZGF0ZS5nZXRGdWxsWWVhcigpfWANCiAgICAgIH0sDQogICAgICBjb252ZXJ0RGF0ZSAoZGF0ZSkgew0KICAgICAgICBpZiAoIWRhdGUpIHJldHVybiAnJw0KICAgICAgICBjb25zdCBbZGF5LCBtb250aCwgeWVhcl0gPSBkYXRlLnNwbGl0KCcvJykNCiAgICAgICAgbGV0IGRkZCA9IGAke3llYXJ9LSR7bW9udGgucGFkU3RhcnQoMiwgJzAnKX0tJHtkYXkucGFkU3RhcnQoMiwgJzAnKX1gDQogICAgICAgIHJldHVybiAobmV3IERhdGUoZGRkKSkudG9JU09TdHJpbmcoKQ0KICAgICAgfSwNCiAgICAgIHJlc2V0Rm9ybSAoKSB7DQogICAgICAgIGxldCB2bSA9IHRoaXMNCiAgICAgICAgdm0uJHJlZnMuZm9ybVRoYW5oUGhhbi5yZXNldCgpDQogICAgICAgIHZtLiRyZWZzLmZvcm1UaGFuaFBoYW4ucmVzZXRWYWxpZGF0aW9uKCkNCiAgICAgIH0sDQogICAgICBnb0JhY2sgKCkgew0KICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCkNCiAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["FormThemThanhPhan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormThemThanhPhan.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-card\r\n    class=\"mx-auto\"\r\n    flat\r\n  >\r\n    <v-form\r\n      ref=\"formThanhPhan\"\r\n      v-model=\"validFormAdd\"\r\n      lazy-validation\r\n      class=\"mt-2\"\r\n    >\r\n      <v-layout wrap>\r\n\r\n        <div v-for=\"(item, index) in mauNhap\" v-bind:key=\"index\" :class=\"item['fieldClass']\" class=\"py-0 mb-2\">\r\n          <label>{{item.title}} <span class=\"red--text\" v-if=\"item.required\">(*)</span></label>\r\n          \r\n          <!-- cơ quan ban hành -->\r\n          <v-text-field\r\n            v-if=\"item.type === 'textfield'\"\r\n            class=\"flex input-form\"\r\n            v-model=\"data[item.name]\"\r\n            :placeholder=\"item['placeHolder']\"\r\n            :items=\"item.dataSource\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-text-field>\r\n\r\n          <v-textarea\r\n            v-if=\"item.type === 'textarea'\"\r\n            class=\"flex input-form\"\r\n            v-model=\"data[item.name]\"\r\n            :placeholder=\"item['placeHolder']\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rows=\"item.hasOwnProperty('rows') ? item.rows : 3\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-textarea>\r\n\r\n          <!-- ngày ban hành -->\r\n          <v-text-field\r\n            v-if=\"item.type === 'date'\"\r\n            class=\"flex input-form\"\r\n            v-model=\"data[item.name]\"\r\n            placeholder=\"dd/mm/yyyy, ddmmyyyy\"\r\n            @blur=\"formatBirthDate(item.name)\"\r\n            @input=\"formatBirthDate(item.name)\"\r\n            @change=\"formatBirthDate(item.name)\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            v-if=\"item.type === 'money'\"\r\n            class=\"flex input-form\"\r\n            @input=\"toCurrency(item.name)\"\r\n            v-model=\"data[item.name]\"\r\n            :placeholder=\"item['placeHolder']\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-text-field>\r\n\r\n          <v-autocomplete\r\n            v-if=\"item.type === 'select' && !item.api\"\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            v-model=\"data[item.name]\"\r\n            :items=\"item.dataSource\"\r\n            :multiple=\"item['multiple']\"\r\n            :item-text=\"item.itemText\"\r\n            :item-value=\"item.itemValue\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            return-object\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          >\r\n          </v-autocomplete>\r\n          \r\n          <!-- phạm vi, vùng tác động -->\r\n          <v-autocomplete\r\n            v-if=\"item.type === 'select' && item.api\"\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            v-model=\"data[item.name]\"\r\n            :items=\"item.dataSource\"\r\n            :multiple=\"item['multiple']\"\r\n            :item-text=\"item.itemText\"\r\n            :item-value=\"item.itemValue\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            return-object\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          >\r\n          </v-autocomplete>\r\n\r\n          <!-- tải lên tài liệu đính kèm  -->\r\n          <div class=\"col-12\" v-if=\"item.type === 'attack'\" style=\"border: 1px solid #D9D9D9\">\r\n            <input type=\"file\" id=\"file_upload\" :multiple=\"item.multiple\" @input=\"uploadFile()\" style=\"display:none\">\r\n            <div v-if=\"fileUpload && fileUpload.length\">\r\n              <div class=\"pb-2\" @click=\"viewFileUpload()\" v-for=\"(item, key) in fileUpload\" v-bind:key=\"key\" >\r\n                <v-icon size=\"18\" color=\"green\" v-if=\"getExtension(item) === 'xls' || getExtension(item) === 'xlsx'\">mdi-file-excel-outline</v-icon>\r\n                <v-icon size=\"18\" color=\"blue\" v-else-if=\"getExtension(item) === 'doc' || getExtension(item) === 'docx'\">mdi-file-word-outline</v-icon>\r\n                <v-icon size=\"18\" color=\"red\" v-else-if=\"getExtension(item) === 'pdf'\">mdi-file-pdf-box</v-icon>\r\n                <v-icon size=\"18\" color=\"blue\" v-else-if=\"getExtension(item) === 'png' || getExtension(item) === 'jpg' || getExtension(item) === 'jpeg'\">mdi-file-image</v-icon>\r\n                <v-icon size=\"18\" color=\"#2161b1\" v-else>mdi-paperclip</v-icon>\r\n                <a class=\"ml-2\" style=\"font-size: 14px;text-decoration: underline;\">{{item.name}}</a>\r\n                <v-tooltip top v-if=\"item.id\">\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn @click=\"downloadFile(item, key)\" color=\"blue\" text icon class=\"mx-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                      <v-icon size=\"18\">mdi-cloud-download-outline</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>Tải xuống</span>\r\n                </v-tooltip>\r\n                <v-tooltip top v-if=\"!readonly\">\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn @click=\"deleteFileAttack(item, key)\" color=\"red\" text icon class=\"mx-0\" v-bind=\"attrs\" v-on=\"on\">\r\n                      <v-icon size=\"18\">mdi-close-circle</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>Xóa</span>\r\n                </v-tooltip>\r\n              </div>\r\n            </div>\r\n            \r\n            <div v-else>\r\n              <span>Không có giấy tờ đính kèm!</span>\r\n            </div>\r\n            <v-btn\r\n              v-if=\"!readonly\"\r\n              class=\"btn-form my-2 mx-0 mr-2 left\" small\r\n              color=\"primary\"\r\n              :loading=\"loading\" :disabled=\"loading\"\r\n              @click.stop=\"pickFileUpload()\"\r\n            >\r\n              <v-icon size=\"18\">mdi-cloud-upload-outline</v-icon>&nbsp;\r\n              Tải lên tài liệu đính kèm\r\n            </v-btn>\r\n          </div>\r\n          \r\n        </div>\r\n      </v-layout>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport $ from 'jquery'\r\nimport toastr from 'toastr'\r\ntoastr.options = {\r\n  'closeButton': true,\r\n  'timeOut': '5000',\r\n  \"positionClass\": \"toast-top-center\"\r\n}\r\nexport default {\r\n    props: [\"mauNhap\", \"dataInput\", \"readonly\", \"thongtinthanhphan\"],\r\n    components: {\r\n    },\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        loadingData: false,\r\n        validFormAdd: false,\r\n        data: {},\r\n        required: [\r\n          v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'\r\n        ],\r\n        rules: {\r\n          required: value => !!value || 'Thông tin bắt buộc'\r\n        },\r\n        fileUpload: []\r\n      }\r\n    },\r\n    created () {\r\n      let vm = this\r\n      vm.$store.commit('SET_INDEXTAB', 0)\r\n    },\r\n    watch: {\r\n      '$route': function (newRoute, oldRoute) {\r\n        let vm = this\r\n        vm.$store.commit('SET_INDEXTAB', 0)\r\n      },\r\n    },\r\n    methods: {\r\n      processRules (rulesStr) {\r\n        let rulesInput = []\r\n        try {\r\n          if (rulesStr) {\r\n            rulesInput = eval('( ' + rulesStr + ' )')\r\n          }\r\n        } catch (error) {\r\n        }\r\n        return rulesInput\r\n      },\r\n      pickFileUpload () {\r\n        document.getElementById('file_upload').value = ''\r\n        document.getElementById('file_upload').click()\r\n      },\r\n      uploadFile () {\r\n        let vm = this\r\n        let files = $('#file_upload')[0].files\r\n        for (let index = 0; index < files.length; index++) {\r\n          vm.fileUpload.push({\r\n            name: files[index]['name']\r\n          })\r\n        }\r\n      },\r\n      deleteFileAttack (item, index) {\r\n        let vm = this\r\n        if (!item.id) {\r\n          vm.fileUpload.splice(index, 1)\r\n        } else {\r\n          vm.$store.commit('SET_SHOWCONFIRM', true)\r\n          let confirm = {\r\n            auth: false,\r\n            title: 'Xóa tài liệu đính kèm',\r\n            message: 'Bạn có chắc chắn muốn xóa tài liệu này',\r\n            button: {\r\n              yes: 'Có',\r\n              no: 'Không'\r\n            },\r\n            callback: () => {\r\n              let filter = {\r\n                idThanhPhan: vm.thongtinthanhphan.primKey,\r\n                idFile: item.id\r\n              }\r\n              vm.$store.dispatch('deleteFile', filter).then(function(result) {\r\n                vm.fileUpload.splice(index, 1)\r\n                toastr.success('Xóa tài liệu đính kèm thành công')\r\n              }).catch(function(){\r\n                toastr.success('Xóa tài liệu đính kèm thất bại')\r\n              })\r\n            }\r\n          }\r\n          vm.$store.commit('SET_CONFIG_CONFIRM_DIALOG', confirm)\r\n        }\r\n      },\r\n      getExtension (file) {\r\n        var regex = new RegExp('[^.]+$');\r\n        var extension = file.name.match(regex);\r\n        return extension[0].toLocaleLowerCase()\r\n      },\r\n      viewFileUpload () {\r\n        let vm = this\r\n      },\r\n      downloadFile (file) {\r\n        let vm = this\r\n        vm.$store.dispatch('downloadFile', file).then(function(result) {\r\n        }).catch(function(){})\r\n      },\r\n      submitTaoBaoCao (type) {\r\n        let vm = this\r\n        console.log('dataFormOutput', vm.data)\r\n        let dataOutput = Object.assign({}, vm.data)\r\n        for (let key in vm.mauNhap) {\r\n          let itemConfig = vm.mauNhap[key]\r\n          if (itemConfig.type == 'date' && dataOutput[itemConfig['name']]) {\r\n            dataOutput[itemConfig['name']] = vm.convertDate(dataOutput[itemConfig['name']])\r\n          }\r\n          if (itemConfig.type == 'money' && dataOutput[itemConfig['name']]) {\r\n            dataOutput[itemConfig['name']] = Number(dataOutput[itemConfig['name']].toString().replace(/\\./g, ''))\r\n          }\r\n          if (itemConfig.type == 'select' && dataOutput[itemConfig['name']]) {\r\n            let dataCv = Array.isArray(dataOutput[itemConfig['name']]) ? dataOutput[itemConfig['name']] : [dataOutput[itemConfig['name']]]\r\n            let dataArray = Array.from(dataCv, function (item) {\r\n              let itemGet = {}\r\n              itemGet[itemConfig['itemText']] = item[itemConfig['itemText']]\r\n              itemGet[itemConfig['itemValue']] = item[itemConfig['itemValue']]\r\n              return itemGet\r\n            })\r\n            dataOutput[itemConfig['name']] = dataArray\r\n          }\r\n        }\r\n        vm.$store.commit('SET_FORM_DATA', dataOutput)\r\n      },\r\n      initForm (type) {\r\n        let vm = this\r\n        for (let key in vm.mauNhap) {\r\n          let itemData = vm.mauNhap[key]\r\n          if (itemData['type'] === 'select' && itemData.hasOwnProperty('api') && itemData['api']) {\r\n            vm.$store.dispatch('loadDataSource', itemData).then(function(result) {\r\n              let resultData = itemData['responseDataApi'] ? result[itemData['responseDataApi']] : result\r\n              vm.$set(vm.mauNhap[key], 'dataSource', resultData)\r\n            }).catch(function(){})\r\n          }\r\n        }\r\n        if (type === 'update' && vm.dataInput) {\r\n          document.getElementById('file_upload').value = ''\r\n          vm.fileUpload = []\r\n          vm.data = vm.dataInput\r\n          console.log('data', vm.data)\r\n          for (let key in vm.data) {\r\n            let filter = vm.mauNhap.find(function (item) {\r\n              return item.name == key\r\n            })\r\n            if (filter && filter.type === 'date') {\r\n              vm.data[key] = vm.dateLocale(vm.data[key])\r\n            }\r\n            if (filter && filter.type === 'money') {\r\n              vm.data[key] = vm.currency(vm.data[key])\r\n            }\r\n            if (filter && filter.type === 'select' && !filter['multiple']) {\r\n              vm.data[key] = Array.isArray(vm.data[key]) ? vm.data[key][0] : vm.data[key]\r\n            }\r\n            if (filter && filter.type === 'attack') {\r\n              vm.fileUpload = [].concat(vm.data[key])\r\n            }\r\n          }\r\n          vm.$refs.formThanhPhan.resetValidation()\r\n        } else {\r\n          document.getElementById('file_upload').value = ''\r\n          vm.fileUpload = []\r\n        }\r\n      },\r\n      validateForm () {\r\n        let vm = this\r\n        return vm.$refs.formThanhPhan.validate()\r\n      },\r\n      formatBirthDate (name) {\r\n        let vm = this\r\n        let lengthDate = String(vm.data[name]).trim().length\r\n        let splitDate = String(vm.data[name]).split('/')\r\n        let splitDate2 = String(vm.data[name]).split('-')\r\n        if (lengthDate && lengthDate > 4 && splitDate.length === 3 && splitDate[2]) {\r\n          vm.data[name] = vm.translateDate(vm.data[name])\r\n        } else if (lengthDate && lengthDate === 8) {\r\n          let date = String(vm.data[name])\r\n          vm.data[name] = date.slice(0,2) + '/' + date.slice(2,4) + '/' + date.slice(4,8)\r\n        } else if (splitDate2[1]) {\r\n          vm.data[name] = vm.dateLocale(vm.data[name])\r\n        } else {\r\n          vm.data[name] = ''\r\n        }\r\n      },\r\n      currency (value) {\r\n        if (value) {\r\n          let moneyCur = (value / 1).toFixed(0).replace('.', ',')\r\n          return moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n        }\r\n        return ''\r\n      },\r\n      toCurrency (name) {\r\n        let vm = this\r\n        if (vm.data[name]) {\r\n          let data_number = Number(vm.data[name].toString().replace(/\\./g, ''))\r\n          let moneyCur = (data_number / 1).toFixed(0).replace('.', ',')\r\n          Vue.set(vm.data, name, moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.'))\r\n        }\r\n      },\r\n      translateDate (date) {\r\n        if (!date) return null\r\n        const [day, month, year] = date.split('/')\r\n        return `${day.padStart(2, '0')}/${month.padStart(2, '0')}/${year}`\r\n      },\r\n      dateLocale (dateInput) {\r\n        if (!dateInput) return ''\r\n        let date = new Date(dateInput)\r\n        return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`\r\n      },\r\n      convertDate (date) {\r\n        if (!date) return ''\r\n        const [day, month, year] = date.split('/')\r\n        let ddd = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n        return (new Date(ddd)).toISOString()\r\n      },\r\n      resetForm () {\r\n        let vm = this\r\n        vm.$refs.formThanhPhan.reset()\r\n        vm.$refs.formThanhPhan.resetValidation()\r\n      },\r\n      goBack () {\r\n        window.history.back()\r\n      }\r\n    }\r\n}\r\n</script>"]}]}
{"remainingRequest":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vuejs-sourcode\\undp-bgt\\src\\views\\CanBo.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vuejs-sourcode\\undp-bgt\\src\\views\\CanBo.vue","mtime":1665053037812},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053119199},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053120378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi9QYWdpbmF0aW9uLnZ1ZScKICBpbXBvcnQgdG9hc3RyIGZyb20gJ3RvYXN0cicKICB0b2FzdHIub3B0aW9ucyA9IHsKICAgICdjbG9zZUJ1dHRvbic6IHRydWUsCiAgICAndGltZU91dCc6ICc1MDAwJywKICAgICJwb3NpdGlvbkNsYXNzIjogInRvYXN0LXRvcC1jZW50ZXIiCiAgfQogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdDYW5CbycsCiAgICBjb21wb25lbnRzOiB7CiAgICAgIFBhZ2luYXRpb24KICAgIH0sCiAgICBwcm9wczogW10sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZ0RhdGE6IGZhbHNlLAogICAgICBpdGVtc0RvblZpOiBbXSwKICAgICAgaXRlbXNUcmFuZ1RoYWk6IFtdLAogICAgICB0cmFuZ1RoYWk6ICcnLAogICAgICBrZXl3b3JkU2VhcmNoOiAnJywKICAgICAgZG9uVmlTZWFyY2g6ICcnLAogICAgICBwaG9uZ0JhblNlYXJjaDogJycsCiAgICAgIHRyYW5nVGhhaVNlYXJjaDogJycsCiAgICAgIGNodWNWdVNlYXJjaDogJycsCiAgICAgIHZhbGlkRm9ybUFjdGlvbkFjY291bnQ6IHRydWUsCiAgICAgIGRpYWxvZ05vdGVBY3Rpb246IGZhbHNlLAogICAgICB0aXRsZUFjdGlvbjogJycsCiAgICAgIG5vdGVBY3Rpb246ICcnLAogICAgICBhY3Rpb25TdGF0dXNBY2M6ICcnLAogICAgICBkaWFsb2dTdGF0dXNBY2NMb2c6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgewogICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICAgIHRleHQ6ICdTVFQnLAogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgIHZhbHVlOiAnaW5kZXgnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgICAgdGV4dDogJ03DoyBjw6FuIGLhu5knLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICB2YWx1ZTogJ21hU29DYW5CbycKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgICB0ZXh0OiAnSOG7jSB0w6puJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgdmFsdWU6ICdob1ZhVGVuJwogICAgICAgIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgLy8gICAgIHRleHQ6ICdQaMOybmcgYmFuJywKICAgICAgICAvLyAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAvLyAgICAgdmFsdWU6ICdwaG9uZ0JhbicKICAgICAgICAvLyB9LAogICAgICAgIHsKICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgICB0ZXh0OiAnxJDGoW4gduG7iyBjw7RuZyB0w6FjJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgdmFsdWU6ICdjb1F1YW5Eb25WaScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgICB0ZXh0OiAnQ2jhu6ljIHbhu6UnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICB2YWx1ZTogJ3ZpVHJpQ2h1Y0RhbmgnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgICAgdGV4dDogJ1Phu5EgxJFp4buHbiB0aG/huqFpLyBlbWFpbCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIHZhbHVlOiAnZGFuaEJhTGllbkxhYycKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgICB0ZXh0OiAnVMOsbmggdHLhuqFuZyBjw7RuZyB0w6FjJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgdmFsdWU6ICd0aW5oVHJhbmdDb25nVGFjJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICAgIHRleHQ6ICdUaGFvIHTDoWMnLAogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgIHZhbHVlOiAnYWN0aW9uJwogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGl0ZW1zQ2FuQm86IFtdLAogICAgICBwYWdlOiAwLAogICAgICBpdGVtc1BlclBhZ2U6IDE1LAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZUNvdW50OiAyLAogICAgICB0aG9uZ1RpbkNhbkJvOiB7CiAgICAgICAgInByaW1LZXkiOiAiIiwKICAgICAgICAidGVuR29pIjogIiIsCiAgICAgICAgImhvVmFUZW4iOiAiIiwKICAgICAgICAiYmlEYW5oIjogIiIsCiAgICAgICAgIm5nYXlTaW5oIjogIiIsCiAgICAgICAgImdpb2lUaW5oIjogewogICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICB9LAogICAgICAgICJub2lTaW5oIjogewogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0sCiAgICAgICAgICAicGh1b25nWGEiOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJxdWVRdWFuIjogewogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0sCiAgICAgICAgICAicGh1b25nWGEiOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJkYW5Ub2MiOiB7CiAgICAgICAgICAibWFNdWMiOiAiIiwKICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgIH0sCiAgICAgICAgInRvbkdpYW8iOiB7CiAgICAgICAgICAibWFNdWMiOiAiIiwKICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgIH0sCiAgICAgICAgInF1b2NUaWNoIjogewogICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICB9LAogICAgICAgICJkaWFDaGlUaHVvbmdUcnUiOiB7CiAgICAgICAgICAic29OaGFDaGlUaWV0IjogIiIsCiAgICAgICAgICAidGluaFRoYW5oIjogewogICAgICAgICAgICAibWFNdWMiOiAiIiwKICAgICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgICB9LAogICAgICAgICAgInF1YW5IdXllbiI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJwaHVvbmdYYSI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIm5vaU9IaWVuVGFpIjogewogICAgICAgICAgInNvTmhhQ2hpVGlldCI6ICIiLAogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0sCiAgICAgICAgICAicGh1b25nWGEiOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJkYW5oQmFMaWVuTGFjIjogewogICAgICAgICAgInRodURpZW5UdSI6ICIiLAogICAgICAgICAgInNvRGllblRob2FpIjogIiIsCiAgICAgICAgICAic29GYXgiOiAiIgogICAgICAgIH0sCiAgICAgICAgImFuaENhTmhhbiI6IHsKICAgICAgICAgICJ0ZW5UZXAiOiAiIiwKICAgICAgICAgICJkaW5oRGFuZyI6ICIiLAogICAgICAgICAgImtpY2hUaHVvYyI6ICIiLAogICAgICAgICAgImR1TGlldSI6ICIiLAogICAgICAgICAgImNodUt5U28iOiAiIiwKICAgICAgICAgICJuZ2F5S3lTbyI6ICIiLAogICAgICAgICAgIm5nYXlHaW9UYW8iOiAiIiwKICAgICAgICAgICJuZ2F5R2lvU3VhIjogIiIKICAgICAgICB9LAogICAgICAgICJtYVNvQ2FuQm8iOiAiIiwKICAgICAgICAibmdheVR1eWVuRHVuZyI6ICIiLAogICAgICAgICJwaG9uZ0JhbiI6IHsKICAgICAgICAgICJtYURpbmhEYW5oIjogIiIsCiAgICAgICAgICAidGVuR29pIjogIiIKICAgICAgICB9LAogICAgICAgICJjb1F1YW5Eb25WaSI6IHsKICAgICAgICAgICJtYUhhbmhDaGluaCI6ICIiLAogICAgICAgICAgInRlbkdvaSI6ICIiLAogICAgICAgICAgInRlblRpZW5nQW5oIjogIiIsCiAgICAgICAgICAidGVuVmlldFRhdCI6ICIiCiAgICAgICAgfSwKICAgICAgICAidHJpbmhEb0NodXllbk1vbiI6IHsKICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgfSwKICAgICAgICAiY2h1Y0RhbmhOZ2hlTmdoaWVwIjogewogICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICB9LAogICAgICAgICJ2aVRyaUNodWNEYW5oIjogW3sKICAgICAgICAgICJtYURpbmhEYW5oIjogIiIsCiAgICAgICAgICAidGVuR29pIjogIiIKICAgICAgICB9XSwKICAgICAgICAidGluaFRyYW5nQ29uZ1RhYyI6IHsKICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgfSwKICAgICAgICAibmdheVRob2lWaWVjIjogIiIsCiAgICAgICAgInRyYW5nVGhhaUR1TGlldSI6IHsKICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgfQogICAgICB9LAogICAgICB0aG9uZ1RpbkNhbkJvU2FtcGxlOiB7CiAgICAgICAgInByaW1LZXkiOiAiIiwKICAgICAgICAidGVuR29pIjogIiIsCiAgICAgICAgImhvVmFUZW4iOiAiIiwKICAgICAgICAiYmlEYW5oIjogIiIsCiAgICAgICAgIm5nYXlTaW5oIjogIiIsCiAgICAgICAgImdpb2lUaW5oIjogewogICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICB9LAogICAgICAgICJub2lTaW5oIjogewogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0sCiAgICAgICAgICAicGh1b25nWGEiOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJxdWVRdWFuIjogewogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0sCiAgICAgICAgICAicGh1b25nWGEiOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJkYW5Ub2MiOiB7CiAgICAgICAgICAibWFNdWMiOiAiIiwKICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgIH0sCiAgICAgICAgInRvbkdpYW8iOiB7CiAgICAgICAgICAibWFNdWMiOiAiIiwKICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgIH0sCiAgICAgICAgInF1b2NUaWNoIjogewogICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICB9LAogICAgICAgICJkaWFDaGlUaHVvbmdUcnUiOiB7CiAgICAgICAgICAic29OaGFDaGlUaWV0IjogIiIsCiAgICAgICAgICAidGluaFRoYW5oIjogewogICAgICAgICAgICAibWFNdWMiOiAiIiwKICAgICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgICB9LAogICAgICAgICAgInF1YW5IdXllbiI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJwaHVvbmdYYSI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIm5vaU9IaWVuVGFpIjogewogICAgICAgICAgInNvTmhhQ2hpVGlldCI6ICIiLAogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAgICJ0ZW5NdWMiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0sCiAgICAgICAgICAicGh1b25nWGEiOiB7CiAgICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJkYW5oQmFMaWVuTGFjIjogewogICAgICAgICAgInRodURpZW5UdSI6ICIiLAogICAgICAgICAgInNvRGllblRob2FpIjogIiIsCiAgICAgICAgICAic29GYXgiOiAiIgogICAgICAgIH0sCiAgICAgICAgIkFuaENhTmhhbiI6IHsKICAgICAgICAgICJUZW5UZXAiOiAiIiwKICAgICAgICAgICJEaW5oRGFuZyI6ICIiLAogICAgICAgICAgIktpY2hUaHVvYyI6ICIiLAogICAgICAgICAgIkR1TGlldSI6ICIiLAogICAgICAgICAgIkNodUt5U28iOiAiIiwKICAgICAgICAgICJOZ2F5S3lTbyI6ICIiLAogICAgICAgICAgIk5nYXlHaW9UYW8iOiAiIiwKICAgICAgICAgICJOZ2F5R2lvU3VhIjogIiIKICAgICAgICB9LAogICAgICAgICJtYVNvQ2FuQm8iOiAiIiwKICAgICAgICAibmdheVR1eWVuRHVuZyI6ICIiLAogICAgICAgICJwaG9uZ0JhbiI6IHsKICAgICAgICAgICJtYURpbmhEYW5oIjogIiIsCiAgICAgICAgICAidGVuR29pIjogIiIKICAgICAgICB9LAogICAgICAgICJjb1F1YW5Eb25WaSI6IHsKICAgICAgICAgICJtYUhhbmhDaGluaCI6ICIiLAogICAgICAgICAgInRlbkdvaSI6ICIiLAogICAgICAgICAgInRlblRpZW5nQW5oIjogIiIsCiAgICAgICAgICAidGVuVmlldFRhdCI6ICIiCiAgICAgICAgfSwKICAgICAgICAidHJpbmhEb0NodXllbk1vbiI6IHsKICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgfSwKICAgICAgICAiY2h1Y0RhbmhOZ2hlTmdoaWVwIjogewogICAgICAgICAgIm1hTXVjIjogIiIsCiAgICAgICAgICAidGVuTXVjIjogIiIKICAgICAgICB9LAogICAgICAgICJ2aVRyaUNodWNEYW5oIjogW3sKICAgICAgICAgICJtYURpbmhEYW5oIjogIiIsCiAgICAgICAgICAidGVuR29pIjogIiIKICAgICAgICB9XSwKICAgICAgICAidGluaFRyYW5nQ29uZ1RhYyI6IHsKICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgfSwKICAgICAgICAibmdheVRob2lWaWVjIjogIiIsCiAgICAgICAgInRyYW5nVGhhaUR1TGlldSI6IHsKICAgICAgICAgICJtYU11YyI6ICIiLAogICAgICAgICAgInRlbk11YyI6ICIiCiAgICAgICAgfQogICAgICB9LAogICAgICB0eXBlQWN0aW9uOiAnJywKICAgICAgZGlhbG9nQWRkQ2FuQm86IGZhbHNlLAogICAgICB2YWxpZEZvcm1BZGQ6IGZhbHNlLAogICAgICByZXF1aXJlZDogWwogICAgICAgIHYgPT4gKHYgIT09ICcnICYmIHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkKSB8fCAnVGjDtG5nIHRpbiBi4bqvdCBideG7mWMnCiAgICAgIF0sCiAgICAgIGl0ZW1zQ29RdWFuOiBbXSwKICAgICAgY29RdWFuRG9uVmk6ICcnLAogICAgICBpdGVtc1Bob25nQmFuOiBbXSwKICAgICAgaXRlbXNQaG9uZ0JhblNlYXJjaDogW10sCiAgICAgIHBob25nQmFuOiAnJywKICAgICAgaXRlbXNDaHVjVnU6IFtdLAogICAgICBpdGVtc0NodWNWdVNlYXJjaDogW10sCiAgICAgIGNodWNWdTogJycsCiAgICAgIGl0ZW1zR2lvaVRpbmg6IFtdLAogICAgICBuZ2F5U2luaENyZWF0ZTogJycsCiAgICAgIGdpb2lUaW5oQ3JlYXRlOiAnJywKICAgICAgdG9uR2lhb0NyZWF0ZTogJycsCiAgICAgIHF1b2NUaWNoQ3JlYXRlOiAnJywKICAgICAgZGFuVG9jQ3JlYXRlOiAnJywKICAgICAgaXRlbXNEYW5Ub2M6IFtdLAogICAgICBpdGVtc1F1b2NUaWNoOiBbXSwKICAgICAgaXRlbXNUb25HaWFvOiBbXSwKICAgICAgaXRlbXNUaW5oVGhhbmg6IFtdLAogICAgICBkaWFDaGlUaHVvbmdUcnVDdVRoZTogJycsCiAgICAgIHRodW9uZ1RydVRpbmhUaGFuaDogJycsCiAgICAgIGl0ZW1zVGh1b25nVHJ1UXVhbkh1eWVuOiBbXSwKICAgICAgdGh1b25nVHJ1UXVhbkh1eWVuOiAnJywKICAgICAgaXRlbXNUaHVvbmdUcnVQaHVvbmdYYTogW10sCiAgICAgIHRodW9uZ1RydVBodW9uZ1hhOiAnJywKICAgICAgc2VsZWN0RG9uVmk6IGZhbHNlLAogICAgICBzZWxlY3RQaG9uZ0JhbjogZmFsc2UKICAgIH0pLAogICAgY3JlYXRlZCAoKSB7CiAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgaWYgKCF2bS5pc0FkbWluKSB7CiAgICAgICAgdm0uJHJvdXRlci5wdXNoKHsgcGF0aDogJy9sb2dpbid9KQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxldCBjdXJyZW50UXVlcnkgPSB2bS4kcm91dGVyLmhpc3RvcnkuY3VycmVudAogICAgICBsZXQgcXVlcnkgPSBjdXJyZW50UXVlcnkucXVlcnkKICAgICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCdnb3YnKSAmJiBxdWVyeS5nb3YpIHsKICAgICAgICB2bS5zZWxlY3REb25WaSA9IHRydWUKICAgICAgICB2bS5kb25WaVNlYXJjaCA9IHsKICAgICAgICAgICdtYURpbmhEYW5oJzogcXVlcnkuZ292LAogICAgICAgICAgJ21hSGFuaENoaW5oJzogcXVlcnkuY29kZSwKICAgICAgICAgICd0ZW5Hb2knOiBxdWVyeS5uYW1lCiAgICAgICAgfQogICAgICAgIHZtLmNvUXVhbkRvblZpID0gewogICAgICAgICAgJ21hRGluaERhbmgnOiBxdWVyeS5nb3YsCiAgICAgICAgICAnbWFIYW5oQ2hpbmgnOiBxdWVyeS5jb2RlLAogICAgICAgICAgJ3RlbkdvaSc6IHF1ZXJ5Lm5hbWUKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCdzaXRlJykgJiYgcXVlcnkuc2l0ZSkgewogICAgICAgIHZtLnNlbGVjdFBob25nQmFuID0gdHJ1ZQogICAgICAgIHZtLnBob25nQmFuU2VhcmNoID0gewogICAgICAgICAgJ21hRGluaERhbmgnOiBxdWVyeS5zaXRlLAogICAgICAgICAgJ3RlbkdvaSc6IHF1ZXJ5Lm5hbWUKICAgICAgICB9CiAgICAgICAgdm0ucGhvbmdCYW4gPSB7CiAgICAgICAgICAnbWFEaW5oRGFuaCc6IHF1ZXJ5LnNpdGUsCiAgICAgICAgICAndGVuR29pJzogcXVlcnkubmFtZQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5zZWxlY3RQaG9uZ0JhbiA9IGZhbHNlCiAgICAgICAgdm0ucGhvbmdCYW5TZWFyY2ggPSAnJwogICAgICAgIHZtLnBob25nQmFuID0gJycKICAgICAgfQogICAgICB2bS5nZXREYW5oU2FjaENhbkJvKCkKICAgICAgdm0uZ2V0RGFuaE11YygnR0lPSVRJTkgnKQogICAgICB2bS5nZXREYW5oTXVjKCdUSU5IVFJBTkdDT05HVEFDJykKICAgICAgLy8gdm0uZ2V0RGFuaE11Y1RpbmhUaGFuaCgpCiAgICAgIHZtLmdldFRvQ2h1Y0NhcFRyZW4oKQogICAgICAvLyB2bS5nZXRQaG9uZ0Jhbih2bS5kb25WaVNlYXJjaCkKICAgICAgdm0uZ2V0Q2h1Y1Z1KHZtLmRvblZpU2VhcmNoKQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgJyRyb3V0ZSc6IGZ1bmN0aW9uIChuZXdSb3V0ZSwgb2xkUm91dGUpIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgbGV0IHF1ZXJ5ID0gbmV3Um91dGUucXVlcnkKICAgICAgICBpZiAocXVlcnkgJiYgcXVlcnkuaGFzT3duUHJvcGVydHkoJ2dvdicpICYmIHF1ZXJ5LmdvdikgewogICAgICAgICAgdm0uc2VsZWN0RG9uVmkgPSB0cnVlCiAgICAgICAgICB2bS5kb25WaVNlYXJjaCA9IHsKICAgICAgICAgICAgJ21hRGluaERhbmgnOiBxdWVyeS5nb3YsCiAgICAgICAgICAgICdtYUhhbmhDaGluaCc6IHF1ZXJ5LmNvZGUsCiAgICAgICAgICAgICd0ZW5Hb2knOiBxdWVyeS5uYW1lCiAgICAgICAgICB9CiAgICAgICAgICB2bS5jb1F1YW5Eb25WaSA9IHsKICAgICAgICAgICAgJ21hRGluaERhbmgnOiBxdWVyeS5nb3YsCiAgICAgICAgICAgICdtYUhhbmhDaGluaCc6IHF1ZXJ5LmNvZGUsCiAgICAgICAgICAgICd0ZW5Hb2knOiBxdWVyeS5uYW1lCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLnNlbGVjdERvblZpID0gZmFsc2UKICAgICAgICAgIHZtLmRvblZpU2VhcmNoID0gJycKICAgICAgICAgIHZtLmNvUXVhbkRvblZpID0gJycKICAgICAgICB9CiAgICAgICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCdzaXRlJykgJiYgcXVlcnkuc2l0ZSkgewogICAgICAgICAgdm0uc2VsZWN0UGhvbmdCYW4gPSB0cnVlCiAgICAgICAgICB2bS5waG9uZ0JhblNlYXJjaCA9IHsKICAgICAgICAgICAgJ21hRGluaERhbmgnOiBxdWVyeS5zaXRlLAogICAgICAgICAgICAndGVuR29pJzogcXVlcnkubmFtZQogICAgICAgICAgfQogICAgICAgICAgdm0ucGhvbmdCYW4gPSB7CiAgICAgICAgICAgICdtYURpbmhEYW5oJzogcXVlcnkuc2l0ZSwKICAgICAgICAgICAgJ3RlbkdvaSc6IHF1ZXJ5Lm5hbWUKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0uc2VsZWN0UGhvbmdCYW4gPSBmYWxzZQogICAgICAgICAgdm0ucGhvbmdCYW5TZWFyY2ggPSAnJwogICAgICAgICAgdm0ucGhvbmdCYW4gPSAnJwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29RdWFuRG9uVmkgKHZhbCkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZtLmdldFBob25nQmFuKHZhbCwgJ2NyZWF0ZScpCiAgICAgICAgICB2bS5nZXRDaHVjVnUodmFsLCAnY3JlYXRlJykKICAgICAgICB9LCAxMDApCiAgICAgIH0sCiAgICAgIGRvblZpU2VhcmNoICh2YWwsIHR5cGUpIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2bS5nZXRQaG9uZ0Jhbih2YWwsICdzZWFyY2gnKQogICAgICAgICAgdm0uZ2V0Q2h1Y1Z1KHZhbCwgJ3NlYXJjaCcpCiAgICAgICAgfSwgMTAwKQogICAgICB9LAogICAgICAvLyB0aHVvbmdUcnVUaW5oVGhhbmggKHZhbCkgewogICAgICAvLyAgIGxldCB2bSA9IHRoaXMKICAgICAgLy8gICBpZiAoIXZhbCkgewogICAgICAvLyAgICAgdm0uaXRlbXNUaHVvbmdUcnVRdWFuSHV5ZW4gPSBbXQogICAgICAvLyAgICAgdm0udGh1b25nVHJ1UXVhbkh1eWVuID0gJycKICAgICAgLy8gICAgIHZtLml0ZW1zVGh1b25nVHJ1UGh1b25nWGEgPSBbXQogICAgICAvLyAgICAgdm0udGh1b25nVHJ1UGh1b25nWGEgPSAnJwogICAgICAvLyAgIH0KICAgICAgLy8gICB2bS5jaGFuZ2VUaW5oVGhhbmgoKQogICAgICAvLyB9LAogICAgICAvLyB0aHVvbmdUcnVRdWFuSHV5ZW4gKHZhbCkgewogICAgICAvLyAgIGxldCB2bSA9IHRoaXMKICAgICAgLy8gICBpZiAoIXZhbCkgewogICAgICAvLyAgICAgdm0uaXRlbXNUaHVvbmdUcnVQaHVvbmdYYSA9IFtdCiAgICAgIC8vICAgICB2bS50aHVvbmdUcnVQaHVvbmdYYSA9ICcnCiAgICAgIC8vICAgfQogICAgICAvLyAgIHZtLmNoYW5nZVF1YW5IdXllbigpCiAgICAgIC8vIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGdldERhbmhTYWNoQ2FuQm8gKHR5cGUpIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgaWYgKHR5cGUgPT09ICdyZXNldCcpIHsKICAgICAgICAgIHZtLnRvdGFsID0gMAogICAgICAgICAgdm0ucGFnZUNvdW50ID0gMAogICAgICAgICAgdm0ucGFnZSA9IDAKICAgICAgICB9CiAgICAgICAgaWYgKHZtLmxvYWRpbmdEYXRhKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgdm0ubG9hZGluZ0RhdGEgPSB0cnVlCiAgICAgICAgbGV0IGZpbHRlciA9IHsKICAgICAgICAgIGNvbGxlY3Rpb25OYW1lOiAnY2FuYm8nLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBrZXl3b3JkOiB2bS5rZXl3b3JkU2VhcmNoLAogICAgICAgICAgICBwYWdlOiB2bS5wYWdlLAogICAgICAgICAgICBzaXplOiB2bS5pdGVtc1BlclBhZ2UsCiAgICAgICAgICAgIG9yZGVyRmllbGRzOiAnaG9WYVRlbicsCiAgICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgICBjb1F1YW5Eb25WaV9tYUhhbmhDaGluaDogdm0uZG9uVmlTZWFyY2ggPyB2bS5kb25WaVNlYXJjaFsnbWFIYW5oQ2hpbmgnXSA6ICcnLAogICAgICAgICAgICBwaG9uZ0Jhbl9tYURpbmhEYW5oOiB2bS5waG9uZ0JhblNlYXJjaCA/IHZtLnBob25nQmFuU2VhcmNoWydtYURpbmhEYW5oJ10gOiAnJywKICAgICAgICAgICAgdmlUcmlDaHVjRGFuaF9tYURpbmhEYW5oOiB2bS5jaHVjVnVTZWFyY2ggPyB2bS5jaHVjVnVTZWFyY2hbJ21hRGluaERhbmgnXSA6ICcnLAogICAgICAgICAgICB0aW5oVHJhbmdDb25nVGFjX21hTXVjOiB2bS50cmFuZ1RoYWlTZWFyY2ggPyB2bS50cmFuZ1RoYWlTZWFyY2hbJ21hTXVjJ10gOiAnJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25GaWx0ZXInLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2bS5pdGVtc0NhbkJvID0gcmVzcG9uc2UuY29udGVudAogICAgICAgICAgdm0udG90YWwgPSByZXNwb25zZS50b3RhbEVsZW1lbnRzCiAgICAgICAgICB2bS5wYWdlQ291bnQgPSByZXNwb25zZS50b3RhbFBhZ2VzCiAgICAgICAgICB2bS5sb2FkaW5nRGF0YSA9IGZhbHNlCiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdm0ubG9hZGluZ0RhdGEgPSBmYWxzZQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGNoYW5nZVBhZ2UoY29uZmlnKSB7CiAgICAgICAgbGV0IHZtID0gdGhpcwogICAgICAgIHZtLnBhZ2UgPSBjb25maWcucGFnZQogICAgICAgIHZtLmdldERhbmhTYWNoQ2FuQm8oKQogICAgICB9LAogICAgICBzaG93VGhvbmdUaW5DYW5CbyAoaXRlbSkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICB2bS4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2Nhbi1iby8nICsgaXRlbS5wcmltS2V5IH0pCiAgICAgIH0sCiAgICAgIHNob3dFZGl0Q2FuQm8gKGl0ZW0pIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgdm0udHlwZUFjdGlvbiA9ICd1cGRhdGUnCiAgICAgICAgdm0uZGlhbG9nQWRkQ2FuQm8gPSB0cnVlCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2bS50aG9uZ1RpbkNhbkJvID0gaXRlbQogICAgICAgICAgdm0uZm9ybWF0SW5wdXREYXRhKCkKICAgICAgICAgIHZtLiRyZWZzLmZvcm1BZGRDYW5Cby5yZXNldFZhbGlkYXRpb24oKQogICAgICAgIH0sIDEwMCkKICAgICAgfSwKICAgICAgc2hvd0FkZENhbkJvICgpIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgdm0udHlwZUFjdGlvbiA9ICdjcmVhdGUnCiAgICAgICAgdm0uZGlhbG9nQWRkQ2FuQm8gPSB0cnVlCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2bS50aG9uZ1RpbkNhbkJvID0gdm0udGhvbmdUaW5DYW5Cb1NhbXBsZQogICAgICAgICAgdm0uJHJlZnMuZm9ybUFkZENhbkJvLnJlc2V0KCkKICAgICAgICAgIHZtLiRyZWZzLmZvcm1BZGRDYW5Cby5yZXNldFZhbGlkYXRpb24oKQogICAgICAgIH0sIDEwMCkKICAgICAgfSwKICAgICAgc3VibWl0QWRkQ2FuQm8gKCkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICB2bS5mb3JtYXRPdXRwdXREYXRhKCkKICAgICAgICBpZiAodm0ubG9hZGluZykgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIHZtLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgaWYgKHZtLiRyZWZzLmZvcm1BZGRDYW5Cby52YWxpZGF0ZSgpKSB7CiAgICAgICAgICBsZXQgZmlsdGVyID0gewogICAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ2NhbmJvJywKICAgICAgICAgICAgZGF0YTogdm0udGhvbmdUaW5DYW5CbwogICAgICAgICAgfQogICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uQ3JlYXRlJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRvYXN0ci5yZW1vdmUoKQogICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnVGjDqm0gbeG7m2kgdGjDoG5oIGPDtG5nJykKICAgICAgICAgICAgdm0uZGlhbG9nQWRkQ2FuQm8gPSBmYWxzZQogICAgICAgICAgICB2bS5nZXREYW5oU2FjaENhbkJvKCkKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgdG9hc3RyLnJlbW92ZSgpCiAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgPT0gNDA5KSB7CiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdNw6MgY8OhbiBi4buZIMSRw6MgdOG7k24gdOG6oWknKQogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIHRvYXN0ci5lcnJvcignVGjDqm0gbeG7m2kgdGjhuqV0IGLhuqFpJykKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSwKICAgICAgc3VibWl0VXBkYXRlQ2FuQm8gKCkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICB2bS5mb3JtYXRPdXRwdXREYXRhKCkKICAgICAgICBpZiAodm0ubG9hZGluZykgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIHZtLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgaWYgKHZtLiRyZWZzLmZvcm1BZGRDYW5Cby52YWxpZGF0ZSgpKSB7CiAgICAgICAgICBsZXQgZmlsdGVyID0gewogICAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ2NhbmJvJywKICAgICAgICAgICAgaWQ6IHZtLnRob25nVGluQ2FuQm9bJ3ByaW1LZXknXSwKICAgICAgICAgICAgZGF0YTogdm0udGhvbmdUaW5DYW5CbwogICAgICAgICAgfQogICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uVXBkYXRlJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRvYXN0ci5yZW1vdmUoKQogICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnQ+G6rXAgbmjhuq10IHRow7RuZyB0aW4gdGjDoG5oIGPDtG5nJykKICAgICAgICAgICAgdm0uZGlhbG9nQWRkQ2FuQm8gPSBmYWxzZQogICAgICAgICAgICB2bS5nZXREYW5oU2FjaENhbkJvKCkKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgdG9hc3RyLnJlbW92ZSgpCiAgICAgICAgICAgIHRvYXN0ci5lcnJvcignQ+G6rXAgbmjhuq10IHRow7RuZyB0aW4gdGjhuqV0IGLhuqFpJykKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVsZXRlQ2FuQm8gKGl0ZW0pIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnU0VUX1NIT1dDT05GSVJNJywgdHJ1ZSkKICAgICAgICBsZXQgY29uZmlybSA9IHsKICAgICAgICAgIGF1dGg6IGZhbHNlLAogICAgICAgICAgdGl0bGU6ICdYw7NhIGPDoW4gYuG7mScsCiAgICAgICAgICBtZXNzYWdlOiAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2EgIicgKyBpdGVtLmhvVmFUZW4gKyAnIicsCiAgICAgICAgICBidXR0b246IHsKICAgICAgICAgICAgeWVzOiAnQ8OzJywKICAgICAgICAgICAgbm86ICdLaMO0bmcnCiAgICAgICAgICB9LAogICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHsKICAgICAgICAgICAgbGV0IGZpbHRlciA9IHsKICAgICAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ2NhbmJvJywKICAgICAgICAgICAgICBpZDogaXRlbS5wcmltS2V5CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdm0ubG9hZGluZyA9IHRydWUKICAgICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRGVsZXRlJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICB0b2FzdHIucmVtb3ZlKCkKICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnWMOzYSBjw6FuIGLhu5kgdGjDoG5oIGPDtG5nJykKICAgICAgICAgICAgICB2bS5nZXREYW5oU2FjaENhbkJvKCkKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgdG9hc3RyLnJlbW92ZSgpCiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdYw7NhIGPDoW4gYuG7mSB0aOG6pXQgYuG6oWknKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2bS4kc3RvcmUuY29tbWl0KCdTRVRfQ09ORklHX0NPTkZJUk1fRElBTE9HJywgY29uZmlybSkKICAgICAgfSwKICAgICAgZ2V0RGFuaE11YyAoY29sbGVjdGlvbikgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICBsZXQgZmlsdGVyID0gewogICAgICAgICAgY29sbGVjdGlvbk5hbWU6ICdkdWxpZXVkYW5obXVjJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgb3JkZXJGaWVsZHM6ICdtYU11YycsCiAgICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgICBzaXplOiAxMDAwLAogICAgICAgICAgICBkYW5oTXVjX21hRGFuaE11YzogY29sbGVjdGlvbgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25GaWx0ZXInLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoY29sbGVjdGlvbiA9PT0gJ1RJTkhUUkFOR0NPTkdUQUMnKSB7CiAgICAgICAgICAgIHZtLml0ZW1zVHJhbmdUaGFpID0gcmVzcG9uc2UuY29udGVudAogICAgICAgICAgfQogICAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT09ICdHSU9JVElOSCcpIHsKICAgICAgICAgICAgdm0uaXRlbXNHaW9pVGluaCA9IHJlc3BvbnNlLmNvbnRlbnQKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZ2V0RGFuaE11Y1RpbmhUaGFuaCAoKSB7CiAgICAgICAgbGV0IHZtID0gdGhpcwogICAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ3Rpbmh0aGFuaCcsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgICBzaXplOiAxMDAsCiAgICAgICAgICAgIG9yZGVyRmllbGRzOiAnbWFNdWMnLAogICAgICAgICAgICBvcmRlclR5cGVzOiAnYXNjJywKICAgICAgICAgICAgdGluaFRyYW5nOiAnMScsCiAgICAgICAgICAgIHRoYW1DaGlldV9tYU11YzogJycKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRmlsdGVyJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdm0uaXRlbXNUaW5oVGhhbmggPSByZXNwb25zZS5jb250ZW50CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGNoYW5nZVRpbmhUaGFuaCAodHlwZSkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICBsZXQgZGFuaE11Y0NoYSA9ICcnCiAgICAgICAgaWYgKCF2bS50aHVvbmdUcnVUaW5oVGhhbmgpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBkYW5oTXVjQ2hhID0gdm0udGh1b25nVHJ1VGluaFRoYW5oWydtYU11YyddCiAgICAgICAgbGV0IGZpbHRlciA9IHsKICAgICAgICAgIGNvbGxlY3Rpb25OYW1lOiAncXVhbmh1eWVuJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICAgIHNpemU6IDEwMCwKICAgICAgICAgICAgb3JkZXJGaWVsZHM6ICdtYU11YycsCiAgICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgICB0aW5oVHJhbmc6ICcxJywKICAgICAgICAgICAgdGhhbUNoaWV1X21hTXVjOiBkYW5oTXVjQ2hhCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnY29sbGVjdGlvbkZpbHRlcicsIGZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZtLml0ZW1zVGh1b25nVHJ1UXVhbkh1eWVuID0gcmVzcG9uc2UuY29udGVudAogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB9KQogICAgICB9LAogICAgICBjaGFuZ2VRdWFuSHV5ZW4gKHR5cGUpIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgbGV0IGRhbmhNdWNDaGEgPSAnJwogICAgICAgIGlmICghdm0udGh1b25nVHJ1UXVhbkh1eWVuKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgZGFuaE11Y0NoYSA9IHZtLnRodW9uZ1RydVF1YW5IdXllblsnbWFNdWMnXQogICAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ3BodW9uZ3hhJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICAgIHNpemU6IDEwMCwKICAgICAgICAgICAgb3JkZXJGaWVsZHM6ICdtYU11YycsCiAgICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgICB0aW5oVHJhbmc6ICcxJywKICAgICAgICAgICAgdGhhbUNoaWV1X21hTXVjOiBkYW5oTXVjQ2hhCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnY29sbGVjdGlvbkZpbHRlcicsIGZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZtLml0ZW1zVGh1b25nVHJ1UGh1b25nWGEgPSByZXNwb25zZS5jb250ZW50CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGdldFRvQ2h1Y0NhcFRyZW4gKCkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICBsZXQgZmlsdGVyID0gewogICAgICAgICAgY29sbGVjdGlvbk5hbWU6ICdjb3F1YW5kb252aScsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgICBzaXplOiA1MDAsCiAgICAgICAgICAgIG9yZGVyRmllbGRzOiAndGVuR29pJywKICAgICAgICAgICAgb3JkZXJUeXBlczogJ2FzYycKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRmlsdGVyJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdm0uaXRlbXNEb25WaSA9IHJlc3BvbnNlLmNvbnRlbnQKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZ2V0UGhvbmdCYW4gKGRvbnZpLCB0eXBlKSB7CiAgICAgICAgbGV0IHZtID0gdGhpcwogICAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ3Bob25nYmFuJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgcGFnZTogMCwKICAgICAgICAgICAgc2l6ZTogNTAwLAogICAgICAgICAgICBvcmRlckZpZWxkczogJ3RlbkdvaScsCiAgICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgICBjb1F1YW5Eb25WaV9tYURpbmhEYW5oOiBkb252aSA/IGRvbnZpWydtYURpbmhEYW5oJ10gOiAnJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25GaWx0ZXInLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoIXR5cGUpIHsKICAgICAgICAgICAgdm0uaXRlbXNQaG9uZ0JhbiA9IHJlc3BvbnNlLmNvbnRlbnQKICAgICAgICAgICAgdm0uaXRlbXNQaG9uZ0JhblNlYXJjaCA9IHJlc3BvbnNlLmNvbnRlbnQKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0eXBlID09ICdjcmVhdGUnKSB7CiAgICAgICAgICAgIHZtLml0ZW1zUGhvbmdCYW4gPSByZXNwb25zZS5jb250ZW50CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZSA9PSAnc2VhcmNoJykgewogICAgICAgICAgICB2bS5pdGVtc1Bob25nQmFuU2VhcmNoID0gcmVzcG9uc2UuY29udGVudAogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB9KQogICAgICB9LAogICAgICBnZXRDaHVjVnUgKGRvbnZpLCB0eXBlKSB7CiAgICAgICAgbGV0IHZtID0gdGhpcwogICAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ3ZpdHJpY2h1Y2RhbmgnLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgICAgcGFnZTogMCwKICAgICAgICAgICAgc2l6ZTogMTAwLAogICAgICAgICAgICBvcmRlckZpZWxkczogJ3RlbkdvaScsCiAgICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgICBjb1F1YW5Eb25WaV9tYURpbmhEYW5oOiBkb252aSA/IGRvbnZpWydtYURpbmhEYW5oJ10gOiAnJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25GaWx0ZXInLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoIXR5cGUpIHsKICAgICAgICAgICAgdm0uaXRlbXNDaHVjVnUgPSByZXNwb25zZS5jb250ZW50CiAgICAgICAgICAgIHZtLml0ZW1zQ2h1Y1Z1U2VhcmNoID0gcmVzcG9uc2UuY29udGVudAogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGUgPT0gJ2NyZWF0ZScpIHsKICAgICAgICAgICAgdm0uaXRlbXNDaHVjVnUgPSByZXNwb25zZS5jb250ZW50CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZSA9PSAnc2VhcmNoJykgewogICAgICAgICAgICB2bS5pdGVtc0NodWNWdVNlYXJjaCA9IHJlc3BvbnNlLmNvbnRlbnQKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZm9ybWF0T3V0cHV0RGF0YSAoKSB7CiAgICAgICAgbGV0IHZtID0gdGhpcwogICAgICAgIHZtLnRob25nVGluQ2FuQm8ubmdheVNpbmggPSB2bS5jb252ZXJ0RGF0ZSh2bS5uZ2F5U2luaENyZWF0ZSkKICAgICAgICB2bS50aG9uZ1RpbkNhbkJvLmRpYUNoaVRodW9uZ1RydSA9IHsKICAgICAgICAgICJwaHVvbmdYYSI6IHsKICAgICAgICAgICAgIm1hTXVjIjogdm0udGh1b25nVHJ1UGh1b25nWGEgPyB2bS50aHVvbmdUcnVQaHVvbmdYYS5tYU11YyA6ICcnLAogICAgICAgICAgICAidGVuTXVjIjogdm0udGh1b25nVHJ1UGh1b25nWGEgPyB2bS50aHVvbmdUcnVQaHVvbmdYYS50ZW5NdWMgOiAnJwogICAgICAgICAgfSwKICAgICAgICAgICJxdWFuSHV5ZW4iOiB7CiAgICAgICAgICAgICJtYU11YyI6IHZtLnRodW9uZ1RydVF1YW5IdXllbiA/IHZtLnRodW9uZ1RydVF1YW5IdXllbi5tYU11YyA6ICcnLAogICAgICAgICAgICAidGVuTXVjIjogdm0udGh1b25nVHJ1UXVhbkh1eWVuID8gdm0udGh1b25nVHJ1UXVhbkh1eWVuLnRlbk11YyA6ICcnCiAgICAgICAgICB9LAogICAgICAgICAgInRpbmhUaGFuaCI6IHsKICAgICAgICAgICAgIm1hTXVjIjogdm0udGh1b25nVHJ1VGluaFRoYW5oID8gdm0udGh1b25nVHJ1VGluaFRoYW5oLm1hTXVjIDogJycsCiAgICAgICAgICAgICJ0ZW5NdWMiOiB2bS50aHVvbmdUcnVUaW5oVGhhbmggPyB2bS50aHVvbmdUcnVUaW5oVGhhbmgudGVuTXVjIDogJycKICAgICAgICAgIH0sCiAgICAgICAgICAic29OaGFDaGlUaWV0Ijogdm0uZGlhQ2hpVGh1b25nVHJ1Q3VUaGUKICAgICAgICB9CiAgICAgICAgdm0udGhvbmdUaW5DYW5Cby5naW9pVGluaCA9IHsKICAgICAgICAgICJtYU11YyI6IHZtLmdpb2lUaW5oQ3JlYXRlID8gdm0uZ2lvaVRpbmhDcmVhdGUubWFNdWMgOiAnJywKICAgICAgICAgICJ0ZW5NdWMiOiB2bS5naW9pVGluaENyZWF0ZSA/IHZtLmdpb2lUaW5oQ3JlYXRlLnRlbk11YyA6ICcnCiAgICAgICAgfQogICAgICAgIHZtLnRob25nVGluQ2FuQm8udGluaFRyYW5nQ29uZ1RhYyA9IHsKICAgICAgICAgICJtYU11YyI6IHZtLnRyYW5nVGhhaSA/IHZtLnRyYW5nVGhhaS5tYU11YyA6ICcnLAogICAgICAgICAgInRlbk11YyI6IHZtLnRyYW5nVGhhaSA/IHZtLnRyYW5nVGhhaS50ZW5NdWMgOiAnJwogICAgICAgIH0KICAgICAgICB2bS50aG9uZ1RpbkNhbkJvLmNvUXVhbkRvblZpID0gewogICAgICAgICAgIm1hSGFuaENoaW5oIjogdm0uY29RdWFuRG9uVmkgPyB2bS5jb1F1YW5Eb25WaS5tYUhhbmhDaGluaCA6ICcnLAogICAgICAgICAgInRlbkdvaSI6IHZtLmNvUXVhbkRvblZpID8gdm0uY29RdWFuRG9uVmkudGVuR29pIDogJycsCiAgICAgICAgICAidGVuVGllbmdBbmgiOiAiIiwKCQkgICAgICAidGVuVmlldFRhdCI6ICIiCiAgICAgICAgfQogICAgICAgIHZtLnRob25nVGluQ2FuQm8ucGhvbmdCYW4gPSB7CiAgICAgICAgICAibWFEaW5oRGFuaCI6IHZtLnBob25nQmFuID8gdm0ucGhvbmdCYW4ubWFEaW5oRGFuaCA6ICcnLAogICAgICAgICAgInRlbkdvaSI6IHZtLnBob25nQmFuID8gdm0ucGhvbmdCYW4udGVuR29pIDogJycKICAgICAgICB9CiAgICAgICAgbGV0IGNodWNWdU91dHB1dCA9IFtdCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGxldCBjaHVjVnUgPSB2bS5jaHVjVnUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLm1hRGluaERhbmgKICAgICAgICAgIH0pCiAgICAgICAgICBpZiAoY2h1Y1Z1ICYmIGNodWNWdS5sZW5ndGgpIHsKICAgICAgICAgICAgY2h1Y1Z1T3V0cHV0ID0gQXJyYXkuZnJvbShjaHVjVnUsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHttYURpbmhEYW5oOiBpdGVtLm1hRGluaERhbmgsIHRlbkdvaTogaXRlbS50ZW5Hb2l9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB9CiAgICAgICAgdm0udGhvbmdUaW5DYW5Cby52aVRyaUNodWNEYW5oID0gY2h1Y1Z1T3V0cHV0ICYmIGNodWNWdU91dHB1dC5sZW5ndGggPyBjaHVjVnVPdXRwdXQgOiBbXQogICAgICB9LAogICAgICBmb3JtYXRJbnB1dERhdGEgKCkgewogICAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgICB2bS5uZ2F5U2luaENyZWF0ZSA9IHZtLmRhdGVMb2NhbGUodm0udGhvbmdUaW5DYW5Cby5uZ2F5U2luaCkKICAgICAgICB2bS5naW9pVGluaENyZWF0ZSA9IHZtLnRob25nVGluQ2FuQm8uZ2lvaVRpbmgKICAgICAgICB2bS50cmFuZ1RoYWkgPSB2bS50aG9uZ1RpbkNhbkJvLnRpbmhUcmFuZ0NvbmdUYWMKICAgICAgICB2bS5jb1F1YW5Eb25WaSA9IHZtLnRob25nVGluQ2FuQm8uY29RdWFuRG9uVmkKICAgICAgICB2bS5waG9uZ0JhbiA9IHZtLnRob25nVGluQ2FuQm8ucGhvbmdCYW4KICAgICAgICB2bS5jaHVjVnUgPSB2bS50aG9uZ1RpbkNhbkJvLnZpVHJpQ2h1Y0RhbmgKICAgICAgICB2bS5kaWFDaGlUaHVvbmdUcnVDdVRoZSA9IHZtLnRob25nVGluQ2FuQm8uZGlhQ2hpVGh1b25nVHJ1LnNvTmhhQ2hpVGlldAogICAgICAgIHZtLnRodW9uZ1RydVRpbmhUaGFuaCA9IHZtLnRob25nVGluQ2FuQm8uZGlhQ2hpVGh1b25nVHJ1LnRpbmhUaGFuaAogICAgICAgIHZtLnRodW9uZ1RydVF1YW5IdXllbiA9IHZtLnRob25nVGluQ2FuQm8uZGlhQ2hpVGh1b25nVHJ1LnF1YW5IdXllbgogICAgICAgIHZtLnRodW9uZ1RydVBodW9uZ1hhID0gdm0udGhvbmdUaW5DYW5Cby5kaWFDaGlUaHVvbmdUcnUucGh1b25nWGEKICAgICAgfSwKICAgICAgZm9ybWF0QmlydGhEYXRlICgpIHsKICAgICAgICBsZXQgdm0gPSB0aGlzCiAgICAgICAgbGV0IGxlbmd0aERhdGUgPSBTdHJpbmcodm0ubmdheVNpbmhDcmVhdGUpLnRyaW0oKS5sZW5ndGgKICAgICAgICBsZXQgc3BsaXREYXRlID0gU3RyaW5nKHZtLm5nYXlTaW5oQ3JlYXRlKS5zcGxpdCgnLycpCiAgICAgICAgaWYgKGxlbmd0aERhdGUgJiYgbGVuZ3RoRGF0ZSA+IDQgJiYgc3BsaXREYXRlLmxlbmd0aCA9PT0gMyAmJiBzcGxpdERhdGVbMl0pIHsKICAgICAgICAgIHZtLm5nYXlTaW5oQ3JlYXRlID0gdm0udHJhbnNsYXRlRGF0ZSh2bS5uZ2F5U2luaENyZWF0ZSkKICAgICAgICB9IGVsc2UgaWYgKGxlbmd0aERhdGUgJiYgbGVuZ3RoRGF0ZSA9PT0gOCkgewogICAgICAgICAgbGV0IGRhdGUgPSBTdHJpbmcodm0ubmdheVNpbmhDcmVhdGUpCiAgICAgICAgICB2bS5uZ2F5U2luaENyZWF0ZSA9IGRhdGUuc2xpY2UoMCwyKSArICcvJyArIGRhdGUuc2xpY2UoMiw0KSArICcvJyArIGRhdGUuc2xpY2UoNCw4KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5uZ2F5U2luaENyZWF0ZSA9ICcnCiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JtYXRDaHVjRGFuaCAoY2h1Y0RhbmgpIHsKICAgICAgICBpZiAoY2h1Y0RhbmggJiYgY2h1Y0RhbmgubGVuZ3RoKSB7CiAgICAgICAgICBsZXQgYXJyID0gQXJyYXkuZnJvbShjaHVjRGFuaCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0udGVuR29pCiAgICAgICAgICB9KQogICAgICAgICAgcmV0dXJuIGFyci50b1N0cmluZygpLnJlcGxhY2UoLywvZywgJzsgJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgfQogICAgICB9LAogICAgICB0cmFuc2xhdGVEYXRlIChkYXRlKSB7CiAgICAgICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbAogICAgICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKQogICAgICAgIHJldHVybiBgJHtkYXkucGFkU3RhcnQoMiwgJzAnKX0vJHttb250aC5wYWRTdGFydCgyLCAnMCcpfS8ke3llYXJ9YAogICAgICB9LAogICAgICBkYXRlTG9jYWxlIChkYXRlSW5wdXQpIHsKICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGVJbnB1dCkKICAgICAgICByZXR1cm4gYCR7ZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS8keyhkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LyR7ZGF0ZS5nZXRGdWxsWWVhcigpfWAKICAgICAgfSwKICAgICAgY29udmVydERhdGUgKGRhdGUpIHsKICAgICAgICBpZiAoIWRhdGUpIHJldHVybiAnJwogICAgICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKQogICAgICAgIGxldCBkZGQgPSBgJHt5ZWFyfS0ke21vbnRoLnBhZFN0YXJ0KDIsICcwJyl9LSR7ZGF5LnBhZFN0YXJ0KDIsICcwJyl9YAogICAgICAgIHJldHVybiAobmV3IERhdGUoZGRkKSkudG9JU09TdHJpbmcoKQogICAgICB9LAogICAgfQogIH0K"},{"version":3,"sources":["CanBo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CanBo.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-card\r\n    class=\"mx-auto pa-3\"\r\n    outlined\r\n    flat\r\n  >\r\n    <div>\r\n      <v-row justify=\"end\" class=\"mt-0 mb-0 mx-0\" style=\"border-bottom: 1px solid #2161B1\">\r\n        <v-col class=\"d-flex align-center justify-start py-0 px-0\" style=\"color: #2161B1;font-weight: 500;margin-bottom: -1px;\">\r\n          <div class=\"header-content\" v-if=\"!selectDonVi\">\r\n            DANH SÁCH CÁN BỘ\r\n          </div>\r\n          <div class=\"header-content\" v-if=\"selectDonVi\">\r\n            CÁN BỘ - {{donViSearch['tenGoi']}}\r\n          </div>\r\n          <div class=\"triangle-header\"></div>\r\n        </v-col>\r\n        \r\n        <v-spacer></v-spacer>\r\n        \r\n        <v-col class=\"d-flex align-center justify-end py-0 px-0\" style=\"max-width: 150px;\">\r\n          <v-btn small color=\"primary\" class=\"btn-form mx-0 text-white\" @click=\"showAddCanBo\">\r\n            <v-icon size=\"18\">mdi-plus</v-icon>&nbsp;\r\n            Thêm mới\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      \r\n      <v-row justify=\"end\" class=\"mt-0\">\r\n        <v-col class=\"d-flex align-center justify-start\" style=\"\">\r\n          <v-text-field\r\n              class=\"input-form\"\r\n              v-model=\"keywordSearch\"\r\n              solo\r\n              dense\r\n              clearable\r\n              hide-details=\"auto\"\r\n              placeholder=\"Nhập tên, mã cán bộ\"\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col v-if=\"!selectDonVi\" class=\"d-flex align-center justify-start\" style=\"\">\r\n          <v-autocomplete\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            :items=\"itemsDonVi\"\r\n            v-model=\"donViSearch\"\r\n            item-text=\"tenGoi\"\r\n            item-value=\"maHanhChinh\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            clearable\r\n            return-object\r\n            placeholder=\"Đơn vị công tác\"\r\n          >\r\n          </v-autocomplete>\r\n        </v-col>\r\n        <!-- <v-col v-if=\"!selectPhongBan\" class=\"d-flex align-center justify-start\" style=\"\">\r\n          <v-autocomplete\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            :items=\"itemsPhongBanSearch\"\r\n            v-model=\"phongBanSearch\"\r\n            item-text=\"tenGoi\"\r\n            item-value=\"maDinhDanh\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            clearable\r\n            placeholder=\"Phòng ban\"\r\n            return-object\r\n          >\r\n          </v-autocomplete>\r\n        </v-col> -->\r\n        <v-col class=\"d-flex align-center justify-start\" style=\"max-width: 300px;\">\r\n          <v-autocomplete\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            :items=\"itemsChucVuSearch\"\r\n            v-model=\"chucVuSearch\"\r\n            item-text=\"tenGoi\"\r\n            item-value=\"maDinhDanh\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            clearable\r\n            placeholder=\"Chức vụ\"\r\n            return-object\r\n          >\r\n          </v-autocomplete>\r\n        </v-col>\r\n        <!-- <v-col class=\"d-flex align-center justify-end\" style=\"max-width: 200px;\">\r\n          <v-autocomplete\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            :items=\"itemsTrangThai\"\r\n            v-model=\"trangThaiSearch\"\r\n            item-text=\"tenMuc\"\r\n            item-value=\"maMuc\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            clearable\r\n            placeholder=\"Tình trạng\"\r\n            return-object\r\n          >\r\n          </v-autocomplete>\r\n        </v-col> -->\r\n        <v-col class=\"d-flex align-center justify-end\" style=\"max-width: 150px;\">\r\n          <v-btn small color=\"primary\" class=\"btn-form mx-0 text-white\" @click=\"getDanhSachCanBo('reset')\">\r\n            <v-icon size=\"18\">mdi-magnify</v-icon>&nbsp;\r\n            Tìm kiếm\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <v-data-table\r\n        :headers=\"headers\"\r\n        :items=\"itemsCanBo\"\r\n        @click:row=\"showThongTinCanBo\"\r\n        :items-per-page=\"itemsPerPage\"\r\n        item-key=\"primKey\"\r\n        hide-default-footer\r\n        class=\"table-base mt-5 table-canbo\"\r\n        no-data-text=\"Không có\"\r\n        :loading=\"loadingData\"\r\n        loading-text=\"Đang tải... \"\r\n      >\r\n        <template v-slot:item.index=\"{ item, index }\">\r\n          <div>{{ (page+1) * itemsPerPage - itemsPerPage + index + 1 }}</div>\r\n        </template>\r\n        <template v-slot:item.danhBaLienLac=\"{ item }\">\r\n          <div>\r\n              <v-icon size=\"16\">mdi-phone-in-talk-outline</v-icon>&nbsp; {{ item.danhBaLienLac['soDienThoai'] }}\r\n          </div>\r\n          <div>\r\n              <v-icon size=\"16\">mdi-email-fast-outline</v-icon>&nbsp; {{ item.danhBaLienLac['thuDienTu'] }}\r\n          </div>\r\n        </template>\r\n        <template v-slot:item.phongBan=\"{ item }\">\r\n          <div>\r\n            {{ item.phongBan['tenGoi']}}\r\n          </div>\r\n        </template>\r\n        <template v-slot:item.coQuanDonVi=\"{ item }\">\r\n          <div>\r\n            {{ item.coQuanDonVi['tenGoi'] }}\r\n          </div>\r\n        </template>\r\n        <template v-slot:item.viTriChucDanh=\"{ item }\">\r\n          <div>\r\n            {{ formatChucDanh(item.viTriChucDanh)}}\r\n          </div>\r\n        </template>\r\n        <template v-slot:item.tinhTrangCongTac=\"{ item }\">\r\n          <div>\r\n            {{ item.tinhTrangCongTac['tenMuc']}}\r\n          </div>\r\n        </template>\r\n        <template v-slot:item.action=\"{ item }\">\r\n          <div>\r\n            <v-tooltip top>\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn small @click.stop=\"showEditCanBo(item)\" color=\"#2161B1\" text icon class=\" mr-3\" v-bind=\"attrs\" v-on=\"on\">\r\n                  <v-icon size=\"22\">mdi-pencil</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Sửa</span>\r\n            </v-tooltip>\r\n            <v-tooltip top>\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn small @click.stop=\"deleteCanBo(item)\" color=\"red\" text icon class=\"\" v-bind=\"attrs\" v-on=\"on\">\r\n                  <v-icon size=\"22\">mdi-delete</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Xóa</span>\r\n            </v-tooltip>\r\n          </div>\r\n        </template>\r\n      </v-data-table>\r\n      <pagination v-if=\"pageCount\" :pageInput=\"page\" :pageCount=\"pageCount\" :total=\"total\" @tiny:change-page=\"changePage\"></pagination>\r\n    </div>\r\n    <v-dialog\r\n      max-width=\"900\"\r\n      v-model=\"dialogAddCanBo\"\r\n      persistent\r\n    >\r\n      <v-card>\r\n        <v-toolbar\r\n          dark\r\n          color=\"primary\" class=\"px-3\"\r\n        >\r\n          <v-toolbar-title v-if=\"typeAction === 'create'\">Thêm mới cán bộ</v-toolbar-title>\r\n          <v-toolbar-title v-else>Cập nhật thông tin cán bộ</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-toolbar-items>\r\n            <v-btn\r\n              small\r\n              icon\r\n              dark\r\n              @click=\"dialogAddCanBo = false\"\r\n            >\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </v-toolbar-items>\r\n        </v-toolbar>\r\n        <v-card-text class=\"mt-5 px-2\">\r\n          <v-form\r\n            ref=\"formAddCanBo\"\r\n            v-model=\"validFormAdd\"\r\n            lazy-validation\r\n          >\r\n            <v-layout wrap>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                  <label>Mã cán bộ <span class=\"red--text\">(*)</span></label>\r\n                  <v-text-field\r\n                    class=\"flex input-form\"\r\n                    v-model=\"thongTinCanBo['maSoCanBo']\"\r\n                    solo\r\n                    dense\r\n                    :readonly=\"typeAction === 'update'\"\r\n                    :rules=\"required\"\r\n                    required\r\n                    hide-details=\"auto\"\r\n                  ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                  <label>Họ và tên <span class=\"red--text\">(*)</span></label>\r\n                  <v-text-field\r\n                    class=\"flex input-form\"\r\n                    v-model=\"thongTinCanBo['hoVaTen']\"\r\n                    solo\r\n                    dense\r\n                    :rules=\"required\"\r\n                    required\r\n                    hide-details=\"auto\"\r\n                    clearable\r\n                  ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                <label>Ngày sinh</label>\r\n                <v-text-field\r\n                  class=\"input-form\"\r\n                  v-model=\"ngaySinhCreate\"\r\n                  placeholder=\"dd/mm/yyyy, ddmmyyyy\"\r\n                  @blur=\"formatBirthDate\"\r\n                  solo\r\n                  dense\r\n                  clearable\r\n                  max\r\n                  hide-details=\"auto\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0\">\r\n                <label>Giới tính <span class=\"red--text\">(*)</span></label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsGioiTinh\"\r\n                  v-model=\"gioiTinhCreate\"\r\n                  item-text=\"tenMuc\"\r\n                  item-value=\"maMuc\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  placeholder=\"Chọn giới tính\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                <label>Email</label>\r\n                <v-text-field\r\n                  class=\"input-form\"\r\n                  v-model=\"thongTinCanBo.danhBaLienLac['thuDienTu']\"\r\n                  solo\r\n                  dense\r\n                  clearable\r\n                  max\r\n                  hide-details=\"auto\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0\">\r\n                <label>Điện thoại</label>\r\n                <v-text-field\r\n                  class=\"input-form\"\r\n                  v-model=\"thongTinCanBo.danhBaLienLac['soDienThoai']\"\r\n                  solo\r\n                  dense\r\n                  clearable\r\n                  max\r\n                  hide-details=\"auto\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" class=\"py-0 mb-2\">\r\n                <label>Địa chỉ</label>\r\n                <v-text-field\r\n                  class=\"input-form\"\r\n                  v-model=\"diaChiThuongTruCuThe\"\r\n                  solo\r\n                  dense\r\n                  clearable\r\n                  max\r\n                  hide-details=\"auto\"\r\n                  placeholder=\"Số nhà, đường, phố...\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <!-- <v-col cols=\"12\" md=\"4\" class=\"py-0 mb-2\">\r\n                <label>Tỉnh/ thành</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsTinhThanh\"\r\n                  v-model=\"thuongTruTinhThanh\"\r\n                  item-text=\"tenMuc\"\r\n                  item-value=\"maMuc\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"4\" class=\"py-0\">\r\n                <label>Quận / Huyện</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsThuongTruQuanHuyen\"\r\n                  v-model=\"thuongTruQuanHuyen\"\r\n                  item-text=\"tenMuc\"\r\n                  item-value=\"maMuc\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"4\" class=\"py-0\">\r\n                <label>Phường / Xã</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsThuongTruPhuongXa\"\r\n                  v-model=\"thuongTruPhuongXa\"\r\n                  item-text=\"tenMuc\"\r\n                  item-value=\"maMuc\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col> -->\r\n              <v-col v-if=\"!selectDonVi\" cols=\"12\"  class=\"py-0 mb-2\">\r\n                <label>Cơ quan, đơn vị</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsDonVi\"\r\n                  v-model=\"coQuanDonVi\"\r\n                  item-text=\"tenGoi\"\r\n                  item-value=\"maHanhChinh\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col>\r\n              <!-- <v-col v-if=\"!selectPhongBan\" cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                <label>Phòng ban</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsPhongBan\"\r\n                  v-model=\"phongBan\"\r\n                  item-text=\"tenGoi\"\r\n                  item-value=\"maDinhDanh\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col> -->\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                <label>Chức vụ</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsChucVu\"\r\n                  v-model=\"chucVu\"\r\n                  item-text=\"tenGoi\"\r\n                  item-value=\"maDinhDanh\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  multiple\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\" class=\"py-0 mb-2\">\r\n                <label>Tình trạng công tác</label>\r\n                <v-autocomplete\r\n                  class=\"flex input-form\"\r\n                  hide-no-data\r\n                  :items=\"itemsTrangThai\"\r\n                  v-model=\"trangThai\"\r\n                  item-text=\"tenMuc\"\r\n                  item-value=\"maMuc\"\r\n                  dense\r\n                  solo\r\n                  hide-details=\"auto\"\r\n                  return-object\r\n                >\r\n                </v-autocomplete>\r\n              </v-col>\r\n            </v-layout>\r\n          </v-form>\r\n        </v-card-text>\r\n        <v-card-actions class=\"justify-end pb-3\">\r\n          <v-btn small color=\"red\" class=\"white--text mr-2\" :loading=\"loading\" :disabled=\"loading\" @click=\"dialogAddCanBo = false\">\r\n            <v-icon left>\r\n              mdi-close\r\n            </v-icon>\r\n            Thoát\r\n          </v-btn>\r\n          <v-btn small v-if=\"typeAction === 'create'\" class=\"mr-0\" color=\"primary\" :loading=\"loading\" :disabled=\"loading\" @click=\"submitAddCanBo\">\r\n            <v-icon left>\r\n              mdi-content-save\r\n            </v-icon>\r\n            <span>Thêm mới</span>\r\n          </v-btn>\r\n          <v-btn small v-else class=\"mr-0\" color=\"primary\" :loading=\"loading\" :disabled=\"loading\" @click=\"submitUpdateCanBo\">\r\n            <v-icon left>\r\n              mdi-content-save\r\n            </v-icon>\r\n            <span>Cập nhật</span>\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n  import Pagination from './Pagination.vue'\r\n  import toastr from 'toastr'\r\n  toastr.options = {\r\n    'closeButton': true,\r\n    'timeOut': '5000',\r\n    \"positionClass\": \"toast-top-center\"\r\n  }\r\n  export default {\r\n    name: 'CanBo',\r\n    components: {\r\n      Pagination\r\n    },\r\n    props: [],\r\n    data: () => ({\r\n      loading: false,\r\n      loadingData: false,\r\n      itemsDonVi: [],\r\n      itemsTrangThai: [],\r\n      trangThai: '',\r\n      keywordSearch: '',\r\n      donViSearch: '',\r\n      phongBanSearch: '',\r\n      trangThaiSearch: '',\r\n      chucVuSearch: '',\r\n      validFormActionAccount: true,\r\n      dialogNoteAction: false,\r\n      titleAction: '',\r\n      noteAction: '',\r\n      actionStatusAcc: '',\r\n      dialogStatusAccLog: false,\r\n      headers: [\r\n        {\r\n            sortable: false,\r\n            text: 'STT',\r\n            align: 'center',\r\n            value: 'index'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Mã cán bộ',\r\n            align: 'left',\r\n            value: 'maSoCanBo'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Họ tên',\r\n            align: 'left',\r\n            value: 'hoVaTen'\r\n        },\r\n        // {\r\n        //     sortable: false,\r\n        //     text: 'Phòng ban',\r\n        //     align: 'left',\r\n        //     value: 'phongBan'\r\n        // },\r\n        {\r\n            sortable: false,\r\n            text: 'Đơn vị công tác',\r\n            align: 'left',\r\n            value: 'coQuanDonVi'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Chức vụ',\r\n            align: 'left',\r\n            value: 'viTriChucDanh'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Số điện thoại/ email',\r\n            align: 'left',\r\n            value: 'danhBaLienLac'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Tình trạng công tác',\r\n            align: 'left',\r\n            value: 'tinhTrangCongTac'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Thao tác',\r\n            align: 'center',\r\n            value: 'action'\r\n        },\r\n      ],\r\n      itemsCanBo: [],\r\n      page: 0,\r\n      itemsPerPage: 15,\r\n      total: 0,\r\n      pageCount: 2,\r\n      thongTinCanBo: {\r\n        \"primKey\": \"\",\r\n        \"tenGoi\": \"\",\r\n        \"hoVaTen\": \"\",\r\n        \"biDanh\": \"\",\r\n        \"ngaySinh\": \"\",\r\n        \"gioiTinh\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"noiSinh\": {\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"queQuan\": {\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"danToc\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"tonGiao\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"quocTich\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"diaChiThuongTru\": {\r\n          \"soNhaChiTiet\": \"\",\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"noiOHienTai\": {\r\n          \"soNhaChiTiet\": \"\",\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"danhBaLienLac\": {\r\n          \"thuDienTu\": \"\",\r\n          \"soDienThoai\": \"\",\r\n          \"soFax\": \"\"\r\n        },\r\n        \"anhCaNhan\": {\r\n          \"tenTep\": \"\",\r\n          \"dinhDang\": \"\",\r\n          \"kichThuoc\": \"\",\r\n          \"duLieu\": \"\",\r\n          \"chuKySo\": \"\",\r\n          \"ngayKySo\": \"\",\r\n          \"ngayGioTao\": \"\",\r\n          \"ngayGioSua\": \"\"\r\n        },\r\n        \"maSoCanBo\": \"\",\r\n        \"ngayTuyenDung\": \"\",\r\n        \"phongBan\": {\r\n          \"maDinhDanh\": \"\",\r\n          \"tenGoi\": \"\"\r\n        },\r\n        \"coQuanDonVi\": {\r\n          \"maHanhChinh\": \"\",\r\n          \"tenGoi\": \"\",\r\n          \"tenTiengAnh\": \"\",\r\n          \"tenVietTat\": \"\"\r\n        },\r\n        \"trinhDoChuyenMon\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"chucDanhNgheNghiep\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"viTriChucDanh\": [{\r\n          \"maDinhDanh\": \"\",\r\n          \"tenGoi\": \"\"\r\n        }],\r\n        \"tinhTrangCongTac\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"ngayThoiViec\": \"\",\r\n        \"trangThaiDuLieu\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        }\r\n      },\r\n      thongTinCanBoSample: {\r\n        \"primKey\": \"\",\r\n        \"tenGoi\": \"\",\r\n        \"hoVaTen\": \"\",\r\n        \"biDanh\": \"\",\r\n        \"ngaySinh\": \"\",\r\n        \"gioiTinh\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"noiSinh\": {\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"queQuan\": {\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"danToc\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"tonGiao\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"quocTich\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"diaChiThuongTru\": {\r\n          \"soNhaChiTiet\": \"\",\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"noiOHienTai\": {\r\n          \"soNhaChiTiet\": \"\",\r\n          \"tinhThanh\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          },\r\n          \"phuongXa\": {\r\n            \"maMuc\": \"\",\r\n            \"tenMuc\": \"\"\r\n          }\r\n        },\r\n        \"danhBaLienLac\": {\r\n          \"thuDienTu\": \"\",\r\n          \"soDienThoai\": \"\",\r\n          \"soFax\": \"\"\r\n        },\r\n        \"AnhCaNhan\": {\r\n          \"TenTep\": \"\",\r\n          \"DinhDang\": \"\",\r\n          \"KichThuoc\": \"\",\r\n          \"DuLieu\": \"\",\r\n          \"ChuKySo\": \"\",\r\n          \"NgayKySo\": \"\",\r\n          \"NgayGioTao\": \"\",\r\n          \"NgayGioSua\": \"\"\r\n        },\r\n        \"maSoCanBo\": \"\",\r\n        \"ngayTuyenDung\": \"\",\r\n        \"phongBan\": {\r\n          \"maDinhDanh\": \"\",\r\n          \"tenGoi\": \"\"\r\n        },\r\n        \"coQuanDonVi\": {\r\n          \"maHanhChinh\": \"\",\r\n          \"tenGoi\": \"\",\r\n          \"tenTiengAnh\": \"\",\r\n          \"tenVietTat\": \"\"\r\n        },\r\n        \"trinhDoChuyenMon\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"chucDanhNgheNghiep\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"viTriChucDanh\": [{\r\n          \"maDinhDanh\": \"\",\r\n          \"tenGoi\": \"\"\r\n        }],\r\n        \"tinhTrangCongTac\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        },\r\n        \"ngayThoiViec\": \"\",\r\n        \"trangThaiDuLieu\": {\r\n          \"maMuc\": \"\",\r\n          \"tenMuc\": \"\"\r\n        }\r\n      },\r\n      typeAction: '',\r\n      dialogAddCanBo: false,\r\n      validFormAdd: false,\r\n      required: [\r\n        v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'\r\n      ],\r\n      itemsCoQuan: [],\r\n      coQuanDonVi: '',\r\n      itemsPhongBan: [],\r\n      itemsPhongBanSearch: [],\r\n      phongBan: '',\r\n      itemsChucVu: [],\r\n      itemsChucVuSearch: [],\r\n      chucVu: '',\r\n      itemsGioiTinh: [],\r\n      ngaySinhCreate: '',\r\n      gioiTinhCreate: '',\r\n      tonGiaoCreate: '',\r\n      quocTichCreate: '',\r\n      danTocCreate: '',\r\n      itemsDanToc: [],\r\n      itemsQuocTich: [],\r\n      itemsTonGiao: [],\r\n      itemsTinhThanh: [],\r\n      diaChiThuongTruCuThe: '',\r\n      thuongTruTinhThanh: '',\r\n      itemsThuongTruQuanHuyen: [],\r\n      thuongTruQuanHuyen: '',\r\n      itemsThuongTruPhuongXa: [],\r\n      thuongTruPhuongXa: '',\r\n      selectDonVi: false,\r\n      selectPhongBan: false\r\n    }),\r\n    created () {\r\n      let vm = this\r\n      if (!vm.isAdmin) {\r\n        vm.$router.push({ path: '/login'})\r\n        return\r\n      }\r\n      let currentQuery = vm.$router.history.current\r\n      let query = currentQuery.query\r\n      if (query && query.hasOwnProperty('gov') && query.gov) {\r\n        vm.selectDonVi = true\r\n        vm.donViSearch = {\r\n          'maDinhDanh': query.gov,\r\n          'maHanhChinh': query.code,\r\n          'tenGoi': query.name\r\n        }\r\n        vm.coQuanDonVi = {\r\n          'maDinhDanh': query.gov,\r\n          'maHanhChinh': query.code,\r\n          'tenGoi': query.name\r\n        }\r\n      }\r\n      if (query && query.hasOwnProperty('site') && query.site) {\r\n        vm.selectPhongBan = true\r\n        vm.phongBanSearch = {\r\n          'maDinhDanh': query.site,\r\n          'tenGoi': query.name\r\n        }\r\n        vm.phongBan = {\r\n          'maDinhDanh': query.site,\r\n          'tenGoi': query.name\r\n        }\r\n      } else {\r\n        vm.selectPhongBan = false\r\n        vm.phongBanSearch = ''\r\n        vm.phongBan = ''\r\n      }\r\n      vm.getDanhSachCanBo()\r\n      vm.getDanhMuc('GIOITINH')\r\n      vm.getDanhMuc('TINHTRANGCONGTAC')\r\n      // vm.getDanhMucTinhThanh()\r\n      vm.getToChucCapTren()\r\n      // vm.getPhongBan(vm.donViSearch)\r\n      vm.getChucVu(vm.donViSearch)\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n      '$route': function (newRoute, oldRoute) {\r\n        let vm = this\r\n        let query = newRoute.query\r\n        if (query && query.hasOwnProperty('gov') && query.gov) {\r\n          vm.selectDonVi = true\r\n          vm.donViSearch = {\r\n            'maDinhDanh': query.gov,\r\n            'maHanhChinh': query.code,\r\n            'tenGoi': query.name\r\n          }\r\n          vm.coQuanDonVi = {\r\n            'maDinhDanh': query.gov,\r\n            'maHanhChinh': query.code,\r\n            'tenGoi': query.name\r\n          }\r\n        } else {\r\n          vm.selectDonVi = false\r\n          vm.donViSearch = ''\r\n          vm.coQuanDonVi = ''\r\n        }\r\n        if (query && query.hasOwnProperty('site') && query.site) {\r\n          vm.selectPhongBan = true\r\n          vm.phongBanSearch = {\r\n            'maDinhDanh': query.site,\r\n            'tenGoi': query.name\r\n          }\r\n          vm.phongBan = {\r\n            'maDinhDanh': query.site,\r\n            'tenGoi': query.name\r\n          }\r\n        } else {\r\n          vm.selectPhongBan = false\r\n          vm.phongBanSearch = ''\r\n          vm.phongBan = ''\r\n        }\r\n      },\r\n      coQuanDonVi (val) {\r\n        let vm = this\r\n        setTimeout(function () {\r\n          vm.getPhongBan(val, 'create')\r\n          vm.getChucVu(val, 'create')\r\n        }, 100)\r\n      },\r\n      donViSearch (val, type) {\r\n        let vm = this\r\n        setTimeout(function () {\r\n          vm.getPhongBan(val, 'search')\r\n          vm.getChucVu(val, 'search')\r\n        }, 100)\r\n      },\r\n      // thuongTruTinhThanh (val) {\r\n      //   let vm = this\r\n      //   if (!val) {\r\n      //     vm.itemsThuongTruQuanHuyen = []\r\n      //     vm.thuongTruQuanHuyen = ''\r\n      //     vm.itemsThuongTruPhuongXa = []\r\n      //     vm.thuongTruPhuongXa = ''\r\n      //   }\r\n      //   vm.changeTinhThanh()\r\n      // },\r\n      // thuongTruQuanHuyen (val) {\r\n      //   let vm = this\r\n      //   if (!val) {\r\n      //     vm.itemsThuongTruPhuongXa = []\r\n      //     vm.thuongTruPhuongXa = ''\r\n      //   }\r\n      //   vm.changeQuanHuyen()\r\n      // }\r\n    },\r\n    methods: {\r\n      getDanhSachCanBo (type) {\r\n        let vm = this\r\n        if (type === 'reset') {\r\n          vm.total = 0\r\n          vm.pageCount = 0\r\n          vm.page = 0\r\n        }\r\n        if (vm.loadingData) {\r\n          return\r\n        }\r\n        vm.loadingData = true\r\n        let filter = {\r\n          collectionName: 'canbo',\r\n          data: {\r\n            keyword: vm.keywordSearch,\r\n            page: vm.page,\r\n            size: vm.itemsPerPage,\r\n            orderFields: 'hoVaTen',\r\n            orderTypes: 'asc',\r\n            coQuanDonVi_maHanhChinh: vm.donViSearch ? vm.donViSearch['maHanhChinh'] : '',\r\n            phongBan_maDinhDanh: vm.phongBanSearch ? vm.phongBanSearch['maDinhDanh'] : '',\r\n            viTriChucDanh_maDinhDanh: vm.chucVuSearch ? vm.chucVuSearch['maDinhDanh'] : '',\r\n            tinhTrangCongTac_maMuc: vm.trangThaiSearch ? vm.trangThaiSearch['maMuc'] : ''\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          vm.itemsCanBo = response.content\r\n          vm.total = response.totalElements\r\n          vm.pageCount = response.totalPages\r\n          vm.loadingData = false\r\n        }).catch(function () {\r\n          vm.loadingData = false\r\n        })\r\n      },\r\n      changePage(config) {\r\n        let vm = this\r\n        vm.page = config.page\r\n        vm.getDanhSachCanBo()\r\n      },\r\n      showThongTinCanBo (item) {\r\n        let vm = this\r\n        vm.$router.push({ path: '/can-bo/' + item.primKey })\r\n      },\r\n      showEditCanBo (item) {\r\n        let vm = this\r\n        vm.typeAction = 'update'\r\n        vm.dialogAddCanBo = true\r\n        setTimeout(function () {\r\n          vm.thongTinCanBo = item\r\n          vm.formatInputData()\r\n          vm.$refs.formAddCanBo.resetValidation()\r\n        }, 100)\r\n      },\r\n      showAddCanBo () {\r\n        let vm = this\r\n        vm.typeAction = 'create'\r\n        vm.dialogAddCanBo = true\r\n        setTimeout(function () {\r\n          vm.thongTinCanBo = vm.thongTinCanBoSample\r\n          vm.$refs.formAddCanBo.reset()\r\n          vm.$refs.formAddCanBo.resetValidation()\r\n        }, 100)\r\n      },\r\n      submitAddCanBo () {\r\n        let vm = this\r\n        vm.formatOutputData()\r\n        if (vm.loading) {\r\n          return\r\n        }\r\n        vm.loading = true\r\n        if (vm.$refs.formAddCanBo.validate()) {\r\n          let filter = {\r\n            collectionName: 'canbo',\r\n            data: vm.thongTinCanBo\r\n          }\r\n          vm.$store.dispatch('collectionCreate', filter).then(function (result) {\r\n            vm.loading = false\r\n            toastr.remove()\r\n            toastr.success('Thêm mới thành công')\r\n            vm.dialogAddCanBo = false\r\n            vm.getDanhSachCanBo()\r\n          }).catch(function (response) {\r\n            vm.loading = false\r\n            toastr.remove()\r\n            if (response && response.status == 409) {\r\n              toastr.error('Mã cán bộ đã tồn tại')\r\n              return\r\n            }\r\n            toastr.error('Thêm mới thất bại')\r\n          })\r\n        } else {\r\n          vm.loading = false\r\n        }\r\n      },\r\n      submitUpdateCanBo () {\r\n        let vm = this\r\n        vm.formatOutputData()\r\n        if (vm.loading) {\r\n          return\r\n        }\r\n        vm.loading = true\r\n        if (vm.$refs.formAddCanBo.validate()) {\r\n          let filter = {\r\n            collectionName: 'canbo',\r\n            id: vm.thongTinCanBo['primKey'],\r\n            data: vm.thongTinCanBo\r\n          }\r\n          vm.$store.dispatch('collectionUpdate', filter).then(function (result) {\r\n            vm.loading = false\r\n            toastr.remove()\r\n            toastr.success('Cập nhật thông tin thành công')\r\n            vm.dialogAddCanBo = false\r\n            vm.getDanhSachCanBo()\r\n          }).catch(function (response) {\r\n            vm.loading = false\r\n            toastr.remove()\r\n            toastr.error('Cập nhật thông tin thất bại')\r\n          })\r\n        } else {\r\n          vm.loading = false\r\n        }\r\n      },\r\n      deleteCanBo (item) {\r\n        let vm = this\r\n        vm.$store.commit('SET_SHOWCONFIRM', true)\r\n        let confirm = {\r\n          auth: false,\r\n          title: 'Xóa cán bộ',\r\n          message: 'Bạn có chắc chắn muốn xóa \"' + item.hoVaTen + '\"',\r\n          button: {\r\n            yes: 'Có',\r\n            no: 'Không'\r\n          },\r\n          callback: () => {\r\n            let filter = {\r\n              collectionName: 'canbo',\r\n              id: item.primKey\r\n            }\r\n            vm.loading = true\r\n            vm.$store.dispatch('collectionDelete', filter).then(function (result) {\r\n              vm.loading = false\r\n              toastr.remove()\r\n              toastr.success('Xóa cán bộ thành công')\r\n              vm.getDanhSachCanBo()\r\n            }).catch(function (response) {\r\n              vm.loading = false\r\n              toastr.remove()\r\n              toastr.error('Xóa cán bộ thất bại')\r\n            })\r\n          }\r\n        }\r\n        vm.$store.commit('SET_CONFIG_CONFIRM_DIALOG', confirm)\r\n      },\r\n      getDanhMuc (collection) {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'dulieudanhmuc',\r\n          data: {\r\n            orderFields: 'maMuc',\r\n            orderTypes: 'asc',\r\n            page: 0,\r\n            size: 1000,\r\n            danhMuc_maDanhMuc: collection\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          if (collection === 'TINHTRANGCONGTAC') {\r\n            vm.itemsTrangThai = response.content\r\n          }\r\n          if (collection === 'GIOITINH') {\r\n            vm.itemsGioiTinh = response.content\r\n          }\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      getDanhMucTinhThanh () {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'tinhthanh',\r\n          data: {\r\n            keyword: '',\r\n            page: 0,\r\n            size: 100,\r\n            orderFields: 'maMuc',\r\n            orderTypes: 'asc',\r\n            tinhTrang: '1',\r\n            thamChieu_maMuc: ''\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          vm.itemsTinhThanh = response.content\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      changeTinhThanh (type) {\r\n        let vm = this\r\n        let danhMucCha = ''\r\n        if (!vm.thuongTruTinhThanh) {\r\n          return\r\n        }\r\n        danhMucCha = vm.thuongTruTinhThanh['maMuc']\r\n        let filter = {\r\n          collectionName: 'quanhuyen',\r\n          data: {\r\n            keyword: '',\r\n            page: 0,\r\n            size: 100,\r\n            orderFields: 'maMuc',\r\n            orderTypes: 'asc',\r\n            tinhTrang: '1',\r\n            thamChieu_maMuc: danhMucCha\r\n          }\r\n        }\r\n        \r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          vm.itemsThuongTruQuanHuyen = response.content\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      changeQuanHuyen (type) {\r\n        let vm = this\r\n        let danhMucCha = ''\r\n        if (!vm.thuongTruQuanHuyen) {\r\n          return\r\n        }\r\n        danhMucCha = vm.thuongTruQuanHuyen['maMuc']\r\n        let filter = {\r\n          collectionName: 'phuongxa',\r\n          data: {\r\n            keyword: '',\r\n            page: 0,\r\n            size: 100,\r\n            orderFields: 'maMuc',\r\n            orderTypes: 'asc',\r\n            tinhTrang: '1',\r\n            thamChieu_maMuc: danhMucCha\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          vm.itemsThuongTruPhuongXa = response.content\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      getToChucCapTren () {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'coquandonvi',\r\n          data: {\r\n            keyword: '',\r\n            page: 0,\r\n            size: 500,\r\n            orderFields: 'tenGoi',\r\n            orderTypes: 'asc'\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          vm.itemsDonVi = response.content\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      getPhongBan (donvi, type) {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'phongban',\r\n          data: {\r\n            page: 0,\r\n            size: 500,\r\n            orderFields: 'tenGoi',\r\n            orderTypes: 'asc',\r\n            coQuanDonVi_maDinhDanh: donvi ? donvi['maDinhDanh'] : ''\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          if (!type) {\r\n            vm.itemsPhongBan = response.content\r\n            vm.itemsPhongBanSearch = response.content\r\n          }\r\n          if (type == 'create') {\r\n            vm.itemsPhongBan = response.content\r\n          }\r\n          if (type == 'search') {\r\n            vm.itemsPhongBanSearch = response.content\r\n          }\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      getChucVu (donvi, type) {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'vitrichucdanh',\r\n          data: {\r\n            keyword: '',\r\n            page: 0,\r\n            size: 100,\r\n            orderFields: 'tenGoi',\r\n            orderTypes: 'asc',\r\n            coQuanDonVi_maDinhDanh: donvi ? donvi['maDinhDanh'] : ''\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          if (!type) {\r\n            vm.itemsChucVu = response.content\r\n            vm.itemsChucVuSearch = response.content\r\n          }\r\n          if (type == 'create') {\r\n            vm.itemsChucVu = response.content\r\n          }\r\n          if (type == 'search') {\r\n            vm.itemsChucVuSearch = response.content\r\n          }\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      formatOutputData () {\r\n        let vm = this\r\n        vm.thongTinCanBo.ngaySinh = vm.convertDate(vm.ngaySinhCreate)\r\n        vm.thongTinCanBo.diaChiThuongTru = {\r\n          \"phuongXa\": {\r\n            \"maMuc\": vm.thuongTruPhuongXa ? vm.thuongTruPhuongXa.maMuc : '',\r\n            \"tenMuc\": vm.thuongTruPhuongXa ? vm.thuongTruPhuongXa.tenMuc : ''\r\n          },\r\n          \"quanHuyen\": {\r\n            \"maMuc\": vm.thuongTruQuanHuyen ? vm.thuongTruQuanHuyen.maMuc : '',\r\n            \"tenMuc\": vm.thuongTruQuanHuyen ? vm.thuongTruQuanHuyen.tenMuc : ''\r\n          },\r\n          \"tinhThanh\": {\r\n            \"maMuc\": vm.thuongTruTinhThanh ? vm.thuongTruTinhThanh.maMuc : '',\r\n            \"tenMuc\": vm.thuongTruTinhThanh ? vm.thuongTruTinhThanh.tenMuc : ''\r\n          },\r\n          \"soNhaChiTiet\": vm.diaChiThuongTruCuThe\r\n        }\r\n        vm.thongTinCanBo.gioiTinh = {\r\n          \"maMuc\": vm.gioiTinhCreate ? vm.gioiTinhCreate.maMuc : '',\r\n          \"tenMuc\": vm.gioiTinhCreate ? vm.gioiTinhCreate.tenMuc : ''\r\n        }\r\n        vm.thongTinCanBo.tinhTrangCongTac = {\r\n          \"maMuc\": vm.trangThai ? vm.trangThai.maMuc : '',\r\n          \"tenMuc\": vm.trangThai ? vm.trangThai.tenMuc : ''\r\n        }\r\n        vm.thongTinCanBo.coQuanDonVi = {\r\n          \"maHanhChinh\": vm.coQuanDonVi ? vm.coQuanDonVi.maHanhChinh : '',\r\n          \"tenGoi\": vm.coQuanDonVi ? vm.coQuanDonVi.tenGoi : '',\r\n          \"tenTiengAnh\": \"\",\r\n\t\t      \"tenVietTat\": \"\"\r\n        }\r\n        vm.thongTinCanBo.phongBan = {\r\n          \"maDinhDanh\": vm.phongBan ? vm.phongBan.maDinhDanh : '',\r\n          \"tenGoi\": vm.phongBan ? vm.phongBan.tenGoi : ''\r\n        }\r\n        let chucVuOutput = []\r\n        try {\r\n          let chucVu = vm.chucVu.filter(function (item) {\r\n            return item.maDinhDanh\r\n          })\r\n          if (chucVu && chucVu.length) {\r\n            chucVuOutput = Array.from(chucVu, function (item) {\r\n              return {maDinhDanh: item.maDinhDanh, tenGoi: item.tenGoi}\r\n            })\r\n          }\r\n        } catch (error) {\r\n        }\r\n        vm.thongTinCanBo.viTriChucDanh = chucVuOutput && chucVuOutput.length ? chucVuOutput : []\r\n      },\r\n      formatInputData () {\r\n        let vm = this\r\n        vm.ngaySinhCreate = vm.dateLocale(vm.thongTinCanBo.ngaySinh)\r\n        vm.gioiTinhCreate = vm.thongTinCanBo.gioiTinh\r\n        vm.trangThai = vm.thongTinCanBo.tinhTrangCongTac\r\n        vm.coQuanDonVi = vm.thongTinCanBo.coQuanDonVi\r\n        vm.phongBan = vm.thongTinCanBo.phongBan\r\n        vm.chucVu = vm.thongTinCanBo.viTriChucDanh\r\n        vm.diaChiThuongTruCuThe = vm.thongTinCanBo.diaChiThuongTru.soNhaChiTiet\r\n        vm.thuongTruTinhThanh = vm.thongTinCanBo.diaChiThuongTru.tinhThanh\r\n        vm.thuongTruQuanHuyen = vm.thongTinCanBo.diaChiThuongTru.quanHuyen\r\n        vm.thuongTruPhuongXa = vm.thongTinCanBo.diaChiThuongTru.phuongXa\r\n      },\r\n      formatBirthDate () {\r\n        let vm = this\r\n        let lengthDate = String(vm.ngaySinhCreate).trim().length\r\n        let splitDate = String(vm.ngaySinhCreate).split('/')\r\n        if (lengthDate && lengthDate > 4 && splitDate.length === 3 && splitDate[2]) {\r\n          vm.ngaySinhCreate = vm.translateDate(vm.ngaySinhCreate)\r\n        } else if (lengthDate && lengthDate === 8) {\r\n          let date = String(vm.ngaySinhCreate)\r\n          vm.ngaySinhCreate = date.slice(0,2) + '/' + date.slice(2,4) + '/' + date.slice(4,8)\r\n        } else {\r\n          vm.ngaySinhCreate = ''\r\n        }\r\n      },\r\n      formatChucDanh (chucDanh) {\r\n        if (chucDanh && chucDanh.length) {\r\n          let arr = Array.from(chucDanh, function (item) {\r\n            return item.tenGoi\r\n          })\r\n          return arr.toString().replace(/,/g, '; ')\r\n        } else {\r\n          return ''\r\n        }\r\n      },\r\n      translateDate (date) {\r\n        if (!date) return null\r\n        const [day, month, year] = date.split('/')\r\n        return `${day.padStart(2, '0')}/${month.padStart(2, '0')}/${year}`\r\n      },\r\n      dateLocale (dateInput) {\r\n        let date = new Date(dateInput)\r\n        return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`\r\n      },\r\n      convertDate (date) {\r\n        if (!date) return ''\r\n        const [day, month, year] = date.split('/')\r\n        let ddd = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n        return (new Date(ddd)).toISOString()\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n</style>\r\n"]}]}
{"remainingRequest":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vuejs-sourcode\\undp-bgt\\src\\views\\ThongTinCanBo.vue?vue&type=style&index=0&id=edf7da24&lang=sass&","dependencies":[{"path":"F:\\vuejs-sourcode\\undp-bgt\\src\\views\\ThongTinCanBo.vue","mtime":1665053037814},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\css-loader\\dist\\cjs.js","mtime":1665053118453},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1665053120726},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\postcss-loader\\src\\index.js","mtime":1665053119174},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1665053118004},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053120378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5sYWJsZS0xCiAgbWFyZ2luLXJpZ2h0OiA4cHgK"},{"version":3,"sources":["ThongTinCanBo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmrBA;AACA","file":"ThongTinCanBo.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-card\r\n    class=\"mx-auto pa-3\"\r\n    outlined\r\n    flat\r\n  >\r\n    <v-layout wrap>\r\n      <v-flex xs12 class=\"pr-3\">\r\n        <v-row class=\"mx-0 my-0\" style=\"border-bottom: 1px solid #2161B1\">\r\n          <v-col class=\"d-flex justify-start px-0 py-0\" style=\"max-width: 250px;color: #2161B1;font-weight: 500;\">\r\n            <div class=\"header-content\">\r\n              THÔNG TIN CÁN BỘ\r\n            </div>\r\n            <div class=\"triangle-header\"></div>\r\n          </v-col>\r\n          <v-spacer></v-spacer>\r\n          <v-col class=\"d-flex align-center justify-end py-0 px-0\" style=\"max-width: 150px;margin-bottom: -3px;\">\r\n            <v-btn\r\n              depressed\r\n              class=\"mx-0\"\r\n              small\r\n              color=\"primary\"\r\n              @click=\"goBack()\"\r\n              style=\"float: right\"\r\n              >\r\n              <v-icon size=\"18\">mdi-reply-all</v-icon>\r\n              &nbsp;\r\n              Quay lại\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-card>\r\n          <v-row class=\"my-0 mx-0\" style=\"border-bottom: 1px solid #dedede\">\r\n            <v-col class=\"justify-start\">\r\n              <div class=\"mb-2 font-weight-bold\" style=\"color: #2161B1;text-transform: uppercase;\">{{thongTinCanBo['hoVaTen']}}</div>\r\n              <div style=\"color: #2161B1;\">{{chucDanhText}} - {{thongTinCanBo['coQuanDonVi']['tenGoi']}}</div>\r\n            </v-col>\r\n            <v-spacer></v-spacer>\r\n            \r\n          </v-row>\r\n          <v-row class=\"my-0 mx-0\" v-if=\"thongTinCanBo\">\r\n            <v-col cols=\"12\" md=\"6\" class=\"py-2\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Mã cán bộ:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['maSoCanBo']}}</div>\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"6\" class=\"py-2\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Đơn vị công tác:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['coQuanDonVi']['tenGoi']}}</div>\r\n            </v-col>\r\n            <!-- <v-col cols=\"12\" md=\"6\" class=\"py-2\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Phòng ban:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['phongBan']['tenGoi']}}</div>\r\n            </v-col> -->\r\n            <v-col cols=\"12\" md=\"6\" class=\"py-2\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Chức vụ:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['viTriChucDanh'][0]['tenGoi']}}</div>\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"6\" class=\"py-2\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Điện thoại:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['danhBaLienLac']['soDienThoai']}}</div>\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"6\" class=\"py-2\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Email:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['danhBaLienLac']['thuDienTu']}}</div>\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"6\" class=\"py-2\" v-if=\"thongTinCanBo['tinhTrangCongTac']['tenMuc']\">\r\n              <div class=\"d-inline-block font-weight-bold lable-1\">Tình trạng công tác:</div>\r\n              <div class=\"d-inline-block\">{{thongTinCanBo['tinhTrangCongTac']['tenMuc']}}</div>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"my-0 pb-3\">\r\n            <v-col cols=\"12\" class=\"py-2\">\r\n              <v-btn v-if=\"thongTinCanBo['danhTinhDienTu'][0] && thongTinCanBo['danhTinhDienTu'][0]['tinhTrangSuDungTaiKhoan']['maMuc'] == 2\"\r\n                color=\"primary\" small class=\"mx-3 text-white\" @click=\"showChangePass()\">\r\n                Cấp lại mật khẩu\r\n              </v-btn>\r\n              <v-btn color=\"primary\" v-if=\"!thongTinCanBo['danhTinhDienTu'][0]\" small class=\"mx-3 text-white\" @click=\"showCreateAcc()\">\r\n                  Tạo tài khoản\r\n              </v-btn>\r\n              <v-btn v-if=\"thongTinCanBo['danhTinhDienTu'][0] && thongTinCanBo['danhTinhDienTu'][0]['tinhTrangSuDungTaiKhoan']['maMuc'] == 1\" color=\"primary\" small class=\"mx-3 text-white\" @click=\"showChangeStatusAcc('active')\">\r\n                  Kích hoạt tài khoản\r\n              </v-btn>\r\n              <v-btn v-if=\"thongTinCanBo['danhTinhDienTu'][0] && thongTinCanBo['danhTinhDienTu'][0]['tinhTrangSuDungTaiKhoan']['maMuc'] == 2\" color=\"primary\" small class=\"mx-3 text-white\" @click=\"showChangeStatusAcc('block')\">\r\n                  Khóa tài khoản\r\n              </v-btn>\r\n              <v-btn v-if=\"thongTinCanBo['danhTinhDienTu'][0] && thongTinCanBo['danhTinhDienTu'][0]['tinhTrangSuDungTaiKhoan']['maMuc'] == 3\" color=\"primary\" small class=\"mx-3 text-white\" @click=\"showChangeStatusAcc('unlock')\">\r\n                  Mở khóa tài khoản\r\n              </v-btn>\r\n              <v-btn v-if=\"thongTinCanBo['danhTinhDienTu'][0] && thongTinCanBo['danhTinhDienTu'][0]['tinhTrangSuDungTaiKhoan']['maMuc'] == 4\" color=\"primary\" small class=\"mx-3 text-white\" @click=\"showChangeStatusAcc('restore')\">\r\n                  Khôi phục tài khoản\r\n              </v-btn>\r\n              <v-btn color=\"primary\" v-if=\"thongTinCanBo['danhTinhDienTu'][0] && thongTinCanBo['danhTinhDienTu'][0]['tinhTrangSuDungTaiKhoan']['maMuc'] == 3\" small class=\"mx-3 text-white\" @click=\"showChangeStatusAcc('delete')\">\r\n                Xóa tài khoản\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-dialog\r\n            max-width=\"450\"\r\n            v-model=\"dialogCreateAcc\"\r\n            persistent\r\n          >\r\n            <v-card>\r\n              <v-toolbar\r\n                dark\r\n                color=\"primary\"\r\n                class=\"px-3\"\r\n              >\r\n                <v-toolbar-title >Tạo tài khoản</v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n                <v-toolbar-items>\r\n                  <v-btn\r\n                    icon\r\n                    dark\r\n                    @click=\"dialogCreateAcc = false\"\r\n                  >\r\n                    <v-icon>mdi-close</v-icon>\r\n                  </v-btn>\r\n                </v-toolbar-items>\r\n              </v-toolbar>\r\n              <v-card-text class=\"mt-5\">\r\n                <v-form\r\n                  ref=\"formCreateAcc\"\r\n                  v-model=\"validFormAdd\"\r\n                  lazy-validation\r\n                >\r\n                    <v-layout wrap>\r\n                      <v-flex xs12 class=\"mb-2\">\r\n                        <div class=\"text-label mb-2\">\r\n                          <span>Mật khẩu tài khoản</span>\r\n                          <span class=\"red--text\"> (*)</span>\r\n                        </div>\r\n                        <v-text-field\r\n                          class=\"input-form\"\r\n                          v-model=\"passwordCreate\"\r\n                          solo\r\n                          dense\r\n                          :rules=\"required\"\r\n                          required\r\n                          hide-details=\"auto\"\r\n                        ></v-text-field>\r\n                      </v-flex>\r\n                    </v-layout>\r\n                </v-form>\r\n              </v-card-text>\r\n              <v-card-actions class=\"justify-end\">\r\n                <v-btn small color=\"red\" class=\"white--text mr-2\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click=\"dialogCreateAcc = false\">\r\n                  <v-icon left>\r\n                    mdi-close\r\n                  </v-icon>\r\n                  Thoát\r\n                </v-btn>\r\n                <v-btn small class=\"mr-2\" color=\"primary\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click.native=\"createAccount\">\r\n                  <v-icon left>\r\n                    mdi-content-save\r\n                  </v-icon>\r\n                  <span>Tạo tài khoản</span>\r\n                </v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n\r\n          <v-dialog\r\n            class=\"px-3\"\r\n            max-width=\"450\"\r\n            v-model=\"dialogChangePass\"\r\n            persistent\r\n          >\r\n            <v-card>\r\n              <v-toolbar\r\n                class=\"px-3\"\r\n                dark\r\n                color=\"primary\"\r\n              >\r\n                <v-toolbar-title>\r\n                  {{typeChange == 'password' ? 'Cấp lại mật khẩu' : 'Cập nhật tên đăng nhập'}}\r\n                </v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n                <v-toolbar-items>\r\n                  <v-btn\r\n                    icon\r\n                    dark\r\n                    @click=\"dialogChangePass = false\"\r\n                  >\r\n                    <v-icon>mdi-close</v-icon>\r\n                  </v-btn>\r\n                </v-toolbar-items>\r\n              </v-toolbar>\r\n              <v-card-text class=\"mt-5\">\r\n                <v-form\r\n                  ref=\"formChangePass\"\r\n                  v-model=\"validFormChangePass\"\r\n                  lazy-validation\r\n                >\r\n                    <v-layout wrap>\r\n                      <v-flex xs12 class=\"mb-2\">\r\n                        <div class=\"text-label mb-2\">\r\n                          <span v-if=\"typeChange == 'password'\">Mật khẩu mới</span>\r\n                          <span v-else>Tên đăng nhập mới</span>\r\n                          <span class=\"red--text\"> (*)</span>\r\n                        </div>\r\n                        <v-text-field\r\n                          class=\"input-form\"\r\n                          v-model=\"passwordChange\"\r\n                          solo\r\n                          dense\r\n                          :rules=\"typeChange == 'password' ? requiredPassword : required\"\r\n                          required\r\n                          hide-details=\"auto\"\r\n                          :readonly=\"typeChange != 'password'\"\r\n                        ></v-text-field>\r\n                      </v-flex>\r\n                    </v-layout>\r\n                </v-form>\r\n              </v-card-text>\r\n              <v-card-actions class=\"justify-end\">\r\n                <v-btn small color=\"red\" class=\"white--text mr-2\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click=\"dialogChangePass = false\">\r\n                  <v-icon left>\r\n                    mdi-close\r\n                  </v-icon>\r\n                  Thoát\r\n                </v-btn>\r\n                <v-btn small v-if=\"typeChange == 'password'\" class=\"mr-2\" color=\"primary\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click.native=\"submitChangePass\">\r\n                  <v-icon left>\r\n                    mdi-content-save\r\n                  </v-icon>\r\n                  <span>Xác nhận</span>\r\n                </v-btn>\r\n                <v-btn small v-else class=\"mr-2\" color=\"primary\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click.native=\"submitChangeAccount\">\r\n                  <v-icon left>\r\n                    mdi-content-save\r\n                  </v-icon>\r\n                  <span>Xác nhận</span>\r\n                </v-btn>\r\n                \r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n\r\n          <v-dialog\r\n          max-width=\"650\"\r\n          v-model=\"dialogNoteAction\"\r\n          persistent\r\n        >\r\n          <v-card>\r\n            <v-toolbar\r\n              class=\"px-3\"\r\n              dark\r\n              color=\"primary\"\r\n            >\r\n              <v-toolbar-title >{{titleAction}}</v-toolbar-title>\r\n              <v-spacer></v-spacer>\r\n              <v-toolbar-items>\r\n                <v-btn\r\n                  icon\r\n                  dark\r\n                  @click=\"dialogNoteAction = false\"\r\n                >\r\n                  <v-icon>mdi-close</v-icon>\r\n                </v-btn>\r\n              </v-toolbar-items>\r\n            </v-toolbar>\r\n            <v-card-text class=\"mt-5\">\r\n              <v-form\r\n                ref=\"formActionAccount\"\r\n                v-model=\"validFormActionAccount\"\r\n                lazy-validation\r\n              >\r\n                  <v-layout wrap>\r\n                    <v-flex xs12 class=\"mb-2\">\r\n                      <div class=\"text-label mb-2\">\r\n                        <span>Nhập nội dung</span>\r\n                        <!-- <span class=\"red--text\"> (*)</span> -->\r\n                      </div>\r\n                      <v-textarea\r\n                        class=\"input-form\"\r\n                        v-model=\"noteAction\"\r\n                        solo\r\n                        dense\r\n                        hide-details=\"auto\"\r\n                      ></v-textarea>\r\n                    </v-flex>\r\n                  </v-layout>\r\n              </v-form>\r\n            </v-card-text>\r\n\r\n            <v-card-actions class=\"justify-end\">\r\n              <v-btn small color=\"red\" class=\"white--text mr-2\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click=\"dialogNoteAction = false\">\r\n                <v-icon left>\r\n                  mdi-close\r\n                </v-icon>\r\n                Thoát\r\n              </v-btn>\r\n              <v-btn small class=\"mr-2\" color=\"primary\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click.native=\"submitChangeStatusAcc\">\r\n                <v-icon left>\r\n                  mdi-content-save\r\n                </v-icon>\r\n                <span>Xác nhận</span>\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n    \r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n  import Pagination from './Pagination.vue'\r\n  import toastr from 'toastr'\r\n  toastr.options = {\r\n    'closeButton': true,\r\n    'timeOut': '5000',\r\n    \"positionClass\": \"toast-top-center\"\r\n  }\r\n  export default {\r\n    name: 'ThongTinCanBo',\r\n    components: {\r\n      Pagination\r\n    },\r\n    props: ['id'],\r\n    data: () => ({\r\n      loadingAction: false,\r\n      loadingData: false,\r\n      thongTinCanBo: '',\r\n      headers: [\r\n        {\r\n            sortable: false,\r\n            text: 'STT',\r\n            align: 'center',\r\n            value: 'index'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Số hiệu hiện tại',\r\n            align: 'left',\r\n            value: 'soHieuHienTai'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Số hiệu gốc',\r\n            align: 'left',\r\n            value: 'soHieuGoc'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Số mã vạch',\r\n            align: 'left',\r\n            value: 'soMaVach'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Số PIN',\r\n            align: 'left',\r\n            value: 'soPin'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Hết hiệu lực',\r\n            align: 'left',\r\n            value: 'hetHieuLuc'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Thiết bị',\r\n            align: 'left',\r\n            value: 'thietBi'\r\n        },\r\n        {\r\n            sortable: false,\r\n            text: 'Trạng thái',\r\n            align: 'left',\r\n            value: 'trangThai'\r\n        }\r\n      ],\r\n      itemsChungThuSo: [],\r\n      page: 0,\r\n      itemsPerPage: 15,\r\n      total: 0,\r\n      pageCount: 2,\r\n      chucDanhText: '',\r\n      dialogCreateAcc: false,\r\n      typeChange: '',\r\n      dialogChangePass: false,\r\n      validFormChangePass: true,\r\n      passwordChange: '',\r\n      validFormActionAccount: true,\r\n      dialogNoteAction: false,\r\n      titleAction: '',\r\n      noteAction: '',\r\n      required: [\r\n        v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'\r\n      ],\r\n      passwordCreate: '',\r\n      validFormAdd: false\r\n    }),\r\n    created () {\r\n      let vm = this\r\n      vm.getThongTinCanBo()\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n    },\r\n    methods: {\r\n      getThongTinCanBo () {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'canbo',\r\n          id: vm.id\r\n        }\r\n        vm.loadingData = true\r\n        vm.$store.dispatch('collectionDetail', filter).then(function (response) {\r\n          vm.loadingData = false\r\n          vm.thongTinCanBo = response.resp\r\n          vm.chucDanhText = vm.thongTinCanBo['viTriChucDanh'][0]['tenGoi']\r\n        }).catch(function () {\r\n          vm.loadingData = false\r\n        })\r\n        vm.getChungThuSo()\r\n      },\r\n      showCreateAcc () {\r\n        let vm = this\r\n        vm.passwordCreate = ''\r\n        vm.dialogCreateAcc = true\r\n      },\r\n      showChangeAcc () {\r\n        let vm = this\r\n        vm.typeChange = 'account'\r\n        vm.passwordChange = vm.thongTinCanBo['maSoCaNhan']\r\n        vm.dialogChangePass = true\r\n      },\r\n      showChangePass () {\r\n        let vm = this\r\n        vm.typeChange = 'password'\r\n        vm.passwordChange = ''\r\n        vm.dialogChangePass = true\r\n      },\r\n      submitChangePass () {\r\n        let vm = this\r\n        if (vm.$refs.formChangePass.validate()) {\r\n          let filter = {\r\n            data: {\r\n              \"tenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh'],\r\n              \"matKhauMoi\": vm.passwordChange,\r\n              \"type\": \"canbo\"\r\n            }\r\n          }\r\n          vm.loadingAction = true\r\n          vm.$store.dispatch('changePass', filter).then(function (response) {\r\n            vm.loadingAction = false\r\n            vm.dialogChangePass = false\r\n            toastr.remove()\r\n            toastr.success('Cấp lại mật khẩu thành công')\r\n          }).catch(function () {\r\n            vm.loadingAction = false\r\n            toastr.remove()\r\n            toastr.error('Cấp lại mật khẩu thất bại')\r\n          })\r\n        }\r\n      },\r\n      submitChangeAccount () {\r\n        let vm = this\r\n        if (vm.$refs.formChangePass.validate()) {\r\n          let filter = {\r\n            data: {\r\n              \"newTenDinhDanh\": vm.passwordChange,\r\n              \"oldTenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh']\r\n            },\r\n            \"type\": \"canbo\",\r\n            \"maDinhDanh\": vm.thongTinCanBo.maDinhDanh\r\n          }\r\n          vm.loadingAction = true\r\n          vm.$store.dispatch('changeAcc', filter).then(function (response) {\r\n            vm.loadingAction = false\r\n            vm.dialogChangePass = false\r\n            toastr.remove()\r\n            toastr.success('Cập nhật tên đăng nhập thành công')\r\n            vm.getThongTinCanBo()\r\n          }).catch(function () {\r\n            vm.loadingAction = false\r\n            toastr.remove()\r\n            toastr.error('Cập nhật tên đăng nhập thất bại')\r\n          })\r\n        }\r\n      },\r\n      showChangeStatusAcc (action) {\r\n        let vm = this\r\n        vm.actionStatusAcc = action\r\n        if (action === 'block') {\r\n          vm.titleAction = 'LÝ DO KHÓA TÀI KHOẢN'\r\n        } else if (action === 'active') {\r\n          vm.titleAction = 'NỘI DUNG KÍCH HOẠT TÀI KHOẢN'\r\n        } else if (action === 'unlock') {\r\n          vm.titleAction = 'NỘI DUNG MỞ KHÓA TÀI KHOẢN'\r\n        } else if (action === 'delete') {\r\n          vm.titleAction = 'LÝ DO XÓA TÀI KHOẢN'\r\n        } else if (action === 'restore') {\r\n          vm.titleAction = 'NỘI DUNG KHÔI PHỤC TÀI KHOẢN'\r\n        } \r\n        vm.noteAction = ''\r\n        vm.dialogNoteAction = true\r\n        setTimeout (function () {\r\n          vm.$refs.formActionAccount.resetValidation()\r\n        }, 100)\r\n      },\r\n      submitChangeStatusAcc () {\r\n        let vm = this\r\n        if (vm.$refs.formActionAccount.validate()) {\r\n          if (vm.actionStatusAcc === 'block') {\r\n            vm.blockAccount()\r\n          } else if (vm.actionStatusAcc === 'delete') {\r\n            vm.deleteAccount()\r\n          } else if (vm.actionStatusAcc === 'active') {\r\n            vm.activeAccount()\r\n          } else if (vm.actionStatusAcc === 'unlock') {\r\n            vm.unLockAccount()\r\n          } else if (vm.actionStatusAcc === 'restore') {\r\n            vm.restoreAccount()\r\n          }\r\n        }\r\n      },\r\n      createAccount () {\r\n        let vm = this\r\n        if (vm.$refs.formCreateAcc.validate()) {\r\n          let filter = {\r\n            data: {\r\n              \"maDinhDanh\": vm.thongTinCanBo.maDinhDanh,\r\n              \"password\": vm.passwordCreate,\r\n              \"type\": \"canbo\"\r\n            }\r\n          }\r\n          vm.loadingAction = true\r\n          vm.$store.dispatch('createAccountCanBo', filter).then(function (response) {\r\n            vm.loadingAction = false\r\n            vm.dialogCreateAcc = false\r\n            toastr.remove()\r\n            toastr.success('Tạo tài khoản thành công')\r\n            vm.getThongTinCanBo()\r\n          }).catch(function () {\r\n            vm.loadingAction = false\r\n            toastr.remove()\r\n            toastr.error('Tạo tài khoản không thành công')\r\n          })\r\n        }\r\n      },\r\n      activeAccount () {\r\n        let vm = this\r\n        let filter = {\r\n          data: {\r\n            \"tenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh'],\r\n            \"type\": \"canbo\",\r\n            \"activityNote\": vm.noteAction\r\n          }\r\n        }\r\n        vm.loadingAction = true\r\n        vm.$store.dispatch('activeCaNhan', filter).then(function (response) {\r\n          vm.loadingAction = false\r\n          vm.dialogCreateAcc = false\r\n          toastr.remove()\r\n          toastr.success('Kích hoạt tài khoản thành công')\r\n          vm.getThongTinCanBo()\r\n          vm.dialogNoteAction = false\r\n        }).catch(function () {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.error('Kích hoạt tài khoản không thành công')\r\n        })\r\n      },\r\n      blockAccount () {\r\n        let vm = this\r\n        let filter = {\r\n          data: {\r\n            \"tenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh'],\r\n            \"type\": \"canbo\",\r\n            \"activityNote\": vm.noteAction\r\n          }\r\n        }\r\n        vm.loadingAction = true\r\n        vm.$store.dispatch('blockCaNhan', filter).then(function (response) {\r\n          vm.loadingAction = false\r\n          vm.dialogCreateAcc = false\r\n          toastr.remove()\r\n          toastr.success('Khóa tài khoản thành công')\r\n          vm.getThongTinCanBo()\r\n          vm.dialogNoteAction = false\r\n        }).catch(function () {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.error('Khóa tài khoản không thành công')\r\n        })\r\n      },\r\n      unLockAccount () {\r\n        let vm = this\r\n        let filter = {\r\n          data: {\r\n            \"tenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh'],\r\n            \"type\": \"canbo\",\r\n            \"activityNote\": vm.noteAction\r\n          }\r\n        }\r\n        vm.loadingAction = true\r\n        vm.$store.dispatch('unBlockCaNhan', filter).then(function (response) {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.success('Mở khóa tài khoản thành công')\r\n          vm.getThongTinCanBo()\r\n          vm.dialogNoteAction = false\r\n        }).catch(function () {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.error('Mở khóa tài khoản không thành công')\r\n        })\r\n      },\r\n      restoreAccount () {\r\n        let vm = this\r\n        let filter = {\r\n          data: {\r\n            \"tenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh'],\r\n            \"type\": \"canbo\",\r\n            \"activityNote\": vm.noteAction\r\n          }\r\n        }\r\n        vm.loadingAction = true\r\n        vm.$store.dispatch('restoreCaNhan', filter).then(function (response) {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.success('Khôi phục tài khoản thành công')\r\n          vm.getThongTinCanBo()\r\n          vm.dialogNoteAction = false\r\n        }).catch(function () {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.error('Khôi phục tài khoản không thành công')\r\n        })\r\n      },\r\n      deleteAccount () {\r\n        let vm = this\r\n        vm.$confirm({\r\n          title: 'Xác nhận xóa dữ liệu',\r\n          message: 'Bạn có chắc chắn xóa tài khoản này?',\r\n          button: {\r\n            yes: 'Có',\r\n            no: 'Không'\r\n          },\r\n          callback: confirm => {\r\n            if (confirm == true) {\r\n              let filter = {\r\n                data: {\r\n                  \"tenDinhDanh\": vm.thongTinCanBo['danhTinhDienTu'][0]['tenDinhDanh'],\r\n                  \"type\": \"canbo\",\r\n                  \"activityNote\": vm.noteAction\r\n                }\r\n              }\r\n              vm.loadingAction = true\r\n              vm.$store.dispatch('deleteCaNhan', filter).then(function (response) {\r\n                vm.loadingAction = false\r\n                vm.dialogCreateAcc = false\r\n                toastr.remove()\r\n                toastr.success('Xóa tài khoản thành công')\r\n                vm.getThongTinCanBo()\r\n                vm.dialogNoteAction = false\r\n              }).catch(function () {\r\n                vm.loadingAction = false\r\n                toastr.remove()\r\n                toastr.error('Xóa tài khoản không thành công')\r\n              })\r\n            }\r\n          }\r\n        })\r\n      },\r\n      changePage(config) {\r\n        let vm = this\r\n        vm.page = config.page\r\n        vm.getChungThuSo()\r\n      },\r\n      getChungThuSo () {\r\n        let vm = this\r\n        vm.itemsChungThuSo = [{'soHieuHienTai': 'A12394123', 'soHieuGoc': 'B12394123','chuSoHuu':'Trịnh Công Trình','toChuc': 'Công ty cổ phần FDS', 'email': 'congtrinh0209@gmail.com','soMaVach': '19381241231','soPin': '1983123', 'hetHieuLuc':'12/08/2021','thietBi': 'USB Token','trangThai':'Còn hiệu lực'}]\r\n      },\r\n      goBack () {\r\n        let vm = this\r\n        window.history.back()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n  .lable-1\r\n    margin-right: 8px\r\n</style>\r\n"]}]}
{"remainingRequest":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js!F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vuejs-sourcode\\undp-bgt\\src\\views\\FormThemThanhPhan.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vuejs-sourcode\\undp-bgt\\src\\views\\FormThemThanhPhan.vue","mtime":1665455654857},{"path":"F:\\vuejs-sourcode\\undp-bgt\\babel.config.js","mtime":1665053037768},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053119199},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053120378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwppbXBvcnQgdG9hc3RyIGZyb20gJ3RvYXN0cic7CnRvYXN0ci5vcHRpb25zID0gewogICdjbG9zZUJ1dHRvbic6IHRydWUsCiAgJ3RpbWVPdXQnOiAnNTAwMCcsCiAgInBvc2l0aW9uQ2xhc3MiOiAidG9hc3QtdG9wLWNlbnRlciIKfTsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbIm1hdU5oYXAiLCAiZGF0YUlucHV0IiwgInJlYWRvbmx5IiwgInRob25ndGludGhhbmhwaGFuIl0sCiAgY29tcG9uZW50czoge30sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZ0RhdGE6IGZhbHNlLAogICAgICB2YWxpZEZvcm1BZGQ6IGZhbHNlLAogICAgICBkYXRhOiB7fSwKICAgICAgcmVxdWlyZWQ6IFt2ID0+IHYgIT09ICcnICYmIHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkIHx8ICdUaMO0bmcgdGluIGLhuq90IGJ14buZYyddLAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICdUaMO0bmcgdGluIGLhuq90IGJ14buZYycKICAgICAgfSwKICAgICAgZmlsZVVwbG9hZDogW10KICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGxldCB2bSA9IHRoaXM7CiAgICB2bS4kc3RvcmUuY29tbWl0KCdTRVRfSU5ERVhUQUInLCAwKTsKICB9LAoKICB3YXRjaDogewogICAgJyRyb3V0ZSc6IGZ1bmN0aW9uIChuZXdSb3V0ZSwgb2xkUm91dGUpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnU0VUX0lOREVYVEFCJywgMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcm9jZXNzUnVsZXMocnVsZXNTdHIpIHsKICAgICAgbGV0IHJ1bGVzSW5wdXQgPSBbXTsKCiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHJ1bGVzU3RyKSB7CiAgICAgICAgICBydWxlc0lucHV0ID0gZXZhbCgnKCAnICsgcnVsZXNTdHIgKyAnICknKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQoKICAgICAgcmV0dXJuIHJ1bGVzSW5wdXQ7CiAgICB9LAoKICAgIHBpY2tGaWxlVXBsb2FkKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZV91cGxvYWQnKS52YWx1ZSA9ICcnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZV91cGxvYWQnKS5jbGljaygpOwogICAgfSwKCiAgICB1cGxvYWRGaWxlKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBsZXQgZmlsZXMgPSAkKCcjZmlsZV91cGxvYWQnKVswXS5maWxlczsKCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBmaWxlcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICB2bS5maWxlVXBsb2FkLnB1c2goewogICAgICAgICAgbmFtZTogZmlsZXNbaW5kZXhdWyduYW1lJ10KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBkZWxldGVGaWxlQXR0YWNrKGl0ZW0sIGluZGV4KSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CgogICAgICBpZiAoIWl0ZW0uaWQpIHsKICAgICAgICB2bS5maWxlVXBsb2FkLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnU0VUX1NIT1dDT05GSVJNJywgdHJ1ZSk7CiAgICAgICAgbGV0IGNvbmZpcm0gPSB7CiAgICAgICAgICBhdXRoOiBmYWxzZSwKICAgICAgICAgIHRpdGxlOiAnWMOzYSB0w6BpIGxp4buHdSDEkcOtbmgga8OobScsCiAgICAgICAgICBtZXNzYWdlOiAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2EgdMOgaSBsaeG7h3UgbsOgeScsCiAgICAgICAgICBidXR0b246IHsKICAgICAgICAgICAgeWVzOiAnQ8OzJywKICAgICAgICAgICAgbm86ICdLaMO0bmcnCiAgICAgICAgICB9LAogICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHsKICAgICAgICAgICAgbGV0IGZpbHRlciA9IHsKICAgICAgICAgICAgICBpZFRoYW5oUGhhbjogdm0udGhvbmd0aW50aGFuaHBoYW4ucHJpbUtleSwKICAgICAgICAgICAgICBpZEZpbGU6IGl0ZW0uaWQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdkZWxldGVGaWxlJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICB2bS5maWxlVXBsb2FkLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1jDs2EgdMOgaSBsaeG7h3UgxJHDrW5oIGvDqG0gdGjDoG5oIGPDtG5nJyk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnWMOzYSB0w6BpIGxp4buHdSDEkcOtbmgga8OobSB0aOG6pXQgYuG6oWknKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2bS4kc3RvcmUuY29tbWl0KCdTRVRfQ09ORklHX0NPTkZJUk1fRElBTE9HJywgY29uZmlybSk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0RXh0ZW5zaW9uKGZpbGUpIHsKICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnW14uXSskJyk7CiAgICAgIHZhciBleHRlbnNpb24gPSBmaWxlLm5hbWUubWF0Y2gocmVnZXgpOwogICAgICByZXR1cm4gZXh0ZW5zaW9uWzBdLnRvTG9jYWxlTG93ZXJDYXNlKCk7CiAgICB9LAoKICAgIHZpZXdGaWxlVXBsb2FkKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgfSwKCiAgICBkb3dubG9hZEZpbGUoZmlsZSkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2Rvd25sb2FkRmlsZScsIGZpbGUpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge30pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCgogICAgc3VibWl0VGFvQmFvQ2FvKHR5cGUpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgY29uc29sZS5sb2coJ2RhdGFGb3JtT3V0cHV0Jywgdm0uZGF0YSk7CiAgICAgIGxldCBkYXRhT3V0cHV0ID0gT2JqZWN0LmFzc2lnbih7fSwgdm0uZGF0YSk7CgogICAgICBmb3IgKGxldCBrZXkgaW4gdm0ubWF1TmhhcCkgewogICAgICAgIGxldCBpdGVtQ29uZmlnID0gdm0ubWF1TmhhcFtrZXldOwoKICAgICAgICBpZiAoaXRlbUNvbmZpZy50eXBlID09ICdkYXRlJyAmJiBkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0pIHsKICAgICAgICAgIGRhdGFPdXRwdXRbaXRlbUNvbmZpZ1snbmFtZSddXSA9IHZtLmNvbnZlcnREYXRlKGRhdGFPdXRwdXRbaXRlbUNvbmZpZ1snbmFtZSddXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXRlbUNvbmZpZy50eXBlID09ICdtb25leScgJiYgZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dKSB7CiAgICAgICAgICBkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0gPSBOdW1iZXIoZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dLnRvU3RyaW5nKCkucmVwbGFjZSgvXC4vZywgJycpKTsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtQ29uZmlnLnR5cGUgPT0gJ3NlbGVjdCcgJiYgZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dKSB7CiAgICAgICAgICBsZXQgZGF0YUN2ID0gQXJyYXkuaXNBcnJheShkYXRhT3V0cHV0W2l0ZW1Db25maWdbJ25hbWUnXV0pID8gZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dIDogW2RhdGFPdXRwdXRbaXRlbUNvbmZpZ1snbmFtZSddXV07CiAgICAgICAgICBsZXQgZGF0YUFycmF5ID0gQXJyYXkuZnJvbShkYXRhQ3YsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGxldCBpdGVtR2V0ID0ge307CiAgICAgICAgICAgIGl0ZW1HZXRbaXRlbUNvbmZpZ1snaXRlbVRleHQnXV0gPSBpdGVtW2l0ZW1Db25maWdbJ2l0ZW1UZXh0J11dOwogICAgICAgICAgICBpdGVtR2V0W2l0ZW1Db25maWdbJ2l0ZW1WYWx1ZSddXSA9IGl0ZW1baXRlbUNvbmZpZ1snaXRlbVZhbHVlJ11dOwogICAgICAgICAgICByZXR1cm4gaXRlbUdldDsKICAgICAgICAgIH0pOwogICAgICAgICAgZGF0YU91dHB1dFtpdGVtQ29uZmlnWyduYW1lJ11dID0gZGF0YUFycmF5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnU0VUX0ZPUk1fREFUQScsIGRhdGFPdXRwdXQpOwogICAgfSwKCiAgICBpbml0Rm9ybSh0eXBlKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CgogICAgICBmb3IgKGxldCBrZXkgaW4gdm0ubWF1TmhhcCkgewogICAgICAgIGxldCBpdGVtRGF0YSA9IHZtLm1hdU5oYXBba2V5XTsKCiAgICAgICAgaWYgKGl0ZW1EYXRhWyd0eXBlJ10gPT09ICdzZWxlY3QnICYmIGl0ZW1EYXRhLmhhc093blByb3BlcnR5KCdhcGknKSAmJiBpdGVtRGF0YVsnYXBpJ10pIHsKICAgICAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnbG9hZERhdGFTb3VyY2UnLCBpdGVtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGxldCByZXN1bHREYXRhID0gaXRlbURhdGFbJ3Jlc3BvbnNlRGF0YUFwaSddID8gcmVzdWx0W2l0ZW1EYXRhWydyZXNwb25zZURhdGFBcGknXV0gOiByZXN1bHQ7CiAgICAgICAgICAgIHZtLiRzZXQodm0ubWF1TmhhcFtrZXldLCAnZGF0YVNvdXJjZScsIHJlc3VsdERhdGEpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICd1cGRhdGUnICYmIHZtLmRhdGFJbnB1dCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlX3VwbG9hZCcpLnZhbHVlID0gJyc7CiAgICAgICAgdm0uZmlsZVVwbG9hZCA9IFtdOwogICAgICAgIHZtLmRhdGEgPSB2bS5kYXRhSW5wdXQ7CiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCB2bS5kYXRhKTsKCiAgICAgICAgZm9yIChsZXQga2V5IGluIHZtLmRhdGEpIHsKICAgICAgICAgIGxldCBmaWx0ZXIgPSB2bS5tYXVOaGFwLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSBrZXk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoZmlsdGVyICYmIGZpbHRlci50eXBlID09PSAnZGF0ZScpIHsKICAgICAgICAgICAgdm0uZGF0YVtrZXldID0gdm0uZGF0ZUxvY2FsZSh2bS5kYXRhW2tleV0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLnR5cGUgPT09ICdtb25leScpIHsKICAgICAgICAgICAgdm0uZGF0YVtrZXldID0gdm0uY3VycmVuY3kodm0uZGF0YVtrZXldKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZmlsdGVyICYmIGZpbHRlci50eXBlID09PSAnc2VsZWN0JyAmJiAhZmlsdGVyWydtdWx0aXBsZSddKSB7CiAgICAgICAgICAgIHZtLmRhdGFba2V5XSA9IEFycmF5LmlzQXJyYXkodm0uZGF0YVtrZXldKSA/IHZtLmRhdGFba2V5XVswXSA6IHZtLmRhdGFba2V5XTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZmlsdGVyICYmIGZpbHRlci50eXBlID09PSAnYXR0YWNrJykgewogICAgICAgICAgICB2bS5maWxlVXBsb2FkID0gW10uY29uY2F0KHZtLmRhdGFba2V5XSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2bS4kcmVmcy5mb3JtVGhhbmhQaGFuLnJlc2V0VmFsaWRhdGlvbigpOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlX3VwbG9hZCcpLnZhbHVlID0gJyc7CiAgICAgICAgdm0uZmlsZVVwbG9hZCA9IFtdOwogICAgICB9CiAgICB9LAoKICAgIHZhbGlkYXRlRm9ybSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgcmV0dXJuIHZtLiRyZWZzLmZvcm1UaGFuaFBoYW4udmFsaWRhdGUoKTsKICAgIH0sCgogICAgZm9ybWF0QmlydGhEYXRlKG5hbWUpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IGxlbmd0aERhdGUgPSBTdHJpbmcodm0uZGF0YVtuYW1lXSkudHJpbSgpLmxlbmd0aDsKICAgICAgbGV0IHNwbGl0RGF0ZSA9IFN0cmluZyh2bS5kYXRhW25hbWVdKS5zcGxpdCgnLycpOwogICAgICBsZXQgc3BsaXREYXRlMiA9IFN0cmluZyh2bS5kYXRhW25hbWVdKS5zcGxpdCgnLScpOwoKICAgICAgaWYgKGxlbmd0aERhdGUgJiYgbGVuZ3RoRGF0ZSA+IDQgJiYgc3BsaXREYXRlLmxlbmd0aCA9PT0gMyAmJiBzcGxpdERhdGVbMl0pIHsKICAgICAgICB2bS5kYXRhW25hbWVdID0gdm0udHJhbnNsYXRlRGF0ZSh2bS5kYXRhW25hbWVdKTsKICAgICAgfSBlbHNlIGlmIChsZW5ndGhEYXRlICYmIGxlbmd0aERhdGUgPT09IDgpIHsKICAgICAgICBsZXQgZGF0ZSA9IFN0cmluZyh2bS5kYXRhW25hbWVdKTsKICAgICAgICB2bS5kYXRhW25hbWVdID0gZGF0ZS5zbGljZSgwLCAyKSArICcvJyArIGRhdGUuc2xpY2UoMiwgNCkgKyAnLycgKyBkYXRlLnNsaWNlKDQsIDgpOwogICAgICB9IGVsc2UgaWYgKHNwbGl0RGF0ZTJbMV0pIHsKICAgICAgICB2bS5kYXRhW25hbWVdID0gdm0uZGF0ZUxvY2FsZSh2bS5kYXRhW25hbWVdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5kYXRhW25hbWVdID0gJyc7CiAgICAgIH0KICAgIH0sCgogICAgY3VycmVuY3kodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgbGV0IG1vbmV5Q3VyID0gKHZhbHVlIC8gMSkudG9GaXhlZCgwKS5yZXBsYWNlKCcuJywgJywnKTsKICAgICAgICByZXR1cm4gbW9uZXlDdXIudG9TdHJpbmcoKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAnLicpOwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAoKICAgIHRvQ3VycmVuY3kobmFtZSkgewogICAgICBsZXQgdm0gPSB0aGlzOwoKICAgICAgaWYgKHZtLmRhdGFbbmFtZV0pIHsKICAgICAgICBsZXQgZGF0YV9udW1iZXIgPSBOdW1iZXIodm0uZGF0YVtuYW1lXS50b1N0cmluZygpLnJlcGxhY2UoL1wuL2csICcnKSk7CiAgICAgICAgbGV0IG1vbmV5Q3VyID0gKGRhdGFfbnVtYmVyIC8gMSkudG9GaXhlZCgwKS5yZXBsYWNlKCcuJywgJywnKTsKICAgICAgICBWdWUuc2V0KHZtLmRhdGEsIG5hbWUsIG1vbmV5Q3VyLnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgJy4nKSk7CiAgICAgIH0KICAgIH0sCgogICAgdHJhbnNsYXRlRGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7CiAgICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKTsKICAgICAgcmV0dXJuIGAke2RheS5wYWRTdGFydCgyLCAnMCcpfS8ke21vbnRoLnBhZFN0YXJ0KDIsICcwJyl9LyR7eWVhcn1gOwogICAgfSwKCiAgICBkYXRlTG9jYWxlKGRhdGVJbnB1dCkgewogICAgICBpZiAoIWRhdGVJbnB1dCkgcmV0dXJuICcnOwogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGVJbnB1dCk7CiAgICAgIHJldHVybiBgJHtkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LyR7KGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0vJHtkYXRlLmdldEZ1bGxZZWFyKCl9YDsKICAgIH0sCgogICAgY29udmVydERhdGUoZGF0ZSkgewogICAgICBpZiAoIWRhdGUpIHJldHVybiAnJzsKICAgICAgY29uc3QgW2RheSwgbW9udGgsIHllYXJdID0gZGF0ZS5zcGxpdCgnLycpOwogICAgICBsZXQgZGRkID0gYCR7eWVhcn0tJHttb250aC5wYWRTdGFydCgyLCAnMCcpfS0ke2RheS5wYWRTdGFydCgyLCAnMCcpfWA7CiAgICAgIHJldHVybiBuZXcgRGF0ZShkZGQpLnRvSVNPU3RyaW5nKCk7CiAgICB9LAoKICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uJHJlZnMuZm9ybVRoYW5oUGhhbi5yZXNldCgpOwogICAgICB2bS4kcmVmcy5mb3JtVGhhbmhQaGFuLnJlc2V0VmFsaWRhdGlvbigpOwogICAgfSwKCiAgICBnb0JhY2soKSB7CiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACAA;EACA,mBADA;EAEA,iBAFA;EAGA;AAHA;AAKA;EACAC,gEADA;EAEAC,cAFA;;EAIAC;IACA;MACAC,cADA;MAEAC,kBAFA;MAGAC,mBAHA;MAIAH,QAJA;MAKAI,WACAC,sEADA,CALA;MAQAC;QACAF;MADA,CARA;MAWAG;IAXA;EAaA,CAlBA;;EAmBAC;IACA;IACAC;EACA,CAtBA;;EAuBAC;IACA;MACA;MACAD;IACA;EAJA,CAvBA;EA6BAE;IACAC;MACA;;MACA;QACA;UACAC;QACA;MACA,CAJA,CAIA,eACA;;MACA;IACA,CAVA;;IAWAC;MACAC;MACAA;IACA,CAdA;;IAeAC;MACA;MACA;;MACA;QACAP;UACAQ;QADA;MAGA;IACA,CAvBA;;IAwBAC;MACA;;MACA;QACAT;MACA,CAFA,MAEA;QACAA;QACA;UACAU,WADA;UAEAC,8BAFA;UAGAC,iDAHA;UAIAC;YACAC,SADA;YAEAC;UAFA,CAJA;UAQAC;YACA;cACAC,yCADA;cAEAC;YAFA;YAIAlB;cACAA;cACAZ;YACA,CAHA,EAGA+B,KAHA,CAGA;cACA/B;YACA,CALA;UAMA;QAnBA;QAqBAY;MACA;IACA,CArDA;;IAsDAoB;MACA;MACA;MACA;IACA,CA1DA;;IA2DAC;MACA;IACA,CA7DA;;IA8DAC;MACA;MACAtB,iEACA,CADA,EACAmB,KADA,CACA,cADA;IAEA,CAlEA;;IAmEAI;MACA;MACAC;MACA;;MACA;QACA;;QACA;UACAC;QACA;;QACA;UACAA;QACA;;QACA;UACA;UACA;YACA;YACAC;YACAA;YACA;UACA,CALA;UAMAD;QACA;MACA;;MACAzB;IACA,CA3FA;;IA4FA2B;MACA;;MACA;QACA;;QACA;UACA3B;YACA;YACAA;UACA,CAHA,EAGAmB,KAHA,CAGA,cAHA;QAIA;MACA;;MACA;QACAb;QACAN;QACAA;QACAwB;;QACA;UACA;YACA;UACA,CAFA;;UAGA;YACAxB;UACA;;UACA;YACAA;UACA;;UACA;YACAA;UACA;;UACA;YACAA;UACA;QACA;;QACAA;MACA,CAvBA,MAuBA;QACAM;QACAN;MACA;IACA,CAlIA;;IAmIA4B;MACA;MACA;IACA,CAtIA;;IAuIAC;MACA;MACA;MACA;MACA;;MACA;QACA7B;MACA,CAFA,MAEA;QACA;QACAA;MACA,CAHA,MAGA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CAtJA;;IAuJA8B;MACA;QACA;QACA;MACA;;MACA;IACA,CA7JA;;IA8JAC;MACA;;MACA;QACA;QACA;QACAC;MACA;IACA,CArKA;;IAsKAC;MACA;MACA;MACA;IACA,CA1KA;;IA2KAC;MACA;MACA;MACA;IACA,CA/KA;;IAgLAC;MACA;MACA;MACA;MACA;IACA,CArLA;;IAsLAC;MACA;MACApC;MACAA;IACA,CA1LA;;IA2LAqC;MACAC;IACA;;EA7LA;AA7BA","names":["toastr","props","components","data","loading","loadingData","validFormAdd","required","v","rules","fileUpload","created","vm","watch","methods","processRules","rulesInput","pickFileUpload","document","uploadFile","name","deleteFileAttack","auth","title","message","button","yes","no","callback","idThanhPhan","idFile","catch","getExtension","viewFileUpload","downloadFile","submitTaoBaoCao","console","dataOutput","itemGet","initForm","validateForm","formatBirthDate","currency","toCurrency","Vue","translateDate","dateLocale","convertDate","resetForm","goBack","window"],"sourceRoot":"src/views","sources":["FormThemThanhPhan.vue"],"sourcesContent":["<template>\r\n  <v-card\r\n    class=\"mx-auto\"\r\n    flat\r\n  >\r\n    <v-form\r\n      ref=\"formThanhPhan\"\r\n      v-model=\"validFormAdd\"\r\n      lazy-validation\r\n      class=\"mt-2\"\r\n    >\r\n      <v-layout wrap>\r\n\r\n        <div v-for=\"(item, index) in mauNhap\" v-bind:key=\"index\" :class=\"item['fieldClass']\" class=\"py-0 mb-2\">\r\n          <label>{{item.title}} <span class=\"red--text\" v-if=\"item.required\">(*)</span></label>\r\n          \r\n          <!-- cơ quan ban hành -->\r\n          <v-text-field\r\n            v-if=\"item.type === 'textfield'\"\r\n            class=\"flex input-form\"\r\n            v-model=\"data[item.name]\"\r\n            :placeholder=\"item['placeHolder']\"\r\n            :items=\"item.dataSource\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-text-field>\r\n\r\n          <v-textarea\r\n            v-if=\"item.type === 'textarea'\"\r\n            class=\"flex input-form\"\r\n            v-model=\"data[item.name]\"\r\n            :placeholder=\"item['placeHolder']\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rows=\"item.hasOwnProperty('rows') ? item.rows : 3\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-textarea>\r\n\r\n          <!-- ngày ban hành -->\r\n          <v-text-field\r\n            v-if=\"item.type === 'date'\"\r\n            class=\"flex input-form\"\r\n            v-model=\"data[item.name]\"\r\n            placeholder=\"dd/mm/yyyy, ddmmyyyy\"\r\n            @blur=\"formatBirthDate(item.name)\"\r\n            @input=\"formatBirthDate(item.name)\"\r\n            @change=\"formatBirthDate(item.name)\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            v-if=\"item.type === 'money'\"\r\n            class=\"flex input-form\"\r\n            @input=\"toCurrency(item.name)\"\r\n            v-model=\"data[item.name]\"\r\n            :placeholder=\"item['placeHolder']\"\r\n            solo\r\n            dense\r\n            hide-details=\"auto\"\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          ></v-text-field>\r\n\r\n          <v-autocomplete\r\n            v-if=\"item.type === 'select' && !item.api\"\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            v-model=\"data[item.name]\"\r\n            :items=\"item.dataSource\"\r\n            :multiple=\"item['multiple']\"\r\n            :item-text=\"item.itemText\"\r\n            :item-value=\"item.itemValue\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            return-object\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          >\r\n          </v-autocomplete>\r\n          \r\n          <!-- phạm vi, vùng tác động -->\r\n          <v-autocomplete\r\n            v-if=\"item.type === 'select' && item.api\"\r\n            class=\"flex input-form\"\r\n            hide-no-data\r\n            v-model=\"data[item.name]\"\r\n            :items=\"item.dataSource\"\r\n            :multiple=\"item['multiple']\"\r\n            :item-text=\"item.itemText\"\r\n            :item-value=\"item.itemValue\"\r\n            dense\r\n            solo\r\n            hide-details=\"auto\"\r\n            return-object\r\n            :clearable=\"!readonly\"\r\n            :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n          >\r\n          </v-autocomplete>\r\n\r\n          <!-- tải lên tài liệu đính kèm  -->\r\n          <div class=\"col-12\" v-if=\"item.type === 'attack'\" style=\"border: 1px solid #D9D9D9\">\r\n            <input type=\"file\" id=\"file_upload\" :multiple=\"item.multiple\" @input=\"uploadFile()\" style=\"display:none\">\r\n            <div v-if=\"fileUpload && fileUpload.length\">\r\n              <div class=\"pb-2\" @click=\"viewFileUpload()\" v-for=\"(item, key) in fileUpload\" v-bind:key=\"key\" >\r\n                <v-icon size=\"18\" color=\"green\" v-if=\"getExtension(item) === 'xls' || getExtension(item) === 'xlsx'\">mdi-file-excel-outline</v-icon>\r\n                <v-icon size=\"18\" color=\"blue\" v-else-if=\"getExtension(item) === 'doc' || getExtension(item) === 'docx'\">mdi-file-word-outline</v-icon>\r\n                <v-icon size=\"18\" color=\"red\" v-else-if=\"getExtension(item) === 'pdf'\">mdi-file-pdf-box</v-icon>\r\n                <v-icon size=\"18\" color=\"blue\" v-else-if=\"getExtension(item) === 'png' || getExtension(item) === 'jpg' || getExtension(item) === 'jpeg'\">mdi-file-image</v-icon>\r\n                <v-icon size=\"18\" color=\"#2161b1\" v-else>mdi-paperclip</v-icon>\r\n                <a class=\"ml-2\" style=\"font-size: 14px;text-decoration: underline;\">{{item.name}}</a>\r\n                <v-tooltip top v-if=\"item.id\">\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn @click=\"downloadFile(item, key)\" color=\"blue\" text icon class=\"mx-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                      <v-icon size=\"18\">mdi-cloud-download-outline</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>Tải xuống</span>\r\n                </v-tooltip>\r\n                <v-tooltip top v-if=\"!readonly\">\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn @click=\"deleteFileAttack(item, key)\" color=\"red\" text icon class=\"mx-0\" v-bind=\"attrs\" v-on=\"on\">\r\n                      <v-icon size=\"18\">mdi-close-circle</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>Xóa</span>\r\n                </v-tooltip>\r\n              </div>\r\n            </div>\r\n            \r\n            <div v-else>\r\n              <span>Không có giấy tờ đính kèm!</span>\r\n            </div>\r\n            <v-btn\r\n              v-if=\"!readonly\"\r\n              class=\"btn-form my-2 mx-0 mr-2 left\" small\r\n              color=\"primary\"\r\n              :loading=\"loading\" :disabled=\"loading\"\r\n              @click.stop=\"pickFileUpload()\"\r\n            >\r\n              <v-icon size=\"18\">mdi-cloud-upload-outline</v-icon>&nbsp;\r\n              Tải lên tài liệu đính kèm\r\n            </v-btn>\r\n          </div>\r\n          \r\n        </div>\r\n      </v-layout>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport $ from 'jquery'\r\nimport toastr from 'toastr'\r\ntoastr.options = {\r\n  'closeButton': true,\r\n  'timeOut': '5000',\r\n  \"positionClass\": \"toast-top-center\"\r\n}\r\nexport default {\r\n    props: [\"mauNhap\", \"dataInput\", \"readonly\", \"thongtinthanhphan\"],\r\n    components: {\r\n    },\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        loadingData: false,\r\n        validFormAdd: false,\r\n        data: {},\r\n        required: [\r\n          v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'\r\n        ],\r\n        rules: {\r\n          required: value => !!value || 'Thông tin bắt buộc'\r\n        },\r\n        fileUpload: []\r\n      }\r\n    },\r\n    created () {\r\n      let vm = this\r\n      vm.$store.commit('SET_INDEXTAB', 0)\r\n    },\r\n    watch: {\r\n      '$route': function (newRoute, oldRoute) {\r\n        let vm = this\r\n        vm.$store.commit('SET_INDEXTAB', 0)\r\n      },\r\n    },\r\n    methods: {\r\n      processRules (rulesStr) {\r\n        let rulesInput = []\r\n        try {\r\n          if (rulesStr) {\r\n            rulesInput = eval('( ' + rulesStr + ' )')\r\n          }\r\n        } catch (error) {\r\n        }\r\n        return rulesInput\r\n      },\r\n      pickFileUpload () {\r\n        document.getElementById('file_upload').value = ''\r\n        document.getElementById('file_upload').click()\r\n      },\r\n      uploadFile () {\r\n        let vm = this\r\n        let files = $('#file_upload')[0].files\r\n        for (let index = 0; index < files.length; index++) {\r\n          vm.fileUpload.push({\r\n            name: files[index]['name']\r\n          })\r\n        }\r\n      },\r\n      deleteFileAttack (item, index) {\r\n        let vm = this\r\n        if (!item.id) {\r\n          vm.fileUpload.splice(index, 1)\r\n        } else {\r\n          vm.$store.commit('SET_SHOWCONFIRM', true)\r\n          let confirm = {\r\n            auth: false,\r\n            title: 'Xóa tài liệu đính kèm',\r\n            message: 'Bạn có chắc chắn muốn xóa tài liệu này',\r\n            button: {\r\n              yes: 'Có',\r\n              no: 'Không'\r\n            },\r\n            callback: () => {\r\n              let filter = {\r\n                idThanhPhan: vm.thongtinthanhphan.primKey,\r\n                idFile: item.id\r\n              }\r\n              vm.$store.dispatch('deleteFile', filter).then(function(result) {\r\n                vm.fileUpload.splice(index, 1)\r\n                toastr.success('Xóa tài liệu đính kèm thành công')\r\n              }).catch(function(){\r\n                toastr.success('Xóa tài liệu đính kèm thất bại')\r\n              })\r\n            }\r\n          }\r\n          vm.$store.commit('SET_CONFIG_CONFIRM_DIALOG', confirm)\r\n        }\r\n      },\r\n      getExtension (file) {\r\n        var regex = new RegExp('[^.]+$');\r\n        var extension = file.name.match(regex);\r\n        return extension[0].toLocaleLowerCase()\r\n      },\r\n      viewFileUpload () {\r\n        let vm = this\r\n      },\r\n      downloadFile (file) {\r\n        let vm = this\r\n        vm.$store.dispatch('downloadFile', file).then(function(result) {\r\n        }).catch(function(){})\r\n      },\r\n      submitTaoBaoCao (type) {\r\n        let vm = this\r\n        console.log('dataFormOutput', vm.data)\r\n        let dataOutput = Object.assign({}, vm.data)\r\n        for (let key in vm.mauNhap) {\r\n          let itemConfig = vm.mauNhap[key]\r\n          if (itemConfig.type == 'date' && dataOutput[itemConfig['name']]) {\r\n            dataOutput[itemConfig['name']] = vm.convertDate(dataOutput[itemConfig['name']])\r\n          }\r\n          if (itemConfig.type == 'money' && dataOutput[itemConfig['name']]) {\r\n            dataOutput[itemConfig['name']] = Number(dataOutput[itemConfig['name']].toString().replace(/\\./g, ''))\r\n          }\r\n          if (itemConfig.type == 'select' && dataOutput[itemConfig['name']]) {\r\n            let dataCv = Array.isArray(dataOutput[itemConfig['name']]) ? dataOutput[itemConfig['name']] : [dataOutput[itemConfig['name']]]\r\n            let dataArray = Array.from(dataCv, function (item) {\r\n              let itemGet = {}\r\n              itemGet[itemConfig['itemText']] = item[itemConfig['itemText']]\r\n              itemGet[itemConfig['itemValue']] = item[itemConfig['itemValue']]\r\n              return itemGet\r\n            })\r\n            dataOutput[itemConfig['name']] = dataArray\r\n          }\r\n        }\r\n        vm.$store.commit('SET_FORM_DATA', dataOutput)\r\n      },\r\n      initForm (type) {\r\n        let vm = this\r\n        for (let key in vm.mauNhap) {\r\n          let itemData = vm.mauNhap[key]\r\n          if (itemData['type'] === 'select' && itemData.hasOwnProperty('api') && itemData['api']) {\r\n            vm.$store.dispatch('loadDataSource', itemData).then(function(result) {\r\n              let resultData = itemData['responseDataApi'] ? result[itemData['responseDataApi']] : result\r\n              vm.$set(vm.mauNhap[key], 'dataSource', resultData)\r\n            }).catch(function(){})\r\n          }\r\n        }\r\n        if (type === 'update' && vm.dataInput) {\r\n          document.getElementById('file_upload').value = ''\r\n          vm.fileUpload = []\r\n          vm.data = vm.dataInput\r\n          console.log('data', vm.data)\r\n          for (let key in vm.data) {\r\n            let filter = vm.mauNhap.find(function (item) {\r\n              return item.name == key\r\n            })\r\n            if (filter && filter.type === 'date') {\r\n              vm.data[key] = vm.dateLocale(vm.data[key])\r\n            }\r\n            if (filter && filter.type === 'money') {\r\n              vm.data[key] = vm.currency(vm.data[key])\r\n            }\r\n            if (filter && filter.type === 'select' && !filter['multiple']) {\r\n              vm.data[key] = Array.isArray(vm.data[key]) ? vm.data[key][0] : vm.data[key]\r\n            }\r\n            if (filter && filter.type === 'attack') {\r\n              vm.fileUpload = [].concat(vm.data[key])\r\n            }\r\n          }\r\n          vm.$refs.formThanhPhan.resetValidation()\r\n        } else {\r\n          document.getElementById('file_upload').value = ''\r\n          vm.fileUpload = []\r\n        }\r\n      },\r\n      validateForm () {\r\n        let vm = this\r\n        return vm.$refs.formThanhPhan.validate()\r\n      },\r\n      formatBirthDate (name) {\r\n        let vm = this\r\n        let lengthDate = String(vm.data[name]).trim().length\r\n        let splitDate = String(vm.data[name]).split('/')\r\n        let splitDate2 = String(vm.data[name]).split('-')\r\n        if (lengthDate && lengthDate > 4 && splitDate.length === 3 && splitDate[2]) {\r\n          vm.data[name] = vm.translateDate(vm.data[name])\r\n        } else if (lengthDate && lengthDate === 8) {\r\n          let date = String(vm.data[name])\r\n          vm.data[name] = date.slice(0,2) + '/' + date.slice(2,4) + '/' + date.slice(4,8)\r\n        } else if (splitDate2[1]) {\r\n          vm.data[name] = vm.dateLocale(vm.data[name])\r\n        } else {\r\n          vm.data[name] = ''\r\n        }\r\n      },\r\n      currency (value) {\r\n        if (value) {\r\n          let moneyCur = (value / 1).toFixed(0).replace('.', ',')\r\n          return moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n        }\r\n        return ''\r\n      },\r\n      toCurrency (name) {\r\n        let vm = this\r\n        if (vm.data[name]) {\r\n          let data_number = Number(vm.data[name].toString().replace(/\\./g, ''))\r\n          let moneyCur = (data_number / 1).toFixed(0).replace('.', ',')\r\n          Vue.set(vm.data, name, moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.'))\r\n        }\r\n      },\r\n      translateDate (date) {\r\n        if (!date) return null\r\n        const [day, month, year] = date.split('/')\r\n        return `${day.padStart(2, '0')}/${month.padStart(2, '0')}/${year}`\r\n      },\r\n      dateLocale (dateInput) {\r\n        if (!dateInput) return ''\r\n        let date = new Date(dateInput)\r\n        return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`\r\n      },\r\n      convertDate (date) {\r\n        if (!date) return ''\r\n        const [day, month, year] = date.split('/')\r\n        let ddd = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n        return (new Date(ddd)).toISOString()\r\n      },\r\n      resetForm () {\r\n        let vm = this\r\n        vm.$refs.formThanhPhan.reset()\r\n        vm.$refs.formThanhPhan.resetValidation()\r\n      },\r\n      goBack () {\r\n        window.history.back()\r\n      }\r\n    }\r\n}\r\n</script>"]}]}
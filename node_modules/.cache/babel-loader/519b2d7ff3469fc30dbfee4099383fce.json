{"remainingRequest":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js!F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vuejs-sourcode\\undp-bgt\\src\\views\\ChiTietBaoCao.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vuejs-sourcode\\undp-bgt\\src\\views\\ChiTietBaoCao.vue","mtime":1665460261923},{"path":"F:\\vuejs-sourcode\\undp-bgt\\babel.config.js","mtime":1665053037768},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053119199},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053120378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi9QYWdpbmF0aW9uLnZ1ZSc7CmltcG9ydCBGb3JtVGhlbVRoYW5oUGhhbiBmcm9tICcuL0Zvcm1UaGVtVGhhbmhQaGFuLnZ1ZSc7CmltcG9ydCB0b2FzdHIgZnJvbSAndG9hc3RyJzsKdG9hc3RyLm9wdGlvbnMgPSB7CiAgJ2Nsb3NlQnV0dG9uJzogdHJ1ZSwKICAndGltZU91dCc6ICc1MDAwJywKICAicG9zaXRpb25DbGFzcyI6ICJ0b2FzdC10b3AtY2VudGVyIgp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Jhb0NhbycsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbiwKICAgICdmb3JtLXRoZW0tdGhhbmgtcGhhbic6IEZvcm1UaGVtVGhhbmhQaGFuCiAgfSwKICBwcm9wczogWyd0eXBlJywgJ2lkJ10sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWFkb25seUZvcm06IGZhbHNlLAogICAgICBtYXVOaGFwRm9ybTogJycsCiAgICAgIGRhdGFJbnB1dDogJycsCiAgICAgIGZvcm1EYXRhOiAnJywKICAgICAgY2hpVGlldEJhb0NhbzogJycsCiAgICAgIGNoaVRpZXRNYXVCYW9DYW86ICcnLAogICAgICBzZWxlY3RlZDogW10sCiAgICAgIGtleXdvcmRTZWFyY2g6ICcnLAogICAgICBsb2FkaW5nRGF0YTogZmFsc2UsCiAgICAgIGRhbmhTYWNoVGhhbmhQaGFuOiBbXSwKICAgICAgdGFibGVDb25maWc6ICcnLAogICAgICBtYUJhb0Nhb1NlYXJjaDogJycsCiAgICAgIGt5QmFvQ2FvSXRlbXM6IFtdLAogICAgICBreUJhb0Nhb1NlYXJjaDogJycsCiAgICAgIGRvblZpRHVvY0dpYW9JdGVtczogW10sCiAgICAgIGRvblZpRHVvY0dpYW9TZWFyY2g6ICcnLAogICAgICBsb2FpQmFvQ2FvSXRlbXM6IFtdLAogICAgICBsb2FpQmFvQ2FvU2VhcmNoOiAnJywKICAgICAgdHJhbmdUaGFpSXRlbXM6IFtdLAogICAgICB0cmFuZ1RoYWlTZWFyY2g6ICcnLAogICAgICBoZWFkZXJzOiBbXSwKICAgICAgcGFnZTogMCwKICAgICAgaXRlbXNQZXJQYWdlOiAwLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZUNvdW50OiAwLAogICAgICBtZW51RGF0ZTE6IGZhbHNlLAogICAgICBtZW51RGF0ZTI6IGZhbHNlLAogICAgICBmcm9tUmVjZWl2ZURhdGU6ICcnLAogICAgICBmcm9tUmVjZWl2ZURhdGVGb3JtYXR0ZWQ6ICcnLAogICAgICB0b1JlY2VpdmVEYXRlOiAnJywKICAgICAgdG9SZWNlaXZlRGF0ZUZvcm1hdHRlZDogJycsCiAgICAgIGRpYWxvZ1RoZW1UaGFuaFBoYW46IGZhbHNlLAogICAgICBlZGl0VGhhbmhQaGFuOiBmYWxzZSwKICAgICAgdGhhbmhQaGFuRWRpdDogJycsCiAgICAgIGxvYWRpbmdBY3Rpb246IGZhbHNlLAogICAgICBhY3Rpb25JdGVtczogW10sCiAgICAgIGFjdGlvblNlbGVjdGVkOiAnJywKICAgICAgdmFsaWRGb3JtRG9BY3Rpb246IGZhbHNlLAogICAgICBkaWFsb2dEb0FjdGlvbjogZmFsc2UsCiAgICAgIGdoaUNodURvQWN0aW9uOiAnJywKICAgICAgZGlhbG9nTGljaFN1OiBmYWxzZSwKICAgICAgaGVhZGVyc1RpZW5UcmluaDogW3sKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdGV4dDogJ1NUVCcsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHZhbHVlOiAnaW5kZXgnCiAgICAgIH0sIHsKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdGV4dDogJ1RoYW8gdMOhYycsCiAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICB2YWx1ZTogJ2hhbmhEb25nJywKICAgICAgICBjbGFzczogJ3RoLWNlbnRlcicsCiAgICAgICAgd2lkdGg6IDIwMAogICAgICB9LCB7CiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHRleHQ6ICdOZ8aw4budaSB0aOG7sWMgaGnhu4duJywKICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgIHZhbHVlOiAnaG9WYVRlbicsCiAgICAgICAgY2xhc3M6ICd0aC1jZW50ZXInLAogICAgICAgIHdpZHRoOiAyMDAKICAgICAgfSwgewogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB0ZXh0OiAnVGjhu51pIGdpYW4gdGjhu7FjIGhp4buHbicsCiAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICB2YWx1ZTogJ3Rob2lHaWFuQ2FwTmhhdCcsCiAgICAgICAgY2xhc3M6ICd0aC1jZW50ZXInLAogICAgICAgIHdpZHRoOiAxNTAKICAgICAgfSwgewogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB0ZXh0OiAnR2hpIGNow7ogdGjhu7FjIGhp4buHbicsCiAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICB2YWx1ZTogJ25vaUR1bmcnLAogICAgICAgIGNsYXNzOiAndGgtY2VudGVyJwogICAgICB9XSwKICAgICAgZGFuaFNhY2hUaWVuVHJpbmg6IFtdCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBsZXQgdm0gPSB0aGlzOwoKICAgIGlmICghdm0uaXNBZG1pbiAmJiAhdm0uY2hlY2tSb2xlKCdYRU1CQU9DQU9ET05WSScpICYmICF2bS5jaGVja1JvbGUoJ1hFTVRBVENBQkFPQ0FPJykpIHsKICAgICAgdm0uJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZtLmdldENoaVRpZXRCYW9DYW8oKTsKICB9LAoKICB3YXRjaDogewogICAgJyRyb3V0ZSc6IGZ1bmN0aW9uIChuZXdSb3V0ZSwgb2xkUm91dGUpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uZ2V0Q2hpVGlldEJhb0NhbygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8gc2hvdyBjaGlUaWV0QmFvQ2FvCiAgICBnZXRDaGlUaWV0QmFvQ2FvKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwoKICAgICAgaWYgKHZtLmxvYWRpbmdEYXRhKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2bS5sb2FkaW5nRGF0YSA9IHRydWU7CiAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgY29sbGVjdGlvbk5hbWU6ICdiYW9jYW8nLAogICAgICAgIGlkOiB2bS5pZAogICAgICB9OwogICAgICB2bS5hY3Rpb25JdGVtcyA9IFtdOwogICAgICB2bS5sb2FkaW5nRGF0YSA9IHRydWU7CiAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnY29sbGVjdGlvbkRldGFpbCcsIGZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS5sb2FkaW5nRGF0YSA9IGZhbHNlOwogICAgICAgIHZtLmNoaVRpZXRCYW9DYW8gPSByZXNwb25zZTsKICAgICAgICB2bS5kYW5oU2FjaFRpZW5UcmluaCA9IHZtLmNoaVRpZXRCYW9DYW8udGllblRyaW5oOwogICAgICAgIGxldCByb2xlVXNlciA9IHZtLiRjb29raWVzLmdldCgnUm9sZXMnLCAnJykgPyB2bS4kY29va2llcy5nZXQoJ1JvbGVzJywgJycpLnNwbGl0KCcsJykgOiBbXTsKICAgICAgICBsZXQgYWN0aW9ucyA9IHZtLmNoaVRpZXRCYW9DYW8uaGFzT3duUHJvcGVydHkoJ2NoaVRpZXRRdXlUcmluaCcpID8gdm0uY2hpVGlldEJhb0Nhby5jaGlUaWV0UXV5VHJpbmggOiBbXTsKCiAgICAgICAgaWYgKHZtLmlzQWRtaW4pIHsKICAgICAgICAgIHZtLmFjdGlvbkl0ZW1zID0gYWN0aW9uczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFjdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGxldCB2YWlUcm9BY3Rpb24gPSBhY3Rpb25zW2luZGV4XVsndmFpVHJvJ107CgogICAgICAgICAgICBpZiAodmFpVHJvQWN0aW9uICYmIHZhaVRyb0FjdGlvbi5sZW5ndGgpIHsKICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleDIgPSAwOyBpbmRleDIgPCB2YWlUcm9BY3Rpb24ubGVuZ3RoOyBpbmRleDIrKykgewogICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB2YWlUcm9BY3Rpb25baW5kZXgyXVsnbWFNdWMnXTsKICAgICAgICAgICAgICAgIGxldCBwZXJtID0gcm9sZVVzZXIuZmluZChmdW5jdGlvbiAoaXRlbTIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0yID09IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAocGVybSkgewogICAgICAgICAgICAgICAgICB2bS5hY3Rpb25JdGVtcy5wdXNoKGFjdGlvbnNbaW5kZXhdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZtLmdldENoaVRpZXRNYXVCYW9DYW8odm0uY2hpVGlldEJhb0Nhb1snbWF1QmFvQ2FvJ11bJ21hRGluaERhbmgnXSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2bS5sb2FkaW5nRGF0YSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gc2hvdyBjaGkgdGlldCByYSB0YWJsZQogICAgZ2V0Q2hpVGlldE1hdUJhb0NhbyhrZXkpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IGZpbHRlciA9IHsKICAgICAgICBjb2xsZWN0aW9uTmFtZTogJ21hdWJhb2NhbycsCiAgICAgICAga2V5U2VhcmNoOiAnbWFkaW5oZGFuaCcsCiAgICAgICAgaWQ6IGtleQogICAgICB9OwogICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25EZXRhaWxTZWFyY2gnLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0uY2hpVGlldE1hdUJhb0NhbyA9IHJlc3BvbnNlLnJlc3A7CiAgICAgICAgdm0ubWF1TmhhcEZvcm0gPSB2bS5jaGlUaWV0TWF1QmFvQ2FvLm1hdU5oYXA7CiAgICAgICAgdm0uaGVhZGVycyA9IHZtLmNoaVRpZXRNYXVCYW9DYW8ubWF1SGllblRoaVswXVsnaGVhZGVycyddOwogICAgICAgIHZtLml0ZW1zUGVyUGFnZSA9IHZtLmNoaVRpZXRNYXVCYW9DYW8ubWF1SGllblRoaVswXS5oYXNPd25Qcm9wZXJ0eSgnaXRlbXNQZXJQYWdlJykgPyB2bS5jaGlUaWV0TWF1QmFvQ2FvLm1hdUhpZW5UaGlbMF0uaXRlbXNQZXJQYWdlIDogMDsKICAgICAgICB2bS5nZXRkYW5oU2FjaFRoYW5oUGhhbigpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAoKICAgIC8vIGxheSBkYW5oU2FjaFRoYW5oUGhhbgogICAgZ2V0ZGFuaFNhY2hUaGFuaFBoYW4odHlwZSkgewogICAgICBsZXQgdm0gPSB0aGlzOwoKICAgICAgaWYgKHR5cGUgPT09ICdyZXNldCcpIHsKICAgICAgICB2bS50b3RhbCA9IDA7CiAgICAgICAgdm0ucGFnZUNvdW50ID0gMDsKICAgICAgICB2bS5wYWdlID0gMDsgLy8gdm0ucmVzZXRGb3JtVGltS2llbSgpCiAgICAgIH0KCiAgICAgIGlmICh2bS5sb2FkaW5nRGF0YSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdm0ubG9hZGluZ0RhdGEgPSB0cnVlOwogICAgICBsZXQgZmlsdGVyID0gewogICAgICAgIGNvbGxlY3Rpb25OYW1lOiAndGhhbmhwaGFuYmFvY2FvJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBwYWdlOiB2bS5wYWdlLAogICAgICAgICAgc2l6ZTogdm0uaXRlbXNQZXJQYWdlLAogICAgICAgICAgb3JkZXJGaWVsZHM6ICdiYW9DYW9fbWFCYW9DYW8nLAogICAgICAgICAgb3JkZXJUeXBlczogJ2FzYycsCiAgICAgICAgICBiYW9DYW9fbWFCYW9DYW86IHZtLmNoaVRpZXRCYW9DYW8ubWFCYW9DYW8KICAgICAgICB9CiAgICAgIH07CiAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnY29sbGVjdGlvbkZpbHRlcicsIGZpbHRlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS5kYW5oU2FjaFRoYW5oUGhhbiA9IHJlc3BvbnNlLmNvbnRlbnQ7CiAgICAgICAgdm0udG90YWwgPSByZXNwb25zZS50b3RhbEVsZW1lbnRzOwogICAgICAgIHZtLnBhZ2VDb3VudCA9IHJlc3BvbnNlLnRvdGFsUGFnZXM7CiAgICAgICAgdm0ubG9hZGluZ0RhdGEgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHZtLmxvYWRpbmdEYXRhID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBjbGljayBidG4gdGhlbU1vaVRoYW5oUGhhbgogICAgc2hvd0FkZFRoYW5oUGhhbigpIHsKICAgICAgbGV0IHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5kYW5oU2FjaFRoYW5oUGhhbi5sZW5ndGggJiYgdm0uY2hpVGlldE1hdUJhb0Nhby5uaGFwTmhpZXVUaGFuaFBoYW4gIT0gJ3RydWUnKSB7CiAgICAgICAgdG9hc3RyLmVycm9yKCdLaMO0bmcgdGjhu4MgdGjDqm0gdGjDoG5oIHBo4bqnbi4gTG/huqFpIGLDoW8gY8OhbyBjaOG7iSBjw7MgMSB0aMOgbmggcGjhuqduJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2bS5yZWFkb25seUZvcm0gPSBmYWxzZTsKICAgICAgdm0uZGlhbG9nVGhlbVRoYW5oUGhhbiA9IHRydWU7CiAgICAgIHZtLmVkaXRUaGFuaFBoYW4gPSBmYWxzZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdm0uJHJlZnMuZm9ybVRoYW5oUGhhbi5pbml0Rm9ybSgpOwogICAgICAgIHZtLiRyZWZzLmZvcm1UaGFuaFBoYW4ucmVzZXRGb3JtKCk7CiAgICAgIH0sIDIwMCk7CiAgICB9LAoKICAgIC8vIGNsaWNrIGJ0biBlZGl0VGhhbmhQaGFuCiAgICBzaG93VXBkYXRlVGhhbmhQaGFuKGl0ZW0pIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0ucmVhZG9ubHlGb3JtID0gZmFsc2U7CiAgICAgIHZtLnRoYW5oUGhhbkVkaXQgPSBpdGVtOwoKICAgICAgdHJ5IHsKICAgICAgICB2bS5kYXRhSW5wdXQgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLm5vaUR1bmcpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZtLmRhdGFJbnB1dCA9IHt9OwogICAgICB9CgogICAgICB2bS5kaWFsb2dUaGVtVGhhbmhQaGFuID0gdHJ1ZTsKICAgICAgdm0uZWRpdFRoYW5oUGhhbiA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZtLiRyZWZzLmZvcm1UaGFuaFBoYW4uaW5pdEZvcm0oJ3VwZGF0ZScpOwogICAgICB9LCAyMDApOwogICAgfSwKCiAgICAvLyBjbGljayBidG4gdGhlbVRoYW5oUGhhbgogICAgc3VibWl0VGhlbVRoYW5oUGhhbigpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IHZhbGlkYXRlID0gdm0uJHJlZnMuZm9ybVRoYW5oUGhhbi52YWxpZGF0ZUZvcm0oKTsKCiAgICAgIGlmICh2YWxpZGF0ZSkgewogICAgICAgIHZtLiRyZWZzLmZvcm1UaGFuaFBoYW4uc3VibWl0VGFvQmFvQ2FvKCk7CiAgICAgICAgbGV0IGZvcm1EYXRhID0gdm0uJHN0b3JlLmdldHRlcnMuZ2V0Rm9ybURhdGE7CiAgICAgICAgbGV0IGZpbHRlciA9IHsKICAgICAgICAgIGNvbGxlY3Rpb25OYW1lOiAndGhhbmhwaGFuYmFvY2FvJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgImJhb0NhbyI6IHsKICAgICAgICAgICAgICAibWFEaW5oRGFuaCI6IHZtLmNoaVRpZXRCYW9DYW9bJ21hRGluaERhbmgnXSwKICAgICAgICAgICAgICAibWFCYW9DYW8iOiB2bS5jaGlUaWV0QmFvQ2FvWydtYUJhb0NhbyddCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJtYXVCYW9DYW8iOiB7CiAgICAgICAgICAgICAgIm1hRGluaERhbmgiOiB2bS5jaGlUaWV0TWF1QmFvQ2FvLm1hRGluaERhbmgsCiAgICAgICAgICAgICAgIm1hTWF1QmFvQ2FvIjogdm0uY2hpVGlldE1hdUJhb0Nhby5tYU1hdUJhb0NhbwogICAgICAgICAgICB9LAogICAgICAgICAgICAia3lCYW9DYW8iOiB7CiAgICAgICAgICAgICAgIm1hTXVjIjogdm0uY2hpVGlldEJhb0Nhb1sna3lCYW9DYW8nXVsnbWFNdWMnXSwKICAgICAgICAgICAgICAidGVuTXVjIjogdm0uY2hpVGlldEJhb0Nhb1sna3lCYW9DYW8nXVsndGVuTXVjJ10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgIm5vaUR1bmciOiBmb3JtRGF0YQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coJ2RhdGFCYW9DYW8nLCBmaWx0ZXIuZGF0YSk7CiAgICAgICAgdm0ubG9hZGluZ0FjdGlvbiA9IHRydWU7CgogICAgICAgIGlmICghdm0uZWRpdFRoYW5oUGhhbikgewogICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uQ3JlYXRlJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgdm0ucnVuUHJvY2Vzc1VwbG9hZEZpbGVzKHJlc3VsdC5yZXNwKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2bS5sb2FkaW5nQWN0aW9uID0gZmFsc2U7CiAgICAgICAgICAgIHRvYXN0ci5yZW1vdmUoKTsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdUaMOqbSBt4bubaSB0aOG6pXQgYuG6oWknKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmaWx0ZXJbJ2lkJ10gPSB2bS50aGFuaFBoYW5FZGl0LnByaW1LZXk7CiAgICAgICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25VcGRhdGUnLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICB2bS5ydW5Qcm9jZXNzVXBsb2FkRmlsZXModm0udGhhbmhQaGFuRWRpdCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdm0ubG9hZGluZ0FjdGlvbiA9IGZhbHNlOwogICAgICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgICAgIHRvYXN0ci5lcnJvcignQ+G6rXAgbmjhuq10IHRo4bqldCBi4bqhaScpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8vIGNsaWNrIGNoaVRpZXRUaGFuaFBoYW4KICAgIHNob3dUaG9uZ1RpblRoYW5oUGhhbihpdGVtKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLnJlYWRvbmx5Rm9ybSA9IHRydWU7CiAgICAgIHZtLmVkaXRUaGFuaFBoYW4gPSBudWxsOwogICAgICB2bS5kYXRhSW5wdXQgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLm5vaUR1bmcpOwogICAgICB2bS5kaWFsb2dUaGVtVGhhbmhQaGFuID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdm0uJHJlZnMuZm9ybVRoYW5oUGhhbi5pbml0Rm9ybSgndXBkYXRlJyk7CiAgICAgIH0sIDIwMCk7CiAgICB9LAoKICAgIGV4aXRGb3JtKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS4kcmVmcy5mb3JtVGhhbmhQaGFuLnJlc2V0Rm9ybSgpOwogICAgICB2bS5kaWFsb2dUaGVtVGhhbmhQaGFuID0gZmFsc2U7CiAgICB9LAoKICAgIHhvYVRoYW5oUGhhbihpdGVtKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLiRzdG9yZS5jb21taXQoJ1NFVF9TSE9XQ09ORklSTScsIHRydWUpOwogICAgICBsZXQgY29uZmlybSA9IHsKICAgICAgICBhdXRoOiBmYWxzZSwKICAgICAgICB0aXRsZTogJ1jDs2EgdGjDoG5oIHBo4bqnbicsCiAgICAgICAgbWVzc2FnZTogJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIHRow6BuaCBwaOG6p24gYsOhbyBjw6FvIG7DoHknLAogICAgICAgIGJ1dHRvbjogewogICAgICAgICAgeWVzOiAnQ8OzJywKICAgICAgICAgIG5vOiAnS2jDtG5nJwogICAgICAgIH0sCiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHsKICAgICAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgICAgIGNvbGxlY3Rpb25OYW1lOiAndGhhbmhwaGFuYmFvY2FvJywKICAgICAgICAgICAgaWQ6IGl0ZW0ucHJpbUtleQogICAgICAgICAgfTsKICAgICAgICAgIHZtLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRGVsZXRlJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdYw7NhIHRow6BuaCBwaOG6p24gdGjDoG5oIGPDtG5nJyk7CiAgICAgICAgICAgIHZtLmdldGRhbmhTYWNoVGhhbmhQaGFuKCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgICAgIHRvYXN0ci5lcnJvcignWMOzYSB0aMOgbmggcGjhuqduIHRo4bqldCBi4bqhaScpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwogICAgICB2bS4kc3RvcmUuY29tbWl0KCdTRVRfQ09ORklHX0NPTkZJUk1fRElBTE9HJywgY29uZmlybSk7CiAgICB9LAoKICAgIHNob3dEb0FjdGlvbihpdGVtKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLmFjdGlvblNlbGVjdGVkID0gaXRlbTsKICAgICAgdm0uZGlhbG9nRG9BY3Rpb24gPSB0cnVlOwogICAgICB2bS5naGlDaHVEb0FjdGlvbiA9ICcnOwogICAgfSwKCiAgICBkb0FjdGlvbihpdGVtKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLmxvYWRpbmdBY3Rpb24gPSB0cnVlOwogICAgICBsZXQgdXNlckluZm8gPSB2bS4kY29va2llcy5nZXQoJ1VzZXJJbmZvJywgJycpOwogICAgICBsZXQgZmlsdGVyID0gewogICAgICAgIGlkOiB2bS5jaGlUaWV0QmFvQ2FvLnByaW1LZXksCiAgICAgICAgY29sbGVjdGlvbk5hbWU6ICdiYW9jYW8nLAogICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24odm0uY2hpVGlldEJhb0NhbywgewogICAgICAgICAgInRpbmhUcmFuZyI6IHsKICAgICAgICAgICAgIm1hTXVjIjogaXRlbS5tYVRyYW5nVGhhaSwKICAgICAgICAgICAgInRlbk11YyI6IGl0ZW0udGVuVHJhbmdUaGFpCiAgICAgICAgICB9LAogICAgICAgICAgInRpZW5UcmluaCI6IHsKICAgICAgICAgICAgImhvVmFUZW4iOiB1c2VySW5mbyA/IHVzZXJJbmZvLmhvVmFUZW4gOiAnJywKICAgICAgICAgICAgInRob2lHaWFuQ2FwTmhhdCI6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgImhhbmhEb25nIjogaXRlbS50ZW5IYW5oRG9uZywKICAgICAgICAgICAgIm1hSGFuaERvbmciOiBpdGVtLm1hSGFuaERvbmcsCiAgICAgICAgICAgICJub2lEdW5nIjogU3RyaW5nKHZtLmdoaUNodURvQWN0aW9uKS50cmltKCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9OwogICAgICB2bS4kc3RvcmUuZGlzcGF0Y2goJ2NvbGxlY3Rpb25VcGRhdGUnLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIHZtLmxvYWRpbmdBY3Rpb24gPSBmYWxzZTsKICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Ro4buxYyBoaeG7h24gdGjDoG5oIGPDtG5nJyk7CiAgICAgICAgdm0uZGlhbG9nRG9BY3Rpb24gPSBmYWxzZTsKICAgICAgICB2bS4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogJy9iYW8tY2FvLycgKyB2bS50eXBlCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2bS5sb2FkaW5nQWN0aW9uID0gZmFsc2U7CiAgICAgICAgdm0uZGlhbG9nRG9BY3Rpb24gPSBmYWxzZTsKICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgdG9hc3RyLmVycm9yKCdUaOG7sWMgaGnhu4duIHRo4bqldCBi4bqhaScpOwogICAgICB9KTsKICAgIH0sCgogICAgY2hlY2tSb2xlQWN0aW9uKHJvbGUpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IHJvbGVVc2VyID0gdm0uJGNvb2tpZXMuZ2V0KCdSb2xlcycsICcnKTsKCiAgICAgIGlmICghcm9sZSB8fCAhcm9sZVVzZXIpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGxldCByb2xlcyA9IHJvbGVVc2VyLnNwbGl0KCcsJyk7CiAgICAgIGxldCBleGl0cyA9IHJvbGVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSA9PSByb2xlOwogICAgICB9KTsKCiAgICAgIGlmIChleGl0cykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICB1cGxvYWRGaWxlcyhpbmRleCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBsZXQgZmlsZXMgPSAnJzsKCiAgICAgIHRyeSB7CiAgICAgICAgZmlsZXMgPSAkKCcjZmlsZV91cGxvYWQnKVswXS5maWxlczsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9CgogICAgICBsZXQgZmlsZSA9IGZpbGVzW2luZGV4XTsKICAgICAgbGV0IGZpbGVOYW1lID0gZmlsZVsnbmFtZSddOwoKICAgICAgaWYgKGZpbGVbJ25hbWUnXSkgewogICAgICAgIGZpbGVOYW1lID0gZmlsZVsnbmFtZSddLnJlcGxhY2UoL1wlL2csICcnKTsKICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL1wvL2csICcnKTsKICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL1xcL2csICcnKTsKICAgICAgfQoKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaWQnLCB2bS50aGFuaFBoYW5FZGl0LnByaW1LZXkpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgZmlsZSwgZmlsZU5hbWUpOwogICAgICBheGlvcy5wb3N0KCcvdjEvZGF0YXNoYXJpbmcvdGhhbmhwaGFuYmFvY2FvL3VwbG9hZCcsIGZvcm1EYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9PGNhbGN1bGF0ZWQgd2hlbiByZXF1ZXN0IGlzIHNlbnQ+JwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBsZXQgZmlsZXMgPSAnJzsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZpbGVzID0gJCgnI2ZpbGVfdXBsb2FkJylbMF0uZmlsZXM7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9CgogICAgICAgIGxldCBmaWxlID0gZmlsZXNbaW5kZXggKyAxXTsKCiAgICAgICAgaWYgKCFmaWxlKSB7CiAgICAgICAgICB2bS5sb2FkaW5nQWN0aW9uID0gZmFsc2U7CiAgICAgICAgICB2bS5kaWFsb2dUaGVtVGhhbmhQaGFuID0gZmFsc2U7CiAgICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnVGjhu7FjIGhp4buHbiB0aMOgbmggY8O0bmcnKTsKICAgICAgICAgIHZtLmdldGRhbmhTYWNoVGhhbmhQaGFuKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLnVwbG9hZEZpbGVzKGluZGV4ICsgMSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoeGhyKSB7CiAgICAgICAgdG9hc3RyLmNsZWFyKCk7CiAgICAgICAgdG9hc3RyLmVycm9yKCdUw6BpIGxp4buHdSAnICsgZmlsZU5hbWUgKyAnIHThuqNpIGzDqm4ga2jDtG5nIHRow6BuaCBjw7RuZy4gVnVpIGzDsm5nIGtp4buDbSB0cmEgbOG6oWkuJyk7CiAgICAgICAgbGV0IGZpbGVzID0gJyc7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmaWxlcyA9ICQoJyNmaWxlX3VwbG9hZCcpWzBdLmZpbGVzOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQoKICAgICAgICBsZXQgZmlsZSA9IGZpbGVzW2luZGV4ICsgMV07CgogICAgICAgIGlmICghZmlsZSkgewogICAgICAgICAgdm0ubG9hZGluZ0FjdGlvbiA9IGZhbHNlOwogICAgICAgICAgdm0uZGlhbG9nVGhlbVRoYW5oUGhhbiA9IGZhbHNlOwogICAgICAgICAgdG9hc3RyLnJlbW92ZSgpOwogICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Ro4buxYyBoaeG7h24gdGjDoG5oIGPDtG5nJyk7CiAgICAgICAgICB2bS5nZXRkYW5oU2FjaFRoYW5oUGhhbigpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS51cGxvYWRGaWxlcyhpbmRleCArIDEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHJ1blByb2Nlc3NVcGxvYWRGaWxlcygpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IGZpbGVzID0gJyc7CgogICAgICB0cnkgewogICAgICAgIGZpbGVzID0gJCgnI2ZpbGVfdXBsb2FkJylbMF0uZmlsZXM7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQoKICAgICAgbGV0IGNvdW50ID0gZmlsZXMubGVuZ3RoOwoKICAgICAgaWYgKGNvdW50KSB7CiAgICAgICAgdm0udXBsb2FkRmlsZXMoMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0ubG9hZGluZ0FjdGlvbiA9IGZhbHNlOwogICAgICAgIHZtLmRpYWxvZ1RoZW1UaGFuaFBoYW4gPSBmYWxzZTsKICAgICAgICB0b2FzdHIucmVtb3ZlKCk7CiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Ro4buxYyBoaeG7h24gdGjDoG5oIGPDtG5nJyk7CiAgICAgICAgdm0uZ2V0ZGFuaFNhY2hUaGFuaFBoYW4oKTsKICAgICAgfQogICAgfSwKCiAgICB2aWV3SGlzdG9yeSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uZGlhbG9nTGljaFN1ID0gdHJ1ZTsKICAgIH0sCgogICAgY29udmVydERhdGFWaWV3KGl0ZW1IZWFkZXIsIGl0ZW0pIHsKICAgICAgbGV0IG91dHB1dCA9ICcnOwoKICAgICAgdHJ5IHsKICAgICAgICBsZXQgY2FsdSA9IGl0ZW1IZWFkZXJbJ2NhbGN1bGF0b3InXS5yZXBsYWNlKC9kYXRhSW5wdXQvZywgJ2l0ZW0nKTsKICAgICAgICBvdXRwdXQgPSBldmFsKGNhbHUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIG91dHB1dCA9ICcnOwogICAgICB9CgogICAgICByZXR1cm4gb3V0cHV0OwogICAgfSwKCiAgICBjb252ZXJ0RGF0YUFycmF5KGl0ZW1IZWFkZXIsIGFycmF5KSB7CiAgICAgIGxldCBvdXRwdXQgPSAnJzsKCiAgICAgIGlmIChhcnJheSkgewogICAgICAgIG91dHB1dCA9IEFycmF5LmZyb20oYXJyYXksIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbVtpdGVtSGVhZGVyWydtYXBwaW5nJ11dOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBvdXRwdXQgPSBvdXRwdXQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcsICcpOwogICAgICByZXR1cm4gb3V0cHV0OwogICAgfSwKCiAgICBnZXRTdGF0dXMoZGFuaFRpbmhEaWVuVHUpIHsKICAgICAgcmV0dXJuIGRhbmhUaW5oRGllblR1WzBdID8gZGFuaFRpbmhEaWVuVHVbMF0udGluaFRyYW5nU3VEdW5nVGFpS2hvYW5bJ3Rlbk11YyddIDogJ0NoxrBhIHThuqFvIHTDoGkga2hv4bqjbic7CiAgICB9LAoKICAgIGdldENvbG9yKGRhbmhUaW5oRGllblR1KSB7CiAgICAgIGxldCBzdGF0dXMgPSBkYW5oVGluaERpZW5UdVswXSA/IFN0cmluZyhkYW5oVGluaERpZW5UdVswXS50aW5oVHJhbmdTdUR1bmdUYWlLaG9hblsnTWFNdWMnXSkgOiAnMCc7CgogICAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICAgIGNhc2UgJzEnOgogICAgICAgICAgcmV0dXJuICdjb2xvcjogYmx1ZSc7CgogICAgICAgIGNhc2UgJzInOgogICAgICAgICAgcmV0dXJuICdjb2xvcjogZ3JlZW4nOwoKICAgICAgICBjYXNlICczJzoKICAgICAgICAgIHJldHVybiAnY29sb3I6IG9yYW5nZSc7CgogICAgICAgIGNhc2UgJzQnOgogICAgICAgICAgcmV0dXJuICdjb2xvcjogcmVkJzsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAnY29sb3I6IGJsYWNrJzsKICAgICAgfQogICAgfSwKCiAgICBjdXJyZW5jeSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICBsZXQgbW9uZXlDdXIgPSAodmFsdWUgLyAxKS50b0ZpeGVkKDApLnJlcGxhY2UoJy4nLCAnLCcpOwogICAgICAgIHJldHVybiBtb25leUN1ci50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICcuJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCgogICAgZGF0ZUxvY2FsZShkYXRlSW5wdXQpIHsKICAgICAgaWYgKCFkYXRlSW5wdXQpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoZGF0ZUlucHV0KTsKICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0vJHsoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS8ke2RhdGUuZ2V0RnVsbFllYXIoKX1gOwogICAgfSwKCiAgICBkYXRlTG9jYWxlVGltZShkYXRlSW5wdXQpIHsKICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShkYXRlSW5wdXQpOwogICAgICByZXR1cm4gYCR7ZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS8keyhkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LyR7ZGF0ZS5nZXRGdWxsWWVhcigpfSAke2RhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7ZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7CiAgICB9LAoKICAgIGNoYW5nZVBhZ2UoY29uZmlnKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLnBhZ2UgPSBjb25maWcucGFnZTsKICAgICAgdm0uZ2V0ZGFuaFNhY2hUaGFuaFBoYW4oKTsKICAgIH0sCgogICAgcmVzZXRGb3JtVGltS2llbSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uJHJlZnMuZm9ybVRpbUtpZW0ucmVzZXQoKTsKICAgICAgdm0uJHJlZnMuZm9ybVRpbUtpZW0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9LAoKICAgIGNoYW5nZURhdGUoaW5kZXgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0ubWVudURhdGUxID0gZmFsc2U7CgogICAgICBpZiAoaW5kZXggPT09ICcxJykgewogICAgICAgIHZtLmZyb21SZWNlaXZlRGF0ZUZvcm1hdHRlZCA9IHZtLmZvcm1hdERhdGUodm0uZnJvbVJlY2VpdmVEYXRlKTsKICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gJzInKSB7CiAgICAgICAgdm0udG9SZWNlaXZlRGF0ZUZvcm1hdHRlZCA9IHZtLmZvcm1hdERhdGUodm0udG9SZWNlaXZlRGF0ZSk7CiAgICAgIH0KICAgIH0sCgogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuICcnOwogICAgICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlLnNwbGl0KCctJyk7CiAgICAgIHJldHVybiBgJHtkYXl9LyR7bW9udGh9LyR7eWVhcn1gOwogICAgfSwKCiAgICBwYXJzZURhdGUoZGF0ZSkgewogICAgICBpZiAoIWRhdGUpIHJldHVybiAnJzsKCiAgICAgIGlmIChTdHJpbmcoZGF0ZSkuaW5kZXhPZignLycpID4gMCkgewogICAgICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKTsKICAgICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aC5wYWRTdGFydCgyLCAnMCcpfS0ke2RheS5wYWRTdGFydCgyLCAnMCcpfWA7CiAgICAgIH0gZWxzZSBpZiAoU3RyaW5nKGRhdGUpLmluZGV4T2YoJy0nKSA+IDApIHsKICAgICAgICBjb25zdCBbZGF5LCBtb250aCwgeWVhcl0gPSBkYXRlLnNwbGl0KCctJyk7CiAgICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGgucGFkU3RhcnQoMiwgJzAnKX0tJHtkYXkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBkYXRlMSA9IG5ldyBEYXRlKE51bWJlcihkYXRlKSk7CiAgICAgICAgcmV0dXJuIGAke2RhdGUxLmdldEZ1bGxZZWFyKCl9LSR7KGRhdGUxLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LSR7ZGF0ZTEuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICB9CiAgICB9LAoKICAgIGdldE1pbk1heChkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7CiAgICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKTsKICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7CiAgICB9LAoKICAgIGdvQmFjaygpIHsKICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsXA;AACA;AACA;AACA;AACA;AACAA;EACA,mBADA;EAEA,iBAFA;EAGA;AAHA;AAKA;EACAC,cADA;EAEAC;IACAC,UADA;IAEA;EAFA,CAFA;EAMAC,qBANA;;EAOAC;IACA;MACAC,mBADA;MAEAC,eAFA;MAGAC,aAHA;MAIAC,YAJA;MAKAC,iBALA;MAMAC,oBANA;MAOAC,YAPA;MAQAC,iBARA;MASAC,kBATA;MAUAC,qBAVA;MAWAC,eAXA;MAYAC,kBAZA;MAaAC,iBAbA;MAcAC,kBAdA;MAeAC,sBAfA;MAgBAC,uBAhBA;MAiBAC,mBAjBA;MAkBAC,oBAlBA;MAmBAC,kBAnBA;MAoBAC,mBApBA;MAqBAC,WArBA;MAsBAC,OAtBA;MAuBAC,eAvBA;MAwBAC,QAxBA;MAyBAC,YAzBA;MA0BAC,gBA1BA;MA2BAC,gBA3BA;MA4BAC,mBA5BA;MA6BAC,4BA7BA;MA8BAC,iBA9BA;MA+BAC,0BA/BA;MAgCAC,0BAhCA;MAiCAC,oBAjCA;MAkCAC,iBAlCA;MAmCAC,oBAnCA;MAoCAC,eApCA;MAqCAC,kBArCA;MAsCAC,wBAtCA;MAuCAC,qBAvCA;MAwCAC,kBAxCA;MAyCAC,mBAzCA;MA0CAC,mBACA;QACAC,eADA;QAEAC,WAFA;QAGAC,eAHA;QAIAC;MAJA,CADA,EAOA;QACAH,eADA;QAEAC,gBAFA;QAGAC,aAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CAPA,EAeA;QACAL,eADA;QAEAC,uBAFA;QAGAC,aAHA;QAIAC,gBAJA;QAKAC,kBALA;QAMAC;MANA,CAfA,EAuBA;QACAL,eADA;QAEAC,2BAFA;QAGAC,aAHA;QAIAC,wBAJA;QAKAC,kBALA;QAMAC;MANA,CAvBA,EA+BA;QACAL,eADA;QAEAC,yBAFA;QAGAC,aAHA;QAIAC,gBAJA;QAKAC;MALA,CA/BA,CA1CA;MAiFAE;IAjFA;EAmFA,CA3FA;;EA4FAC;IACA;;IACA;MACAC;QAAAC;MAAA;MACA;IACA;;IACAD;EACA,CAnGA;;EAoGAE;IACA;MACA;MACAF;IACA;EAJA,CApGA;EA0GAG;IACA;IACAC;MACA;;MACA;QACA;MACA;;MACAJ;MACA;QACAK,wBADA;QAEAC;MAFA;MAIAN;MACAA;MACAA;QACAA;QACAA;QACAA;QACA;QACA;;QACA;UACAA;QACA,CAFA,MAEA;UACA;YACA;;YACA;cACA;gBACA;gBACA;kBACA;gBACA,CAFA;;gBAGA;kBACAA;gBACA;cACA;YACA;UACA;QACA;;QACAA;MACA,CAzBA,EAyBAO,KAzBA,CAyBA;QACAP;MACA,CA3BA;IA4BA,CA1CA;;IA2CA;IACAQ;MACA;MACA;QACAH,2BADA;QAEAI,uBAFA;QAGAH;MAHA;MAKAN;QACAA;QACAA;QACAA;QACAA;QACAA;MACA,CANA,EAMAO,KANA,CAMA,aACA,CAPA;IAQA,CA3DA;;IA4DA;IACAG;MACA;;MACA;QACAV;QACAA;QACAA,YAHA,CAIA;MACA;;MACA;QACA;MACA;;MACAA;MACA;QACAK,iCADA;QAEAxD;UACAsB,aADA;UAEAwC,qBAFA;UAGAC,8BAHA;UAIAC,iBAJA;UAKAC;QALA;MAFA;MAUAd;QACAA;QACAA;QACAA;QACAA;MACA,CALA,EAKAO,KALA,CAKA;QACAP;MACA,CAPA;IAQA,CA3FA;;IA4FA;IACAe;MACA;;MACA;QACAvE;QACA;MACA;;MACAwD;MACAA;MACAA;MACAgB;QACAhB;QACAA;MACA,CAHA,EAGA,GAHA;IAIA,CA1GA;;IA2GA;IACAiB;MACA;MACAjB;MACAA;;MACA;QACAA;MACA,CAFA,CAEA;QACAA;MACA;;MACAA;MACAA;MACAgB;QACAhB;MACA,CAFA,EAEA,GAFA;IAGA,CA1HA;;IA2HA;IACAkB;MACA;MACA;;MACA;QACAlB;QACA;QACA;UACAK,iCADA;UAEAxD;YACA;cACA,4CADA;cAEA;YAFA,CADA;YAKA;cACA,4CADA;cAEA;YAFA,CALA;YASA;cACA,8CADA;cAEA;YAFA,CATA;YAaA;UAbA;QAFA;QAkBAsE;QACAnB;;QACA;UACAA;YACAA;UACA,CAFA,EAEAO,KAFA,CAEA;YACAP;YACAxD;YACAA;UACA,CANA;QAOA,CARA,MAQA;UACA4E;UACApB;YACAA;UACA,CAFA,EAEAO,KAFA,CAEA;YACAP;YACAxD;YACAA;UACA,CANA;QAOA;MACA;IACA,CAzKA;;IA0KA;IACA6E;MACA;MACArB;MACAA;MACAA;MACAA;MACAgB;QACAhB;MACA,CAFA,EAEA,GAFA;IAGA,CApLA;;IAqLAsB;MACA;MACAtB;MACAA;IACA,CAzLA;;IA0LAuB;MACA;MACAvB;MACA;QACAwB,WADA;QAEAC,uBAFA;QAGAC,2DAHA;QAIAC;UACAC,SADA;UAEAC;QAFA,CAJA;QAQAC;UACA;YACAzB,iCADA;YAEAC;UAFA;UAIAN;UACAA;YACAA;YACAxD;YACAA;YACAwD;UACA,CALA,EAKAO,KALA,CAKA;YACAP;YACAxD;YACAA;UACA,CATA;QAUA;MAxBA;MA0BAwD;IACA,CAxNA;;IAyNA+B;MACA;MACA/B;MACAA;MACAA;IACA,CA9NA;;IA+NAgC;MACA;MACAhC;MACA;MACA;QACAM,4BADA;QAEAD,wBAFA;QAGAxD;UACA;YACA,yBADA;YAEA;UAFA,CADA;UAKA;YACA,2CADA;YAEA,2CAFA;YAGA,4BAHA;YAIA,6BAJA;YAKA;UALA;QALA;MAHA;MAiBAmD;QACAA;QACAxD;QACAA;QACAwD;QACAA;UAAAC;QAAA;MACA,CANA,EAMAM,KANA,CAMA;QACAP;QACAA;QACAxD;QACAA;MACA,CAXA;IAYA,CAhQA;;IAiQAyF;MACA;MACA;;MACA;QACA;MACA;;MACA;MACA;QACA;MACA,CAFA;;MAGA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAhRA;;IAiRAC;MACA;MACA;;MACA;QACAC;MACA,CAFA,CAEA,eACA;;MACA;MACA;;MACA;QACAC;QACAA;QACAA;MACA;;MACA;MACAnF;MACAA;MAEAoF;QACAnE;UACA,4BADA;UAEA;QAFA;MADA,GAKAoE,IALA,CAKA;QACA;;QACA;UACAH;QACA,CAFA,CAEA,eACA;;QACA;;QACA;UACAnC;UACAA;UACAxD;UACAA;UACAwD;UACA;QACA,CAPA,MAOA;UACAA;QACA;MACA,CAtBA,EAsBAO,KAtBA,CAsBA;QACA/D;QACAA;QACA;;QACA;UACA2F;QACA,CAFA,CAEA,eACA;;QACA;;QACA;UACAnC;UACAA;UACAxD;UACAA;UACAwD;UACA;QACA,CAPA,MAOA;UACAA;QACA;MACA,CAzCA;IA0CA,CA7UA;;IA8UAuC;MACA;MACA;;MACA;QACAJ;MACA,CAFA,CAEA,eACA;;MACA;;MACA;QACAnC;MACA,CAFA,MAEA;QACAA;QACAA;QACAxD;QACAA;QACAwD;MACA;IACA,CA/VA;;IAgWAwC;MACA;MACAxC;IACA,CAnWA;;IAoWAyC;MACA;;MACA;QACA;QACAC;MACA,CAHA,CAGA;QACAA;MACA;;MACA;IACA,CA7WA;;IA8WAC;MACA;;MACA;QACAD;UACA;QACA,CAFA;MAGA;;MACAA;MACA;IACA,CAvXA;;IAwXAE;MACA;IACA,CA1XA;;IA2XAC;MACA;;MACA;QACA;UACA;;QACA;UACA;;QACA;UACA;;QACA;UACA;;QACA;UACA;MAVA;IAYA,CAzYA;;IA0YAC;MACA;QACA;QACA;MACA;;MACA;IACA,CAhZA;;IAiZAC;MACA;QACA;MACA;;MACA;MACA;IACA,CAvZA;;IAwZAC;MACA;MACA;IACA,CA3ZA;;IA4ZAC;MACA;MACAjD;MACAA;IACA,CAhaA;;IAiaAkD;MACA;MACAlD;MACAA;IACA,CAraA;;IAsaAmD;MACA;MACAnD;;MACA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CA9aA;;IA+aAoD;MACA;MACA;MACA;IACA,CAnbA;;IAobAC;MACA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA;IACA,CAhcA;;IAicAC;MACA;MACA;MACA;IACA,CArcA;;IAscAC;MACAC;IACA;;EAxcA;AA1GA","names":["toastr","name","components","Pagination","props","data","readonlyForm","mauNhapForm","dataInput","formData","chiTietBaoCao","chiTietMauBaoCao","selected","keywordSearch","loadingData","danhSachThanhPhan","tableConfig","maBaoCaoSearch","kyBaoCaoItems","kyBaoCaoSearch","donViDuocGiaoItems","donViDuocGiaoSearch","loaiBaoCaoItems","loaiBaoCaoSearch","trangThaiItems","trangThaiSearch","headers","page","itemsPerPage","total","pageCount","menuDate1","menuDate2","fromReceiveDate","fromReceiveDateFormatted","toReceiveDate","toReceiveDateFormatted","dialogThemThanhPhan","editThanhPhan","thanhPhanEdit","loadingAction","actionItems","actionSelected","validFormDoAction","dialogDoAction","ghiChuDoAction","dialogLichSu","headersTienTrinh","sortable","text","align","value","class","width","danhSachTienTrinh","created","vm","path","watch","methods","getChiTietBaoCao","collectionName","id","catch","getChiTietMauBaoCao","keySearch","getdanhSachThanhPhan","size","orderFields","orderTypes","baoCao_maBaoCao","showAddThanhPhan","setTimeout","showUpdateThanhPhan","submitThemThanhPhan","console","filter","showThongTinThanhPhan","exitForm","xoaThanhPhan","auth","title","message","button","yes","no","callback","showDoAction","doAction","checkRoleAction","uploadFiles","files","fileName","axios","then","runProcessUploadFiles","viewHistory","convertDataView","output","convertDataArray","getStatus","getColor","currency","dateLocale","dateLocaleTime","changePage","resetFormTimKiem","changeDate","formatDate","parseDate","getMinMax","goBack","window"],"sourceRoot":"src/views","sources":["ChiTietBaoCao.vue"],"sourcesContent":["<template>\r\n  <v-card\r\n    class=\"mx-auto pa-3\" style=\"padding-bottom: 36px !important\"\r\n    flat\r\n  >\r\n    <v-layout wrap>\r\n      <v-flex class=\"py-0\">\r\n        <!-- show chi tiết báo cáo  -->\r\n        <div>\r\n          <v-row justify=\"end\" class=\"my-0 mx-0\" style=\"border-bottom: 1px solid #2161B1\">\r\n            <v-col class=\"d-flex align-center justify-start py-0 px-0\" style=\"color: #2161B1;font-weight: 500;\">\r\n              <div class=\"header-content\">\r\n                Chi tiết báo cáo\r\n              </div>\r\n              <div class=\"triangle-header\"></div>\r\n            </v-col>\r\n            <v-spacer></v-spacer>\r\n            <v-col class=\"d-flex align-center justify-end py-0 px-0\" style=\"max-width: 150px;margin-bottom: -3px;\">\r\n              <v-btn\r\n                depressed\r\n                class=\"mx-0\"\r\n                small\r\n                color=\"primary\"\r\n                @click=\"goBack()\"\r\n                style=\"float: right\"\r\n                >\r\n                <v-icon size=\"18\">mdi-reply-all</v-icon>\r\n                &nbsp;\r\n                Quay lại\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <div>\r\n            <v-row class=\"mx-0 my-0 py-0\" style=\"border: 1px solid #D9D9D9; border-top: 0px;\">\r\n              <v-col cols=\"12\" class=\"py-2\">\r\n                <div class=\"font-weight-bold\" style=\"color: #2161B1;\">{{chiTietBaoCao.tenBaoCao}}</div>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <span class=\"label-header\">Mã báo cáo: </span>\r\n                <span class=\"blue-text font-weight-bold\">{{chiTietBaoCao.maBaoCao}}</span>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <span class=\"label-header\">Kỳ báo cáo: </span>\r\n                <span class=\"blue-text font-weight-bold\">{{chiTietBaoCao.kyBaoCao ? chiTietBaoCao.kyBaoCao.tenMuc : ''}}</span>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <span class=\"label-header\">Đơn vị xử lý: </span>\r\n                <span class=\"blue-text font-weight-bold\">{{chiTietBaoCao.coQuanThucHien ? chiTietBaoCao.coQuanThucHien.tenGoi : ''}}</span>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <span class=\"label-header\">Tình trạng: </span>\r\n                <span class=\"blue-text font-weight-bold\">{{chiTietBaoCao.tinhTrang ? chiTietBaoCao.tinhTrang.tenMuc : ''}}</span>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <span class=\"label-header\">Ngày tạo: </span>\r\n                <span class=\"blue-text font-weight-bold\">{{dateLocale(chiTietBaoCao.thoiGianTao)}}</span>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <span class=\"label-header\">Hạn xử lý: </span>\r\n                <span class=\"blue-text font-weight-bold\">{{dateLocale(chiTietBaoCao.hanXuLy)}}</span>\r\n              </v-col>\r\n              \r\n              <v-col cols=\"12\" md=\"3\" class=\"pt-0\">\r\n                <div class=\"d-inline-block\" @click=\"viewHistory\">\r\n                  <v-icon size=\"20\" class=\"font-weight-bold\" color=\"green\">mdi-history</v-icon>\r\n                  <a class=\"ml-2 font-weight-bold\" style=\"font-size: 14px;text-decoration: underline;color: green\">Xem lịch sử thực hiện</a>\r\n                </div>\r\n              </v-col>\r\n              <!--  -->\r\n              <v-col class=\"mb-2\" cols=\"12\" v-if=\"actionItems && actionItems.length\">\r\n                <v-btn\r\n                  v-for=\"(item, index) in actionItems\" :key=\"index\"\r\n                  class=\"btn-form mx-0 mr-3 left\" small\r\n                  color=\"success\"\r\n                  :loading=\"loadingAction\" :disabled=\"loadingAction\"\r\n                  @click.stop=\"showDoAction(item)\"\r\n                >\r\n                  <v-icon size=\"18\">mdi-arrow-right-drop-circle-outline</v-icon>&nbsp;\r\n                  <span>{{item.tenHanhDong}}</span>\r\n                </v-btn>\r\n              </v-col>\r\n              <!--  -->\r\n            </v-row>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <!-- line danh sách thành phần và btn them moi thanh phan -->\r\n          <v-row justify=\"end\" class=\"my-0 mx-0 mt-3\" style=\"border-bottom: 1px solid #2161B1\">\r\n            <v-col class=\"d-flex align-center justify-start py-0 px-0\" style=\"color: #2161B1;font-weight: 500;\">\r\n              <div class=\"header-content\">\r\n                Danh sách thành phần\r\n              </div>\r\n              <div class=\"triangle-header\"></div>\r\n            </v-col>\r\n            <v-spacer></v-spacer>\r\n            <v-col v-if=\"isAdmin || checkRole('CAPNHATBAOCAO')\" class=\"d-flex align-center justify-end py-0 px-0\" style=\"max-width: 150px;\">\r\n              <v-btn\r\n                depressed\r\n                class=\"mx-0\"\r\n                small\r\n                color=\"primary\"\r\n                @click=\"showAddThanhPhan()\"\r\n                style=\"float: right\"\r\n                >\r\n                <v-icon size=\"18\">mdi-file-document-plus-outline</v-icon>\r\n                &nbsp;\r\n                Thêm mới thành phần\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n\r\n          <!-- show danh sách thành phần -->\r\n          <v-row class=\"my-0 py-0 pt-3\">\r\n            <v-col cols=\"12\"  class=\"pt-0\">\r\n              <v-data-table\r\n                :headers=\"headers\"\r\n                :items=\"danhSachThanhPhan\"\r\n                :items-per-page=\"itemsPerPage\"\r\n                item-key=\"primKey\"\r\n                hide-default-footer\r\n                class=\"table-base mt-2\"\r\n                no-data-text=\"Không có\"\r\n                :loading=\"loadingData\"\r\n                loading-text=\"Đang tải... \"\r\n              >\r\n                <template v-slot:body=\"{ items, headers}\">\r\n                  <tbody>\r\n                    <tr v-for=\"(item, index) in items\" :key=\"index\" @click=\"showThongTinThanhPhan(item)\">\r\n                      <td v-for=\"(itemHeader, indexHeader) in headers\" :key=\"indexHeader\" :class=\"itemHeader['class']\" :width=\"itemHeader.hasOwnProperty('width') ? itemHeader.width : ''\">\r\n                        <div v-if=\"itemHeader.type == 'index'\">\r\n                          <div v-if=\"itemsPerPage\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">{{ (page+1) * itemsPerPage - itemsPerPage + index + 1 }}</div>\r\n                          <div v-else :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">{{ index + 1 }}</div>\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'date'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? dateLocale(item['noiDung'][itemHeader.value]) : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'datetime'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? dateLocaleTime(item['noiDung'][itemHeader.value]) : ''}}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'object'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? item['noiDung'][itemHeader.value][itemHeader.mapping] : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'money'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? currency(item['noiDung'][itemHeader.value]) : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'array'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? convertDataArray(itemHeader, item['noiDung'][itemHeader.value]) : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'calculator'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ convertDataView(itemHeader, item['noiDung']) }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'action'\">\r\n                          <v-tooltip top >\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-btn @click.stop=\"showThongTinThanhPhan(item)\" color=\"#2161b1\" text icon class=\" mr-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-icon size=\"18\">mdi-file-document-multiple-outline</v-icon>\r\n                              </v-btn>\r\n                            </template>\r\n                            <span>Chi tiết thành phần</span>\r\n                          </v-tooltip>\r\n                          <v-tooltip top v-if=\"isAdmin || checkRole('CAPNHATBAOCAO')\">\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-btn @click.stop=\"showUpdateThanhPhan(item)\" color=\"#2161b1\" text icon class=\" mr-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-icon size=\"18\">mdi-pencil</v-icon>\r\n                              </v-btn>\r\n                            </template>\r\n                            <span>Sửa</span>\r\n                          </v-tooltip>\r\n                          <v-tooltip top v-if=\"isAdmin || checkRole('CAPNHATBAOCAO')\">\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-btn @click.stop=\"xoaThanhPhan(item)\" color=\"red\" text icon class=\"\" v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-icon size=\"18\">mdi-delete</v-icon>\r\n                              </v-btn>\r\n                            </template>\r\n                            <span>Xóa</span>\r\n                          </v-tooltip>\r\n                        </div>\r\n                        <div v-else :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'][itemHeader.value] }}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </template>\r\n              </v-data-table>\r\n              <pagination v-if=\"pageCount\" :pageInput=\"page\" :total=\"total\" :pageCount=\"pageCount\" @tiny:change-page=\"changePage\"></pagination>\r\n            </v-col>\r\n          </v-row>\r\n\r\n        </div>\r\n      </v-flex>\r\n    </v-layout>\r\n\r\n    <!--  dialogThemThanhPhan xem-sửa-thêm thành phần báo cáo -->      \r\n    <v-dialog\r\n      max-width=\"1200\"\r\n      v-model=\"dialogThemThanhPhan\"\r\n      persistent\r\n      fullscreen\r\n    >\r\n      <v-card>\r\n        <v-toolbar\r\n          dark\r\n          color=\"primary\"\r\n          class=\"px-3\"\r\n        >\r\n          <v-toolbar-title v-if=\"readonlyForm && editThanhPhan === null\">THÔNG TIN THÀNH PHẦN BÁO CÁO</v-toolbar-title>\r\n          <v-toolbar-title v-if=\"editThanhPhan === true && !readonlyForm\">CẬP NHẬT THÀNH PHẦN BÁO CÁO</v-toolbar-title>\r\n          <v-toolbar-title v-if=\"editThanhPhan === false && !readonlyForm\">THÊM THÀNH PHẦN BÁO CÁO</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-toolbar-items>\r\n            <v-btn\r\n              icon\r\n              dark\r\n              @click=\"exitForm\"\r\n            >\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </v-toolbar-items>\r\n        </v-toolbar>\r\n\r\n        <!-- form-them-thanh-phan -->\r\n        <v-card-text class=\"px-2 py-2\">\r\n          <form-them-thanh-phan \r\n            ref=\"formThanhPhan\" \r\n            :thongtinthanhphan=\"thanhPhanEdit\" \r\n            :mauNhap=\"mauNhapForm\" \r\n            :dataInput=\"dataInput\" \r\n            :readonly=\"readonlyForm\">\r\n          </form-them-thanh-phan>\r\n          <v-card-actions class=\"justify-center my-4\">\r\n            <v-btn small depressed color=\"red\" class=\"white--text mr-2\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click=\"exitForm\">\r\n              <v-icon left>\r\n                mdi-close\r\n              </v-icon>\r\n              Thoát\r\n            </v-btn>\r\n            <v-btn v-if=\"!readonlyForm\" small depressed class=\"mr-2\" color=\"primary\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click.native=\"submitThemThanhPhan\">\r\n              <v-icon left dark size=\"18\">\r\n                mdi-file-document-plus-outline\r\n              </v-icon>\r\n              <span v-if=\"editThanhPhan\">Cập nhật</span>\r\n              <span v-else>Thêm thành phần</span>\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card-text>\r\n      \r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!--  dialogDoAction -->\r\n    <v-dialog\r\n      max-width=\"700\"\r\n      v-model=\"dialogDoAction\"\r\n      persistent\r\n    >\r\n      <v-card>\r\n        <v-toolbar\r\n          dark\r\n          color=\"primary\" class=\"px-3\"\r\n        >\r\n          <v-toolbar-title >Ghi chú thực hiện</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-toolbar-items>\r\n            <v-btn\r\n              small\r\n              icon\r\n              dark\r\n              @click=\"dialogDoAction = false\"\r\n            >\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </v-toolbar-items>\r\n        </v-toolbar>\r\n        <v-card-text class=\"px-2 pb-0 mt-3\">\r\n          <v-form\r\n            ref=\"formDoAction\"\r\n            v-model=\"validFormDoAction\"\r\n            lazy-validation\r\n          >\r\n            <v-layout wrap>\r\n              <v-col cols=\"12\" class=\"py-0 mb-2\">\r\n                <label>Ghi chú</label>\r\n                <v-textarea\r\n                  class=\"input-form\"\r\n                  v-model=\"ghiChuDoAction\"\r\n                  solo\r\n                  dense\r\n                  clearable\r\n                  max\r\n                  hide-details=\"auto\"\r\n                  placeholder=\"Nội dung ghi chú...\"\r\n                  rows=\"5\"\r\n                ></v-textarea>\r\n              </v-col>\r\n            </v-layout>\r\n          </v-form>\r\n        </v-card-text>\r\n        <v-card-actions class=\"justify-end pb-3\">\r\n          <v-btn small color=\"red\" class=\"white--text mr-2\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click=\"dialogDoAction = false\">\r\n            <v-icon left>\r\n              mdi-close\r\n            </v-icon>\r\n            Hủy\r\n          </v-btn>\r\n          <v-btn small class=\"mr-0\" color=\"primary\" :loading=\"loadingAction\" :disabled=\"loadingAction\" @click=\"doAction(actionSelected)\">\r\n            <v-icon left>\r\n              mdi-content-save\r\n            </v-icon>\r\n            <span>Xác nhận</span>\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!--  dialogLichSu -->\r\n    <v-dialog\r\n      max-width=\"900\"\r\n      v-model=\"dialogLichSu\"\r\n      persistent\r\n    >\r\n      <v-card>\r\n        <v-toolbar\r\n          dark\r\n          color=\"primary\" class=\"px-3\"\r\n        >\r\n          <v-toolbar-title >Lịch sử thực hiện</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-toolbar-items>\r\n            <v-btn\r\n              small\r\n              icon\r\n              dark\r\n              @click=\"dialogLichSu = false\"\r\n            >\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </v-toolbar-items>\r\n        </v-toolbar>\r\n        <v-card-text class=\"mt-3 px-2\">\r\n          <v-data-table\r\n            :headers=\"headersTienTrinh\"\r\n            :items=\"danhSachTienTrinh\"\r\n            item-key=\"primKey\"\r\n            hide-default-footer\r\n            class=\"table-base mt-2\"\r\n            no-data-text=\"Không có\"\r\n            :loading=\"loadingData\"\r\n            loading-text=\"Đang tải... \"\r\n          >\r\n              <template v-slot:item.index=\"{ item, index }\">\r\n                <div >{{ index + 1 }}</div>\r\n              </template>\r\n              <template v-slot:item.thoiGianCapNhat=\"{ item }\">\r\n                <div>{{ dateLocaleTime(item.thoiGianCapNhat) }}</div>\r\n              </template>\r\n          </v-data-table>\r\n        </v-card-text>\r\n        <v-card-actions class=\"justify-end pb-3 px-2\">\r\n          <v-btn small color=\"red\" class=\"white--text mx-0\"  @click=\"dialogLichSu = false\">\r\n            <v-icon left>\r\n              mdi-close\r\n            </v-icon>\r\n            Thoát\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    \r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport $ from 'jquery'\r\nimport Pagination from './Pagination.vue'\r\nimport FormThemThanhPhan from './FormThemThanhPhan.vue'\r\nimport toastr from 'toastr'\r\ntoastr.options = {\r\n  'closeButton': true,\r\n  'timeOut': '5000',\r\n  \"positionClass\": \"toast-top-center\"\r\n}\r\nexport default {\r\n    name: 'BaoCao',\r\n    components: {\r\n      Pagination,\r\n      'form-them-thanh-phan': FormThemThanhPhan\r\n    },\r\n    props: ['type', 'id'],\r\n    data() {\r\n      return {\r\n        readonlyForm: false,\r\n        mauNhapForm: '',\r\n        dataInput: '',\r\n        formData: '',\r\n        chiTietBaoCao: '',\r\n        chiTietMauBaoCao: '',\r\n        selected: [],\r\n        keywordSearch: '',\r\n        loadingData: false,\r\n        danhSachThanhPhan: [],\r\n        tableConfig: '',\r\n        maBaoCaoSearch: '',\r\n        kyBaoCaoItems: [],\r\n        kyBaoCaoSearch: '',\r\n        donViDuocGiaoItems: [],\r\n        donViDuocGiaoSearch: '',\r\n        loaiBaoCaoItems: [],\r\n        loaiBaoCaoSearch: '',\r\n        trangThaiItems: [],\r\n        trangThaiSearch: '',\r\n        headers: [],\r\n        page: 0,\r\n        itemsPerPage: 0,\r\n        total: 0,\r\n        pageCount: 0,\r\n        menuDate1: false,\r\n        menuDate2: false,\r\n        fromReceiveDate: '',\r\n        fromReceiveDateFormatted: '',\r\n        toReceiveDate: '',\r\n        toReceiveDateFormatted: '',\r\n        dialogThemThanhPhan: false,\r\n        editThanhPhan: false,\r\n        thanhPhanEdit: '',\r\n        loadingAction: false,\r\n        actionItems: [],\r\n        actionSelected: '',\r\n        validFormDoAction: false,\r\n        dialogDoAction: false,\r\n        ghiChuDoAction: '',\r\n        dialogLichSu: false,\r\n        headersTienTrinh: [\r\n          {\r\n              sortable: false,\r\n              text: 'STT',\r\n              align: 'center',\r\n              value: 'index'\r\n          },\r\n          {\r\n              sortable: false,\r\n              text: 'Thao tác',\r\n              align: 'left',\r\n              value: 'hanhDong',\r\n              class: 'th-center',\r\n              width: 200\r\n          },\r\n          {\r\n              sortable: false,\r\n              text: 'Người thực hiện',\r\n              align: 'left',\r\n              value: 'hoVaTen',\r\n              class: 'th-center',\r\n              width: 200\r\n          },\r\n          {\r\n              sortable: false,\r\n              text: 'Thời gian thực hiện',\r\n              align: 'left',\r\n              value: 'thoiGianCapNhat',\r\n              class: 'th-center',\r\n              width: 150\r\n          },\r\n          {\r\n              sortable: false,\r\n              text: 'Ghi chú thực hiện',\r\n              align: 'left',\r\n              value: 'noiDung',\r\n              class: 'th-center'\r\n          },\r\n        ],\r\n        danhSachTienTrinh: []\r\n      }\r\n    },\r\n    created () {\r\n      let vm = this\r\n      if (!vm.isAdmin && !vm.checkRole('XEMBAOCAODONVI') && !vm.checkRole('XEMTATCABAOCAO')) {\r\n        vm.$router.push({ path: '/login'})\r\n        return\r\n      }\r\n      vm.getChiTietBaoCao()\r\n    },\r\n    watch: {\r\n      '$route': function (newRoute, oldRoute) {\r\n        let vm = this\r\n        vm.getChiTietBaoCao()\r\n      }\r\n    },\r\n    methods: {\r\n      // show chiTietBaoCao\r\n      getChiTietBaoCao () {\r\n        let vm = this\r\n        if (vm.loadingData) {\r\n          return\r\n        }\r\n        vm.loadingData = true\r\n        let filter = {\r\n          collectionName: 'baocao',\r\n          id: vm.id\r\n        }\r\n        vm.actionItems = []\r\n        vm.loadingData = true\r\n        vm.$store.dispatch('collectionDetail', filter).then(function (response) {\r\n          vm.loadingData = false\r\n          vm.chiTietBaoCao = response\r\n          vm.danhSachTienTrinh = vm.chiTietBaoCao.tienTrinh\r\n          let roleUser = vm.$cookies.get('Roles', '') ? vm.$cookies.get('Roles', '').split(',') : []\r\n          let actions = vm.chiTietBaoCao.hasOwnProperty('chiTietQuyTrinh') ? vm.chiTietBaoCao.chiTietQuyTrinh : []\r\n          if (vm.isAdmin) {\r\n            vm.actionItems = actions\r\n          } else {\r\n            for (let index = 0; index < actions.length; index++) {\r\n              let vaiTroAction = actions[index]['vaiTro']\r\n              if (vaiTroAction && vaiTroAction.length) {\r\n                for (let index2 = 0; index2 < vaiTroAction.length; index2++) {\r\n                  let element = vaiTroAction[index2]['maMuc']\r\n                  let perm = roleUser.find(function (item2) {\r\n                    return item2 == element\r\n                  })\r\n                  if (perm) {\r\n                    vm.actionItems.push(actions[index])\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          vm.getChiTietMauBaoCao(vm.chiTietBaoCao['mauBaoCao']['maDinhDanh'])\r\n        }).catch(function () {\r\n          vm.loadingData = false\r\n        })\r\n      },\r\n      // show chi tiet ra table\r\n      getChiTietMauBaoCao (key) {\r\n        let vm = this\r\n        let filter = {\r\n          collectionName: 'maubaocao',\r\n          keySearch: 'madinhdanh',\r\n          id: key\r\n        }\r\n        vm.$store.dispatch('collectionDetailSearch', filter).then(function (response) {\r\n          vm.chiTietMauBaoCao = response.resp\r\n          vm.mauNhapForm = vm.chiTietMauBaoCao.mauNhap\r\n          vm.headers = vm.chiTietMauBaoCao.mauHienThi[0]['headers']\r\n          vm.itemsPerPage = vm.chiTietMauBaoCao.mauHienThi[0].hasOwnProperty('itemsPerPage') ? vm.chiTietMauBaoCao.mauHienThi[0].itemsPerPage : 0\r\n          vm.getdanhSachThanhPhan()\r\n        }).catch(function () {\r\n        })\r\n      },\r\n      // lay danhSachThanhPhan\r\n      getdanhSachThanhPhan (type) {\r\n        let vm = this\r\n        if (type === 'reset') {\r\n          vm.total = 0\r\n          vm.pageCount = 0\r\n          vm.page = 0\r\n          // vm.resetFormTimKiem()\r\n        }\r\n        if (vm.loadingData) {\r\n          return\r\n        }\r\n        vm.loadingData = true\r\n        let filter = {\r\n          collectionName: 'thanhphanbaocao',\r\n          data: {\r\n            page: vm.page,\r\n            size: vm.itemsPerPage,\r\n            orderFields: 'baoCao_maBaoCao',\r\n            orderTypes: 'asc',\r\n            baoCao_maBaoCao: vm.chiTietBaoCao.maBaoCao\r\n          }\r\n        }\r\n        vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n          vm.danhSachThanhPhan = response.content\r\n          vm.total = response.totalElements\r\n          vm.pageCount = response.totalPages\r\n          vm.loadingData = false\r\n        }).catch(function () {\r\n          vm.loadingData = false\r\n        })\r\n      },\r\n      // click btn themMoiThanhPhan\r\n      showAddThanhPhan () {\r\n        let vm = this\r\n        if (vm.danhSachThanhPhan.length && vm.chiTietMauBaoCao.nhapNhieuThanhPhan != 'true') {\r\n          toastr.error('Không thể thêm thành phần. Loại báo cáo chỉ có 1 thành phần')\r\n          return\r\n        }\r\n        vm.readonlyForm = false\r\n        vm.dialogThemThanhPhan = true\r\n        vm.editThanhPhan = false\r\n        setTimeout(function () {\r\n          vm.$refs.formThanhPhan.initForm()\r\n          vm.$refs.formThanhPhan.resetForm()\r\n        }, 200)\r\n      },\r\n      // click btn editThanhPhan\r\n      showUpdateThanhPhan (item) {\r\n        let vm = this\r\n        vm.readonlyForm = false\r\n        vm.thanhPhanEdit = item\r\n        try {\r\n          vm.dataInput = Object.assign({}, item.noiDung)\r\n        } catch (error) {\r\n          vm.dataInput = {}\r\n        }\r\n        vm.dialogThemThanhPhan = true\r\n        vm.editThanhPhan = true\r\n        setTimeout(function () {\r\n          vm.$refs.formThanhPhan.initForm('update')\r\n        }, 200)\r\n      },\r\n      // click btn themThanhPhan\r\n      submitThemThanhPhan () {\r\n        let vm = this\r\n        let validate = vm.$refs.formThanhPhan.validateForm()\r\n        if (validate) {\r\n          vm.$refs.formThanhPhan.submitTaoBaoCao()\r\n          let formData = vm.$store.getters.getFormData\r\n          let filter = {\r\n            collectionName: 'thanhphanbaocao',\r\n            data: {\r\n              \"baoCao\": {\r\n                \"maDinhDanh\": vm.chiTietBaoCao['maDinhDanh'],\r\n                \"maBaoCao\": vm.chiTietBaoCao['maBaoCao']\r\n              },\r\n              \"mauBaoCao\": {\r\n                \"maDinhDanh\": vm.chiTietMauBaoCao.maDinhDanh,\r\n                \"maMauBaoCao\": vm.chiTietMauBaoCao.maMauBaoCao\r\n              },\r\n              \"kyBaoCao\": {\r\n                \"maMuc\": vm.chiTietBaoCao['kyBaoCao']['maMuc'],\r\n                \"tenMuc\": vm.chiTietBaoCao['kyBaoCao']['tenMuc']\r\n              },\r\n              \"noiDung\": formData\r\n            }\r\n          }\r\n          console.log('dataBaoCao', filter.data)\r\n          vm.loadingAction = true\r\n          if (!vm.editThanhPhan) {\r\n            vm.$store.dispatch('collectionCreate', filter).then(function (result) {\r\n              vm.runProcessUploadFiles(result.resp)\r\n            }).catch(function (response) {\r\n              vm.loadingAction = false\r\n              toastr.remove()\r\n              toastr.error('Thêm mới thất bại')\r\n            })\r\n          } else {\r\n            filter['id'] = vm.thanhPhanEdit.primKey\r\n            vm.$store.dispatch('collectionUpdate', filter).then(function (result) {\r\n              vm.runProcessUploadFiles(vm.thanhPhanEdit)\r\n            }).catch(function (response) {\r\n              vm.loadingAction = false\r\n              toastr.remove()\r\n              toastr.error('Cập nhật thất bại')\r\n            })\r\n          }\r\n        }\r\n      },\r\n      // click chiTietThanhPhan\r\n      showThongTinThanhPhan (item) {\r\n        let vm = this\r\n        vm.readonlyForm = true\r\n        vm.editThanhPhan = null\r\n        vm.dataInput = Object.assign({}, item.noiDung)\r\n        vm.dialogThemThanhPhan = true\r\n        setTimeout(function () {\r\n          vm.$refs.formThanhPhan.initForm('update')\r\n        }, 200)\r\n      },\r\n      exitForm () {\r\n        let vm = this\r\n        vm.$refs.formThanhPhan.resetForm()\r\n        vm.dialogThemThanhPhan = false\r\n      },\r\n      xoaThanhPhan (item) {\r\n        let vm = this\r\n        vm.$store.commit('SET_SHOWCONFIRM', true)\r\n        let confirm = {\r\n          auth: false,\r\n          title: 'Xóa thành phần',\r\n          message: 'Bạn có chắc chắn muốn xóa thành phần báo cáo này',\r\n          button: {\r\n            yes: 'Có',\r\n            no: 'Không'\r\n          },\r\n          callback: () => {\r\n            let filter = {\r\n              collectionName: 'thanhphanbaocao',\r\n              id: item.primKey\r\n            }\r\n            vm.loading = true\r\n            vm.$store.dispatch('collectionDelete', filter).then(function (result) {\r\n              vm.loading = false\r\n              toastr.remove()\r\n              toastr.success('Xóa thành phần thành công')\r\n              vm.getdanhSachThanhPhan()\r\n            }).catch(function (response) {\r\n              vm.loading = false\r\n              toastr.remove()\r\n              toastr.error('Xóa thành phần thất bại')\r\n            })\r\n          }\r\n        }\r\n        vm.$store.commit('SET_CONFIG_CONFIRM_DIALOG', confirm)\r\n      },\r\n      showDoAction (item) {\r\n        let vm = this\r\n        vm.actionSelected = item\r\n        vm.dialogDoAction = true\r\n        vm.ghiChuDoAction = ''\r\n      },\r\n      doAction (item) {\r\n        let vm = this\r\n        vm.loadingAction = true\r\n        let userInfo = vm.$cookies.get('UserInfo', '')\r\n        let filter = {\r\n          id: vm.chiTietBaoCao.primKey,\r\n          collectionName: 'baocao',\r\n          data: Object.assign(vm.chiTietBaoCao, {\r\n            \"tinhTrang\": {\r\n              \"maMuc\": item.maTrangThai,\r\n              \"tenMuc\": item.tenTrangThai\r\n            },\r\n            \"tienTrinh\": {\r\n              \"hoVaTen\": userInfo ? userInfo.hoVaTen : '',\r\n              \"thoiGianCapNhat\": (new Date()).toISOString(),\r\n              \"hanhDong\": item.tenHanhDong,\r\n              \"maHanhDong\": item.maHanhDong,\r\n              \"noiDung\": String(vm.ghiChuDoAction).trim()\r\n            }\r\n          })\r\n        }\r\n        vm.$store.dispatch('collectionUpdate', filter).then(function (result) {\r\n          vm.loadingAction = false\r\n          toastr.remove()\r\n          toastr.success('Thực hiện thành công')\r\n          vm.dialogDoAction = false\r\n          vm.$router.push({ path: '/bao-cao/' + vm.type})\r\n        }).catch(function () {\r\n          vm.loadingAction = false\r\n          vm.dialogDoAction = false\r\n          toastr.remove()\r\n          toastr.error('Thực hiện thất bại')\r\n        })\r\n      },\r\n      checkRoleAction (role) {\r\n        let vm = this\r\n        let roleUser = vm.$cookies.get('Roles', '')\r\n        if (!role || !roleUser) {\r\n          return false\r\n        }\r\n        let roles = roleUser.split(',')\r\n        let exits = roles.find(function (item) {\r\n          return item == role\r\n        })\r\n        if (exits) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      uploadFiles (index) {\r\n        let vm = this\r\n        let files = ''\r\n        try {\r\n          files = $('#file_upload')[0].files\r\n        } catch (error) {\r\n        }\r\n        let file = files[index]\r\n        let fileName = file['name']\r\n        if (file['name']) {\r\n          fileName = file['name'].replace(/\\%/g, '')\r\n          fileName = fileName.replace(/\\//g, '')\r\n          fileName = fileName.replace(/\\\\/g, '')\r\n        }\r\n        let formData = new FormData()\r\n        formData.append('id', vm.thanhPhanEdit.primKey)\r\n        formData.append('files', file, fileName)\r\n\r\n        axios.post('/v1/datasharing/thanhphanbaocao/upload', formData, {\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'multipart/form-data; boundary=<calculated when request is sent>'\r\n          }\r\n        }).then(function (response) {\r\n          let files = ''\r\n          try {\r\n            files = $('#file_upload')[0].files\r\n          } catch (error) {\r\n          }\r\n          let file = files[index + 1]\r\n          if (!file) {\r\n            vm.loadingAction = false\r\n            vm.dialogThemThanhPhan = false\r\n            toastr.remove()\r\n            toastr.success('Thực hiện thành công')\r\n            vm.getdanhSachThanhPhan()\r\n            return\r\n          } else {\r\n            vm.uploadFiles(index + 1)\r\n          }\r\n        }).catch(function (xhr) {\r\n          toastr.clear()\r\n          toastr.error('Tài liệu ' + fileName + ' tải lên không thành công. Vui lòng kiểm tra lại.')\r\n          let files = ''\r\n          try {\r\n            files = $('#file_upload')[0].files\r\n          } catch (error) {\r\n          }\r\n          let file = files[index + 1]\r\n          if (!file) {\r\n            vm.loadingAction = false\r\n            vm.dialogThemThanhPhan = false\r\n            toastr.remove()\r\n            toastr.success('Thực hiện thành công')\r\n            vm.getdanhSachThanhPhan()\r\n            return\r\n          } else {\r\n            vm.uploadFiles(index + 1)\r\n          }\r\n        })\r\n      },\r\n      runProcessUploadFiles () {\r\n        let vm = this\r\n        let files = ''\r\n        try {\r\n          files = $('#file_upload')[0].files\r\n        } catch (error) {\r\n        }\r\n        let count = files.length\r\n        if (count) {\r\n          vm.uploadFiles(0)\r\n        } else {\r\n          vm.loadingAction = false\r\n          vm.dialogThemThanhPhan = false\r\n          toastr.remove()\r\n          toastr.success('Thực hiện thành công')\r\n          vm.getdanhSachThanhPhan()\r\n        }\r\n      },\r\n      viewHistory () {\r\n        let vm = this\r\n        vm.dialogLichSu = true\r\n      },\r\n      convertDataView (itemHeader, item) {\r\n        let output = ''\r\n        try {\r\n          let calu = itemHeader['calculator'].replace(/dataInput/g, 'item')\r\n          output = eval(calu)\r\n        } catch (error) {\r\n          output = ''\r\n        }\r\n        return output\r\n      },\r\n      convertDataArray (itemHeader, array) {\r\n        let output = ''\r\n        if (array) {\r\n          output = Array.from(array, function (item) {\r\n            return item[itemHeader['mapping']]\r\n          })\r\n        }\r\n        output = output.toString().replace(/,/g, ', ')\r\n        return output\r\n      },\r\n      getStatus(danhTinhDienTu) {\r\n        return danhTinhDienTu[0] ? danhTinhDienTu[0].tinhTrangSuDungTaiKhoan['tenMuc'] : 'Chưa tạo tài khoản'\r\n      },\r\n      getColor (danhTinhDienTu) {\r\n        let status = danhTinhDienTu[0] ? String(danhTinhDienTu[0].tinhTrangSuDungTaiKhoan['MaMuc']) : '0'\r\n        switch(status) {\r\n          case '1':\r\n              return 'color: blue'\r\n          case '2':\r\n              return 'color: green'\r\n          case '3':\r\n            return 'color: orange'\r\n          case '4':\r\n            return 'color: red'\r\n          default:\r\n            return 'color: black'\r\n        }\r\n      },\r\n      currency (value) {\r\n        if (value) {\r\n          let moneyCur = (value / 1).toFixed(0).replace('.', ',')\r\n          return moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n        }\r\n        return ''\r\n      },\r\n      dateLocale (dateInput) {\r\n        if (!dateInput) {\r\n          return ''\r\n        }\r\n        let date = new Date(dateInput)\r\n        return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`\r\n      },\r\n      dateLocaleTime (dateInput) {\r\n        let date = new Date(dateInput)\r\n        return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\r\n      },\r\n      changePage (config) {\r\n        let vm = this\r\n        vm.page = config.page\r\n        vm.getdanhSachThanhPhan()\r\n      },\r\n      resetFormTimKiem () {\r\n        let vm = this\r\n        vm.$refs.formTimKiem.reset()\r\n        vm.$refs.formTimKiem.resetValidation()\r\n      },\r\n      changeDate(index) {\r\n        let vm = this\r\n        vm.menuDate1 = false\r\n        if (index === '1') {\r\n          vm.fromReceiveDateFormatted = vm.formatDate(vm.fromReceiveDate)\r\n        } else if (index === '2') {\r\n          vm.toReceiveDateFormatted = vm.formatDate(vm.toReceiveDate)\r\n        }\r\n      },\r\n      formatDate(date) {\r\n        if (!date) return ''\r\n        const [year, month, day] = date.split('-')\r\n        return `${day}/${month}/${year}`\r\n      },\r\n      parseDate(date) {\r\n        if (!date) return ''\r\n        if (String(date).indexOf('/') > 0) {\r\n          const [day, month, year] = date.split('/')\r\n          return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n        } else if (String(date).indexOf('-') > 0) {\r\n          const [day, month, year] = date.split('-')\r\n          return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n        } else {\r\n          let date1 = new Date(Number(date))\r\n          return `${date1.getFullYear()}-${(date1.getMonth() + 1).toString().padStart(2, '0')}-${date1.getDate().toString().padStart(2, '0')}`\r\n        }\r\n      },\r\n      getMinMax (date) {\r\n        if (!date) return null\r\n        const [day, month, year] = date.split('/')\r\n        return `${year}-${month}-${day}`\r\n      },\r\n      goBack () {\r\n        window.history.back()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  .bao-cao-1 {\r\n    width: 300px;\r\n    max-width: 235px;\r\n    /* border-bottom: 1px solid #DDDDDD; */\r\n  }\r\n  .bao-cao-1 .v-list {\r\n    padding-top: 0px;\r\n  }\r\n  .nav-content {\r\n    border-right: 1px solid #DDDDDD;\r\n    box-sizing: border-box;\r\n    // border-radius: 7px;\r\n    height: 100%;\r\n  }\r\n</style>"]}]}
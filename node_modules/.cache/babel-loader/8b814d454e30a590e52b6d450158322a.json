{"remainingRequest":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js!F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vuejs-sourcode\\undp-bgt\\src\\views\\MauThongKe.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vuejs-sourcode\\undp-bgt\\src\\views\\MauThongKe.vue","mtime":1665464457741},{"path":"F:\\vuejs-sourcode\\undp-bgt\\babel.config.js","mtime":1665053037768},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053119199},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665053118014},{"path":"F:\\vuejs-sourcode\\undp-bgt\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053120378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi9QYWdpbmF0aW9uLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmFvQ2FvJywKICBjb21wb25lbnRzOiB7CiAgICBQYWdpbmF0aW9uCiAgfSwKICBwcm9wczogWydpZCddLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nQ2hvbk1hdUJhb0NhbzogdHJ1ZSwKICAgICAgZGFuaFNhY2hOaG9tQmFvQ2FvOiBbXSwKICAgICAgbmhvbUJhb0NhbzogJycsCiAgICAgIGRhbmhTYWNoTWF1QmFvQ2FvOiBbXSwKICAgICAgbWF1QmFvQ2FvOiAnJywKICAgICAgZGFuaFNhY2hCYW9DYW86IFtdLAogICAgICBzZWFyY2hGb3JtOiBbXSwKICAgICAgdmFsaWRGb3JtQWRkOiBmYWxzZSwKICAgICAgZGF0YToge30sCiAgICAgIHBhZ2U6IDAsCiAgICAgIGl0ZW1zUGVyUGFnZTogMCwKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VDb3VudDogMCwKICAgICAgbG9hZGluZ0RhdGE6IGZhbHNlLAogICAgICBkYW5oU2FjaFRoYW5oUGhhbjogW10sCiAgICAgIGhlYWRlcnM6IFtdCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBsZXQgdm0gPSB0aGlzOwoKICAgIGlmICghdm0uaXNBZG1pbiAmJiAhdm0uY2hlY2tSb2xlKCdYRU1CQU9DQU9ET05WSScpICYmICF2bS5jaGVja1JvbGUoJ1hFTVRBVENBQkFPQ0FPJykpIHsKICAgICAgdm0uJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZtLmxvYWREdUxpZXVNYXVUaG9uZ0tlKCk7CiAgICB2bS5nZXREYW5oTXVjKCdOSE9NQkFPQ0FPJyk7CiAgICB2bS5nZXREYW5oU2FjaE1hdUJhb0NhbygpOwogIH0sCgogIHdhdGNoOiB7CiAgICAnJHJvdXRlJzogZnVuY3Rpb24gKG5ld1JvdXRlLCBvbGRSb3V0ZSkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS5sb2FkRHVMaWV1TWF1VGhvbmdLZSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGFuaE11Yyhjb2xsZWN0aW9uKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgY29sbGVjdGlvbk5hbWU6ICdkdWxpZXVkYW5obXVjJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBvcmRlckZpZWxkczogJ21hTXVjJywKICAgICAgICAgIG9yZGVyVHlwZXM6ICdhc2MnLAogICAgICAgICAgcGFnZTogMCwKICAgICAgICAgIHNpemU6IDEwMDAsCiAgICAgICAgICBkYW5oTXVjX21hRGFuaE11YzogY29sbGVjdGlvbgogICAgICAgIH0KICAgICAgfTsKICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRmlsdGVyJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChjb2xsZWN0aW9uID09PSAnTkhPTUJBT0NBTycpIHsKICAgICAgICAgIHZtLmRhbmhTYWNoTmhvbUJhb0NhbyA9IHJlc3BvbnNlLmNvbnRlbnQ7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAoKICAgIGdldERhbmhTYWNoTWF1QmFvQ2FvKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBsZXQgZmlsdGVyID0gewogICAgICAgIGNvbGxlY3Rpb25OYW1lOiAnbWF1YmFvY2FvJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBvcmRlckZpZWxkczogJ3RlbkdvaScsCiAgICAgICAgICBvcmRlclR5cGVzOiAnYXNjJywKICAgICAgICAgIG5ob21CYW9DYW9fbWFNdWM6IHZtLm5ob21CYW9DYW8gPyB2bS5uaG9tQmFvQ2FvLm1hTXVjIDogJycsCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgc2l6ZTogMTAwMAogICAgICAgIH0KICAgICAgfTsKICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRmlsdGVyJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLmRhbmhTYWNoTWF1QmFvQ2FvID0gcmVzcG9uc2UuY29udGVudDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKCiAgICBsb2FkRHVMaWV1TWF1VGhvbmdLZSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgY29uc29sZS5sb2codHlwZW9mIHZtLmlkKTsgLy8gaWYgKHZtLmlkICE9PSAxMCkgewogICAgICAvLyAgIGNvbnNvbGUubG9nKHZtLmlkKQogICAgICAvLyAgIHZtLmRpYWxvZ0Nob25NYXVCYW9DYW8gPSBmYWxzZQogICAgICAvLyAgIHZtLmdldER1TGlldU1hdVRob25nS2VUaGVvS2V5KHZtLmlkKQogICAgICAvLyAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAvLyAgICAgdm0uaW5pdEZvcm0oKQogICAgICAvLyAgIH0sIDIwMCkKICAgICAgLy8gfQogICAgfSwKCiAgICBnZXREdUxpZXVNYXVUaG9uZ0tlKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS5nZXREdUxpZXVNYXVUaG9uZ0tlVGhlb0tleSh2bS5tYXVCYW9DYW8ubWFEaW5oRGFuaCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZtLmluaXRGb3JtKCk7CiAgICAgIH0sIDIwMCk7CiAgICAgIHZtLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy90aG9uZy1rZS1tYXUtYmFvLWNhby8nICsgdm0ubWF1QmFvQ2FvLm1hRGluaERhbmgKICAgICAgfSk7CiAgICAgIHZtLmRpYWxvZ0Nob25NYXVCYW9DYW8gPSBmYWxzZTsKICAgIH0sCgogICAgZ2V0RHVMaWV1TWF1VGhvbmdLZVRoZW9LZXkoa2V5KSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBmaWx0ZXIgPSB7CiAgICAgICAgY29sbGVjdGlvbk5hbWU6ICdtYXViYW9jYW8nLAogICAgICAgIGtleVNlYXJjaDogJ21hZGluaGRhbmgnLAogICAgICAgIGlkOiBrZXkKICAgICAgfTsKICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCdjb2xsZWN0aW9uRGV0YWlsU2VhcmNoJywgZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLnRob25nS2VNYXVCYW9DYW8gPSByZXNwb25zZS5yZXNwOwogICAgICAgIHZtLmhlYWRlcnMgPSB2bS50aG9uZ0tlTWF1QmFvQ2FvLm1hdVRob25nS2VbMF0ubGlzdFZpZXdbMF1bJ2hlYWRlcnMnXTsKICAgICAgICB2bS5zZWFyY2hGb3JtID0gdm0udGhvbmdLZU1hdUJhb0Nhby5tYXVUaG9uZ0tlWzBdWydzZWFyY2hGb3JtJ107CiAgICAgICAgdm0uaXRlbXNQZXJQYWdlID0gdm0uY2hpVGlldE1hdUJhb0Nhby5tYXVIaWVuVGhpWzBdLmhhc093blByb3BlcnR5KCdpdGVtc1BlclBhZ2UnKSA/IHZtLmNoaVRpZXRNYXVCYW9DYW8ubWF1SGllblRoaVswXS5pdGVtc1BlclBhZ2UgOiAwOwogICAgICAgIHZtLmdldGRhbmhTYWNoVGhhbmhQaGFuKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCgogICAgaW5pdEZvcm0oa2V5KSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CgogICAgICBmb3IgKGxldCBrZXkgaW4gdm0uc2VhcmNoRm9ybSkgewogICAgICAgIGxldCBpdGVtRGF0YSA9IHZtLnNlYXJjaEZvcm1ba2V5XTsKCiAgICAgICAgaWYgKGl0ZW1EYXRhWyd0eXBlJ10gPT09ICdzZWxlY3QnICYmIGl0ZW1EYXRhLmhhc093blByb3BlcnR5KCdhcGknKSAmJiBpdGVtRGF0YVsnYXBpJ10pIHsKICAgICAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgnbG9hZERhdGFTb3VyY2UnLCBpdGVtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGxldCByZXN1bHREYXRhID0gaXRlbURhdGFbJ3Jlc3BvbnNlRGF0YUFwaSddID8gcmVzdWx0W2l0ZW1EYXRhWydyZXNwb25zZURhdGFBcGknXV0gOiByZXN1bHQ7CiAgICAgICAgICAgIHZtLiRzZXQodm0uc2VhcmNoRm9ybVtrZXldLCAnZGF0YVNvdXJjZScsIHJlc3VsdERhdGEpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AAEA;EACAA,cADA;EAEAC;IACAC;EADA,CAFA;EAKAC,aALA;;EAMAC;IACA;MACAC,yBADA;MAEAC,sBAFA;MAGAC,cAHA;MAIAC,qBAJA;MAKAC,aALA;MAMAC,kBANA;MAOAC,cAPA;MAQAC,mBARA;MASAR,QATA;MAUAS,OAVA;MAWAC,eAXA;MAYAC,QAZA;MAaAC,YAbA;MAcAC,kBAdA;MAeAC,qBAfA;MAgBAC;IAhBA;EAkBA,CAzBA;;EA0BAC;IACA;;IACA;MACAC;QAAAC;MAAA;MACA;IACA;;IACAD;IACAA;IACAA;EACA,CAnCA;;EAoCAE;IACA;MACA;MACAF;IACA;EAJA,CApCA;EA0CAG;IACAC;MACA;MACA;QACAC,+BADA;QAEAtB;UACAuB,oBADA;UAEAC,iBAFA;UAGAf,OAHA;UAIAgB,UAJA;UAKAC;QALA;MAFA;MAUAT;QACA;UACAA;QACA;MACA,CAJA,EAIAU,KAJA,CAIA,aACA,CALA;IAMA,CAnBA;;IAoBAC;MACA;MACA;QACAN,2BADA;QAEAtB;UACAuB,qBADA;UAEAC,iBAFA;UAGAK,0DAHA;UAIApB,OAJA;UAKAgB;QALA;MAFA;MAUAR;QACAA;MACA,CAFA,EAEAU,KAFA,CAEA,aACA,CAHA;IAIA,CApCA;;IAqCAG;MACA;MACAC,0BAFA,CAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAhDA;;IAiDAC;MACA;MACAf;MACAgB;QACAhB;MACA,CAFA,EAEA,GAFA;MAGAA;QAAAC;MAAA;MACAD;IACA,CAzDA;;IA0DAiB;MACA;MACA;QACAZ,2BADA;QAEAa,uBAFA;QAGAC;MAHA;MAKAnB;QACAA;QACAA;QACAA;QACAA;QACAA;MACA,CANA,EAMAU,KANA,CAMA,aACA,CAPA;IAQA,CAzEA;;IA0EAU;MACA;;MACA;QACA;;QACA;UACApB;YACA;YACAA;UACA,CAHA,EAGAU,KAHA,CAGA,cAHA;QAIA;MAEA;IACA;;EAtFA;AA1CA","names":["name","components","Pagination","props","data","dialogChonMauBaoCao","danhSachNhomBaoCao","nhomBaoCao","danhSachMauBaoCao","mauBaoCao","danhSachBaoCao","searchForm","validFormAdd","page","itemsPerPage","total","pageCount","loadingData","danhSachThanhPhan","headers","created","vm","path","watch","methods","getDanhMuc","collectionName","orderFields","orderTypes","size","danhMuc_maDanhMuc","catch","getDanhSachMauBaoCao","nhomBaoCao_maMuc","loadDuLieuMauThongKe","console","getDuLieuMauThongKe","setTimeout","getDuLieuMauThongKeTheoKey","keySearch","id","initForm"],"sourceRoot":"src/views","sources":["MauThongKe.vue"],"sourcesContent":["<template>\r\n    <v-card\r\n      class=\"mx-auto pa-3\"\r\n      style=\"padding-bottom: 36px !important\"\r\n      flat\r\n    >   \r\n        <!-- title: Thống Kê Mẫu Báo Cáo -->\r\n        <v-row justify=\"end\" class=\"mt-0 mb-0 mx-0\" style=\"border-bottom: 1px solid #2161B1\">\r\n            <v-col class=\"d-flex align-center justify-start py-0 pl-0\" style=\"max-width: 300px;color: #2161B1;font-weight: 500;margin-bottom: -1px;\">\r\n                <div class=\"header-content \">\r\n                    Thống kê mẫu báo cáo\r\n                </div>\r\n                <div class=\"triangle-header\"></div>\r\n            </v-col>\r\n            <v-spacer></v-spacer>\r\n        </v-row>\r\n        \r\n        <!-- form: searchForm  -->\r\n        <v-form\r\n            ref=\"formThanhPhan\"\r\n            lazy-validation\r\n            class=\"mt-2\"\r\n        >\r\n            <v-layout wrap >\r\n                <div v-for=\"(item, index) in searchForm\" v-bind:key=\"index\" :class=\"item['fieldClass']\" class=\"py-0 mb-2\" >\r\n                  <label>{{item['title']}}</label>    \r\n                    <v-text-field\r\n                        v-if=\"item.type === 'textfield'\"\r\n                        class=\"flex input-form\"\r\n                        v-model=\"data[item['name']]\"\r\n                        :placeholder=\"item['placeHolder']\"\r\n                        solo\r\n                        dense\r\n                        hide-details=\"auto\"\r\n                        :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n                    ></v-text-field>\r\n                    <v-autocomplete\r\n                        v-if=\"item.type === 'select' && item['api']\"\r\n                        class=\"flex input-form\"\r\n                        hide-no-data\r\n                        v-model=\"data[item['name']]\"\r\n                        :items=\"item.dataSource\"\r\n                        :multiple=\"item['multiple']\"\r\n                        :item-text=\"item.itemText\"\r\n                        :item-value=\"item.itemValue\"\r\n                        dense\r\n                        solo\r\n                        hide-details=\"auto\"\r\n                        return-object\r\n                        :rules=\"item.required ? [v => (v !== '' && v !== null && v !== undefined) || 'Thông tin bắt buộc'] : []\"\r\n                    >\r\n                    </v-autocomplete>\r\n                </div>\r\n            </v-layout>\r\n\r\n            <v-row class=\"my-0 pr-3\">\r\n              <v-col cols=\"12\" class=\"d-flex align-center justify-end py-3 pb-0 my-0 pr-3\" >\r\n                <v-btn color=\"primary\" depressed small class=\"mx-0 text-white\" @click=\"\">\r\n                  <v-icon size=\"18\">mdi-magnify</v-icon>&nbsp;\r\n                  Tìm kiếm\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n\r\n        </v-form>\r\n        \r\n        <!-- table: render headers từ listViews -->\r\n        <v-row class=\"my-0 py-0 pt-3\">\r\n            <v-col cols=\"12\"  class=\"pt-0\">\r\n              <v-data-table\r\n                :headers=\"headers\"\r\n                :items=\"danhSachThanhPhan\"\r\n                :items-per-page=\"itemsPerPage\"\r\n                item-key=\"primKey\"\r\n                hide-default-footer\r\n                class=\"table-base mt-2\"\r\n                no-data-text=\"Không có\"\r\n                :loading=\"loadingData\"\r\n                loading-text=\"Đang tải... \"\r\n              >\r\n                <template v-slot:body=\"{ items, headers}\">\r\n                  <tbody>\r\n                    <tr v-for=\"(item, index) in items\" :key=\"index\" @click=\"showThongTinThanhPhan(item)\">\r\n                      <td v-for=\"(itemHeader, indexHeader) in headers\" :key=\"indexHeader\" :class=\"itemHeader['class']\" :width=\"itemHeader.hasOwnProperty('width') ? itemHeader.width : ''\">\r\n                        <div v-if=\"itemHeader.type == 'index'\">\r\n                          <div v-if=\"itemsPerPage\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">{{ (page+1) * itemsPerPage - itemsPerPage + index + 1 }}</div>\r\n                          <div v-else :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">{{ index + 1 }}</div>\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'date'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? dateLocale(item['noiDung'][itemHeader.value]) : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'datetime'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? dateLocaleTime(item['noiDung'][itemHeader.value]) : ''}}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'object'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? item['noiDung'][itemHeader.value][itemHeader.mapping] : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'money'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? currency(item['noiDung'][itemHeader.value]) : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'array'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'].hasOwnProperty(itemHeader.value) ? convertDataArray(itemHeader, item['noiDung'][itemHeader.value]) : '' }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'calculator'\" :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ convertDataView(itemHeader, item['noiDung']) }}\r\n                        </div>\r\n                        <div v-else-if=\"itemHeader.type == 'action'\">\r\n                          <v-tooltip top >\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-btn @click.stop=\"showThongTinThanhPhan(item)\" color=\"#2161b1\" text icon class=\" mr-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-icon size=\"18\">mdi-file-document-multiple-outline</v-icon>\r\n                              </v-btn>\r\n                            </template>\r\n                            <span>Chi tiết thành phần</span>\r\n                          </v-tooltip>\r\n                          <v-tooltip top v-if=\"isAdmin || checkRole('CAPNHATBAOCAO')\">\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-btn @click.stop=\"showUpdateThanhPhan(item)\" color=\"#2161b1\" text icon class=\" mr-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-icon size=\"18\">mdi-pencil</v-icon>\r\n                              </v-btn>\r\n                            </template>\r\n                            <span>Sửa</span>\r\n                          </v-tooltip>\r\n                          <v-tooltip top v-if=\"isAdmin || checkRole('CAPNHATBAOCAO')\">\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-btn @click.stop=\"xoaThanhPhan(item)\" color=\"red\" text icon class=\"\" v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-icon size=\"18\">mdi-delete</v-icon>\r\n                              </v-btn>\r\n                            </template>\r\n                            <span>Xóa</span>\r\n                          </v-tooltip>\r\n                        </div>\r\n                        <div v-else :style=\"itemHeader.hasOwnProperty('style') ? itemHeader.style : ''\">\r\n                          {{ item['noiDung'][itemHeader.value] }}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </template>\r\n              </v-data-table>\r\n              <pagination v-if=\"pageCount\" :pageInput=\"page\" :total=\"total\" :pageCount=\"pageCount\" @tiny:change-page=\"changePage\"></pagination>\r\n            </v-col>\r\n        </v-row>\r\n\r\n        <!--diaglog: popup lọc mẫu theo Loại & Mẫu -->\r\n        <v-dialog\r\n            max-width=\"900\"\r\n            v-model=\"dialogChonMauBaoCao\"\r\n            persistent\r\n            >\r\n            <v-card>\r\n                <v-toolbar\r\n                dark\r\n                color=\"primary\" class=\"px-3\"\r\n                >\r\n                    <v-toolbar-title>Chọn mẫu Báo Cáo</v-toolbar-title>\r\n                    <v-spacer></v-spacer>\r\n                    <v-toolbar-items>\r\n                        <v-btn\r\n                        small\r\n                        icon\r\n                        dark\r\n                        @click=\"dialogChonMauBaoCao = false\"\r\n                        >\r\n                        <v-icon>mdi-close</v-icon>\r\n                        </v-btn>\r\n                    </v-toolbar-items>\r\n                </v-toolbar>\r\n                \r\n                <v-card-text class=\"mt-5 px-2\">\r\n                    <v-form\r\n                        ref=\"formAddToChuc\"\r\n                        lazy-validation\r\n                    >\r\n                        <v-layout wrap>\r\n                            <v-col cols=\"12\" md=\"12\" class=\"py-0 mb-2\">\r\n                                <label>Loại báo cáo</label>\r\n                                <v-autocomplete\r\n                                    class=\"flex input-form mt-2\"\r\n                                    hide-no-data\r\n                                    label=\"Chọn loại báo cáo\"\r\n                                    :items=\"danhSachNhomBaoCao\"\r\n                                    v-model=\"nhomBaoCao\"\r\n                                    item-text=\"tenMuc\"\r\n                                    item-value=\"maMuc\"\r\n                                    dense\r\n                                    solo\r\n                                    hide-details=\"auto\"\r\n                                    clearable\r\n                                    return-object\r\n                                    @change=\"getDanhSachMauBaoCao\"\r\n\r\n                                >\r\n                                </v-autocomplete>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" md=\"12\" class=\"py-0 mb-2\">\r\n                                <label>Mẫu báo cáo</label>\r\n                                <v-autocomplete\r\n                                class=\"flex input-form mt-2\"\r\n                                hide-no-data\r\n                                label=\"Chọn mẫu báo cáo\"\r\n                                :items=\"danhSachMauBaoCao\"\r\n                                v-model=\"mauBaoCao\"\r\n                                item-text=\"tenGoi\"\r\n                                item-value=\"maMauBaoCao\"\r\n                                dense\r\n                                solo\r\n                                hide-details=\"auto\"\r\n                                clearable\r\n                                return-object\r\n                                >\r\n                                </v-autocomplete>\r\n                            </v-col>\r\n                        </v-layout>\r\n                    </v-form>\r\n                </v-card-text>\r\n                \r\n                <v-card-actions class=\"justify-end pb-3\">                    \r\n                    <v-btn small class=\"mr-2\" color=\"primary\" @click=\"getDuLieuMauThongKe()\">\r\n                        <v-icon left>\r\n                            mdi-image-filter-center-focus-weak\r\n                        </v-icon>\r\n                        <span>Lọc mẫu</span>\r\n                    </v-btn>\r\n                </v-card-actions>\r\n\r\n            </v-card>\r\n        </v-dialog>\r\n\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from './Pagination.vue'\r\n\r\nexport default {\r\n    name: 'BaoCao',\r\n    components: {\r\n      Pagination,\r\n    },\r\n    props: ['id'],\r\n    data() {\r\n        return {\r\n            dialogChonMauBaoCao: true,\r\n            danhSachNhomBaoCao: [],\r\n            nhomBaoCao: '',\r\n            danhSachMauBaoCao: [],\r\n            mauBaoCao: '',\r\n            danhSachBaoCao: [],\r\n            searchForm: [],\r\n            validFormAdd: false,\r\n            data: {},\r\n            page: 0,\r\n            itemsPerPage: 0,\r\n            total: 0,\r\n            pageCount: 0,\r\n            loadingData: false,\r\n            danhSachThanhPhan: [],\r\n            headers: [],\r\n        }\r\n    },\r\n    created () {\r\n        let vm = this\r\n        if (!vm.isAdmin && !vm.checkRole('XEMBAOCAODONVI') && !vm.checkRole('XEMTATCABAOCAO')) {\r\n          vm.$router.push({ path: '/login'})\r\n          return\r\n        }\r\n        vm.loadDuLieuMauThongKe()\r\n        vm.getDanhMuc('NHOMBAOCAO')  \r\n        vm.getDanhSachMauBaoCao()    \r\n    },\r\n    watch: {\r\n        '$route': function (newRoute, oldRoute) {\r\n          let vm = this\r\n          vm.loadDuLieuMauThongKe()\r\n        }\r\n    },\r\n    methods: {\r\n      getDanhMuc (collection) {\r\n      let vm = this\r\n      let filter = {\r\n        collectionName: 'dulieudanhmuc',\r\n        data: {\r\n          orderFields: 'maMuc',\r\n          orderTypes: 'asc',\r\n          page: 0,\r\n          size: 1000,\r\n          danhMuc_maDanhMuc: collection\r\n        }\r\n      }\r\n      vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n        if (collection === 'NHOMBAOCAO') {\r\n          vm.danhSachNhomBaoCao = response.content\r\n        }\r\n      }).catch(function () {\r\n      })\r\n      },\r\n      getDanhSachMauBaoCao () {\r\n          let vm = this\r\n          let filter = {\r\n          collectionName: 'maubaocao',\r\n          data: {\r\n              orderFields: 'tenGoi',\r\n              orderTypes: 'asc',\r\n              nhomBaoCao_maMuc: vm.nhomBaoCao ? vm.nhomBaoCao.maMuc : '',\r\n              page: 0,\r\n              size: 1000,\r\n          }\r\n          }\r\n          vm.$store.dispatch('collectionFilter', filter).then(function (response) {\r\n              vm.danhSachMauBaoCao = response.content\r\n          }).catch(function () {\r\n          })\r\n      },\r\n      loadDuLieuMauThongKe() {\r\n        let vm = this\r\n        console.log(typeof vm.id)\r\n        // if (vm.id !== 10) {\r\n        //   console.log(vm.id)\r\n        //   vm.dialogChonMauBaoCao = false\r\n        //   vm.getDuLieuMauThongKeTheoKey(vm.id)\r\n        //   setTimeout(function () {\r\n        //     vm.initForm()\r\n        //   }, 200)\r\n        // }\r\n      },\r\n      getDuLieuMauThongKe () {\r\n          let vm = this\r\n          vm.getDuLieuMauThongKeTheoKey(vm.mauBaoCao.maDinhDanh)\r\n          setTimeout(function () {\r\n            vm.initForm()\r\n          }, 200)\r\n          vm.$router.push({ path: '/thong-ke-mau-bao-cao/' + vm.mauBaoCao.maDinhDanh})\r\n          vm.dialogChonMauBaoCao = false\r\n      },\r\n      getDuLieuMauThongKeTheoKey (key) {\r\n          let vm = this\r\n          let filter = {\r\n            collectionName: 'maubaocao',\r\n            keySearch: 'madinhdanh',\r\n            id: key,\r\n          }\r\n          vm.$store.dispatch('collectionDetailSearch', filter).then(function (response) {\r\n            vm.thongKeMauBaoCao = response.resp\r\n            vm.headers = vm.thongKeMauBaoCao.mauThongKe[0].listView[0]['headers']\r\n            vm.searchForm = vm.thongKeMauBaoCao.mauThongKe[0]['searchForm']\r\n            vm.itemsPerPage = vm.chiTietMauBaoCao.mauHienThi[0].hasOwnProperty('itemsPerPage') ? vm.chiTietMauBaoCao.mauHienThi[0].itemsPerPage : 0\r\n            vm.getdanhSachThanhPhan()\r\n          }).catch(function () {\r\n          })\r\n      },\r\n      initForm (key) {\r\n        let vm = this\r\n        for (let key in vm.searchForm) {\r\n          let itemData = vm.searchForm[key]\r\n          if (itemData['type'] === 'select' && itemData.hasOwnProperty('api') && itemData['api']) {\r\n            vm.$store.dispatch('loadDataSource', itemData).then(function(result) {\r\n              let resultData = itemData['responseDataApi'] ? result[itemData['responseDataApi']] : result\r\n              vm.$set(vm.searchForm[key], 'dataSource', resultData)\r\n            }).catch(function(){})\r\n          }\r\n\r\n        }\r\n      },\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .bao-cao-1 {\r\n    width: 300px;\r\n    max-width: 235px;\r\n    /* border-bottom: 1px solid #DDDDDD; */\r\n  }\r\n  .bao-cao-1 .v-list {\r\n    padding-top: 0px;\r\n  }\r\n  .nav-content {\r\n    border-right: 1px solid #DDDDDD;\r\n    box-sizing: border-box;\r\n    // border-radius: 7px;\r\n    height: 100%;\r\n  }\r\n</style>\r\n"]}]}